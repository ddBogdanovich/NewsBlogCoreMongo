{"Headers":{"Last-Modified":"Wed, 05 Dec 2018 02:14:24 GMT","X-Content-Type-Options":"nosniff"},"Body":"LyohCiAqIEJvb3RzdHJhcCB2My4zLjcgKGh0dHA6Ly9nZXRib290c3RyYXAuY29tKQogKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy4KICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlCiAqLwppZih0eXBlb2YgalF1ZXJ5PT0idW5kZWZpbmVkIil0aHJvdyBuZXcgRXJyb3IoIkJvb3RzdHJhcCdzIEphdmFTY3JpcHQgcmVxdWlyZXMgalF1ZXJ5Iik7K2Z1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0Ijt2YXIgdD1uLmZuLmpxdWVyeS5zcGxpdCgiICIpWzBdLnNwbGl0KCIuIik7aWYodFswXTwyJiZ0WzFdPDl8fHRbMF09PTEmJnRbMV09PTkmJnRbMl08MXx8dFswXT4zKXRocm93IG5ldyBFcnJvcigiQm9vdHN0cmFwJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnkgdmVyc2lvbiAxLjkuMSBvciBoaWdoZXIsIGJ1dCBsb3dlciB0aGFuIHZlcnNpb24gNCIpO30oalF1ZXJ5KTsrZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQoKXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJib290c3RyYXAiKSxuPXtXZWJraXRUcmFuc2l0aW9uOiJ3ZWJraXRUcmFuc2l0aW9uRW5kIixNb3pUcmFuc2l0aW9uOiJ0cmFuc2l0aW9uZW5kIixPVHJhbnNpdGlvbjoib1RyYW5zaXRpb25FbmQgb3RyYW5zaXRpb25lbmQiLHRyYW5zaXRpb246InRyYW5zaXRpb25lbmQifTtmb3IodmFyIHQgaW4gbilpZihpLnN0eWxlW3RdIT09dW5kZWZpbmVkKXJldHVybntlbmQ6blt0XX07cmV0dXJuITF9bi5mbi5lbXVsYXRlVHJhbnNpdGlvbkVuZD1mdW5jdGlvbih0KXt2YXIgaT0hMSx1PXRoaXMscjtuKHRoaXMpLm9uZSgiYnNUcmFuc2l0aW9uRW5kIixmdW5jdGlvbigpe2k9ITB9KTtyZXR1cm4gcj1mdW5jdGlvbigpe2l8fG4odSkudHJpZ2dlcihuLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpfSxzZXRUaW1lb3V0KHIsdCksdGhpc307bihmdW5jdGlvbigpeyhuLnN1cHBvcnQudHJhbnNpdGlvbj10KCksbi5zdXBwb3J0LnRyYW5zaXRpb24pJiYobi5ldmVudC5zcGVjaWFsLmJzVHJhbnNpdGlvbkVuZD17YmluZFR5cGU6bi5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLGRlbGVnYXRlVHlwZTpuLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsaGFuZGxlOmZ1bmN0aW9uKHQpe2lmKG4odC50YXJnZXQpLmlzKHRoaXMpKXJldHVybiB0LmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KX0pfShqUXVlcnkpOytmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdShpKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9bih0aGlzKSx1PXIuZGF0YSgiYnMuYWxlcnQiKTt1fHxyLmRhdGEoImJzLmFsZXJ0Iix1PW5ldyB0KHRoaXMpKTt0eXBlb2YgaT09InN0cmluZyImJnVbaV0uY2FsbChyKX0pfXZhciBpPSdbZGF0YS1kaXNtaXNzPSJhbGVydCJdJyx0PWZ1bmN0aW9uKHQpe24odCkub24oImNsaWNrIixpLHRoaXMuY2xvc2UpfSxyO3QuVkVSU0lPTj0iMy4zLjciO3QuVFJBTlNJVElPTl9EVVJBVElPTj0xNTA7dC5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oaSl7ZnVuY3Rpb24gZSgpe3IuZGV0YWNoKCkudHJpZ2dlcigiY2xvc2VkLmJzLmFsZXJ0IikucmVtb3ZlKCl9dmFyIGY9bih0aGlzKSx1PWYuYXR0cigiZGF0YS10YXJnZXQiKSxyOyh1fHwodT1mLmF0dHIoImhyZWYiKSx1PXUmJnUucmVwbGFjZSgvLiooPz0jW15cc10qJCkvLCIiKSkscj1uKHU9PT0iIyI/W106dSksaSYmaS5wcmV2ZW50RGVmYXVsdCgpLHIubGVuZ3RofHwocj1mLmNsb3Nlc3QoIi5hbGVydCIpKSxyLnRyaWdnZXIoaT1uLkV2ZW50KCJjbG9zZS5icy5hbGVydCIpKSxpLmlzRGVmYXVsdFByZXZlbnRlZCgpKXx8KHIucmVtb3ZlQ2xhc3MoImluIiksbi5zdXBwb3J0LnRyYW5zaXRpb24mJnIuaGFzQ2xhc3MoImZhZGUiKT9yLm9uZSgiYnNUcmFuc2l0aW9uRW5kIixlKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0LlRSQU5TSVRJT05fRFVSQVRJT04pOmUoKSl9O3I9bi5mbi5hbGVydDtuLmZuLmFsZXJ0PXU7bi5mbi5hbGVydC5Db25zdHJ1Y3Rvcj10O24uZm4uYWxlcnQubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBuLmZuLmFsZXJ0PXIsdGhpc307bihkb2N1bWVudCkub24oImNsaWNrLmJzLmFsZXJ0LmRhdGEtYXBpIixpLHQucHJvdG90eXBlLmNsb3NlKX0oalF1ZXJ5KTsrZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGkoaSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB1PW4odGhpcykscj11LmRhdGEoImJzLmJ1dHRvbiIpLGY9dHlwZW9mIGk9PSJvYmplY3QiJiZpO3J8fHUuZGF0YSgiYnMuYnV0dG9uIixyPW5ldyB0KHRoaXMsZikpO2k9PSJ0b2dnbGUiP3IudG9nZ2xlKCk6aSYmci5zZXRTdGF0ZShpKX0pfXZhciB0PWZ1bmN0aW9uKGkscil7dGhpcy4kZWxlbWVudD1uKGkpO3RoaXMub3B0aW9ucz1uLmV4dGVuZCh7fSx0LkRFRkFVTFRTLHIpO3RoaXMuaXNMb2FkaW5nPSExfSxyO3QuVkVSU0lPTj0iMy4zLjciO3QuREVGQVVMVFM9e2xvYWRpbmdUZXh0OiJsb2FkaW5nLi4uIn07dC5wcm90b3R5cGUuc2V0U3RhdGU9ZnVuY3Rpb24odCl7dmFyIGk9ImRpc2FibGVkIixyPXRoaXMuJGVsZW1lbnQsZj1yLmlzKCJpbnB1dCIpPyJ2YWwiOiJodG1sIix1PXIuZGF0YSgpO3QrPSJUZXh0Ijt1LnJlc2V0VGV4dD09bnVsbCYmci5kYXRhKCJyZXNldFRleHQiLHJbZl0oKSk7c2V0VGltZW91dChuLnByb3h5KGZ1bmN0aW9uKCl7cltmXSh1W3RdPT1udWxsP3RoaXMub3B0aW9uc1t0XTp1W3RdKTt0PT0ibG9hZGluZ1RleHQiPyh0aGlzLmlzTG9hZGluZz0hMCxyLmFkZENsYXNzKGkpLmF0dHIoaSxpKS5wcm9wKGksITApKTp0aGlzLmlzTG9hZGluZyYmKHRoaXMuaXNMb2FkaW5nPSExLHIucmVtb3ZlQ2xhc3MoaSkucmVtb3ZlQXR0cihpKS5wcm9wKGksITEpKX0sdGhpcyksMCl9O3QucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbigpe3ZhciB0PSEwLGk9dGhpcy4kZWxlbWVudC5jbG9zZXN0KCdbZGF0YS10b2dnbGU9ImJ1dHRvbnMiXScpLG47aS5sZW5ndGg/KG49dGhpcy4kZWxlbWVudC5maW5kKCJpbnB1dCIpLG4ucHJvcCgidHlwZSIpPT0icmFkaW8iPyhuLnByb3AoImNoZWNrZWQiKSYmKHQ9ITEpLGkuZmluZCgiLmFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKSx0aGlzLiRlbGVtZW50LmFkZENsYXNzKCJhY3RpdmUiKSk6bi5wcm9wKCJ0eXBlIik9PSJjaGVja2JveCImJihuLnByb3AoImNoZWNrZWQiKSE9PXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImFjdGl2ZSIpJiYodD0hMSksdGhpcy4kZWxlbWVudC50b2dnbGVDbGFzcygiYWN0aXZlIikpLG4ucHJvcCgiY2hlY2tlZCIsdGhpcy4kZWxlbWVudC5oYXNDbGFzcygiYWN0aXZlIikpLHQmJm4udHJpZ2dlcigiY2hhbmdlIikpOih0aGlzLiRlbGVtZW50LmF0dHIoImFyaWEtcHJlc3NlZCIsIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImFjdGl2ZSIpKSx0aGlzLiRlbGVtZW50LnRvZ2dsZUNsYXNzKCJhY3RpdmUiKSl9O3I9bi5mbi5idXR0b247bi5mbi5idXR0b249aTtuLmZuLmJ1dHRvbi5Db25zdHJ1Y3Rvcj10O24uZm4uYnV0dG9uLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gbi5mbi5idXR0b249cix0aGlzfTtuKGRvY3VtZW50KS5vbigiY2xpY2suYnMuYnV0dG9uLmRhdGEtYXBpIiwnW2RhdGEtdG9nZ2xlXj0iYnV0dG9uIl0nLGZ1bmN0aW9uKHQpe3ZhciByPW4odC50YXJnZXQpLmNsb3Nlc3QoIi5idG4iKTtpLmNhbGwociwidG9nZ2xlIik7bih0LnRhcmdldCkuaXMoJ2lucHV0W3R5cGU9InJhZGlvIl0sIGlucHV0W3R5cGU9ImNoZWNrYm94Il0nKXx8KHQucHJldmVudERlZmF1bHQoKSxyLmlzKCJpbnB1dCxidXR0b24iKT9yLnRyaWdnZXIoImZvY3VzIik6ci5maW5kKCJpbnB1dDp2aXNpYmxlLGJ1dHRvbjp2aXNpYmxlIikuZmlyc3QoKS50cmlnZ2VyKCJmb2N1cyIpKX0pLm9uKCJmb2N1cy5icy5idXR0b24uZGF0YS1hcGkgYmx1ci5icy5idXR0b24uZGF0YS1hcGkiLCdbZGF0YS10b2dnbGVePSJidXR0b24iXScsZnVuY3Rpb24odCl7bih0LnRhcmdldCkuY2xvc2VzdCgiLmJ0biIpLnRvZ2dsZUNsYXNzKCJmb2N1cyIsL15mb2N1cyhpbik/JC8udGVzdCh0LnR5cGUpKX0pfShqUXVlcnkpOytmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gaShpKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHU9bih0aGlzKSxyPXUuZGF0YSgiYnMuY2Fyb3VzZWwiKSxmPW4uZXh0ZW5kKHt9LHQuREVGQVVMVFMsdS5kYXRhKCksdHlwZW9mIGk9PSJvYmplY3QiJiZpKSxlPXR5cGVvZiBpPT0ic3RyaW5nIj9pOmYuc2xpZGU7cnx8dS5kYXRhKCJicy5jYXJvdXNlbCIscj1uZXcgdCh0aGlzLGYpKTt0eXBlb2YgaT09Im51bWJlciI/ci50byhpKTplP3JbZV0oKTpmLmludGVydmFsJiZyLnBhdXNlKCkuY3ljbGUoKX0pfXZhciB0PWZ1bmN0aW9uKHQsaSl7dGhpcy4kZWxlbWVudD1uKHQpO3RoaXMuJGluZGljYXRvcnM9dGhpcy4kZWxlbWVudC5maW5kKCIuY2Fyb3VzZWwtaW5kaWNhdG9ycyIpO3RoaXMub3B0aW9ucz1pO3RoaXMucGF1c2VkPW51bGw7dGhpcy5zbGlkaW5nPW51bGw7dGhpcy5pbnRlcnZhbD1udWxsO3RoaXMuJGFjdGl2ZT1udWxsO3RoaXMuJGl0ZW1zPW51bGw7dGhpcy5vcHRpb25zLmtleWJvYXJkJiZ0aGlzLiRlbGVtZW50Lm9uKCJrZXlkb3duLmJzLmNhcm91c2VsIixuLnByb3h5KHRoaXMua2V5ZG93bix0aGlzKSk7dGhpcy5vcHRpb25zLnBhdXNlIT0iaG92ZXIifHwib250b3VjaHN0YXJ0ImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudHx8dGhpcy4kZWxlbWVudC5vbigibW91c2VlbnRlci5icy5jYXJvdXNlbCIsbi5wcm94eSh0aGlzLnBhdXNlLHRoaXMpKS5vbigibW91c2VsZWF2ZS5icy5jYXJvdXNlbCIsbi5wcm94eSh0aGlzLmN5Y2xlLHRoaXMpKX0sdSxyO3QuVkVSU0lPTj0iMy4zLjciO3QuVFJBTlNJVElPTl9EVVJBVElPTj02MDA7dC5ERUZBVUxUUz17aW50ZXJ2YWw6NWUzLHBhdXNlOiJob3ZlciIsd3JhcDohMCxrZXlib2FyZDohMH07dC5wcm90b3R5cGUua2V5ZG93bj1mdW5jdGlvbihuKXtpZighL2lucHV0fHRleHRhcmVhL2kudGVzdChuLnRhcmdldC50YWdOYW1lKSl7c3dpdGNoKG4ud2hpY2gpe2Nhc2UgMzc6dGhpcy5wcmV2KCk7YnJlYWs7Y2FzZSAzOTp0aGlzLm5leHQoKTticmVhaztkZWZhdWx0OnJldHVybn1uLnByZXZlbnREZWZhdWx0KCl9fTt0LnByb3RvdHlwZS5jeWNsZT1mdW5jdGlvbih0KXtyZXR1cm4gdHx8KHRoaXMucGF1c2VkPSExKSx0aGlzLmludGVydmFsJiZjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpLHRoaXMub3B0aW9ucy5pbnRlcnZhbCYmIXRoaXMucGF1c2VkJiYodGhpcy5pbnRlcnZhbD1zZXRJbnRlcnZhbChuLnByb3h5KHRoaXMubmV4dCx0aGlzKSx0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpKSx0aGlzfTt0LnByb3RvdHlwZS5nZXRJdGVtSW5kZXg9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuJGl0ZW1zPW4ucGFyZW50KCkuY2hpbGRyZW4oIi5pdGVtIiksdGhpcy4kaXRlbXMuaW5kZXgobnx8dGhpcy4kYWN0aXZlKX07dC5wcm90b3R5cGUuZ2V0SXRlbUZvckRpcmVjdGlvbj1mdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuZ2V0SXRlbUluZGV4KHQpLGY9bj09InByZXYiJiZpPT09MHx8bj09Im5leHQiJiZpPT10aGlzLiRpdGVtcy5sZW5ndGgtMSxyLHU7cmV0dXJuIGYmJiF0aGlzLm9wdGlvbnMud3JhcD90OihyPW49PSJwcmV2Ij8tMToxLHU9KGkrcikldGhpcy4kaXRlbXMubGVuZ3RoLHRoaXMuJGl0ZW1zLmVxKHUpKX07dC5wcm90b3R5cGUudG89ZnVuY3Rpb24obil7dmFyIGk9dGhpcyx0PXRoaXMuZ2V0SXRlbUluZGV4KHRoaXMuJGFjdGl2ZT10aGlzLiRlbGVtZW50LmZpbmQoIi5pdGVtLmFjdGl2ZSIpKTtpZighKG4+dGhpcy4kaXRlbXMubGVuZ3RoLTEpJiYhKG48MCkpcmV0dXJuIHRoaXMuc2xpZGluZz90aGlzLiRlbGVtZW50Lm9uZSgic2xpZC5icy5jYXJvdXNlbCIsZnVuY3Rpb24oKXtpLnRvKG4pfSk6dD09bj90aGlzLnBhdXNlKCkuY3ljbGUoKTp0aGlzLnNsaWRlKG4+dD8ibmV4dCI6InByZXYiLHRoaXMuJGl0ZW1zLmVxKG4pKX07dC5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24odCl7cmV0dXJuIHR8fCh0aGlzLnBhdXNlZD0hMCksdGhpcy4kZWxlbWVudC5maW5kKCIubmV4dCwgLnByZXYiKS5sZW5ndGgmJm4uc3VwcG9ydC50cmFuc2l0aW9uJiYodGhpcy4kZWxlbWVudC50cmlnZ2VyKG4uc3VwcG9ydC50cmFuc2l0aW9uLmVuZCksdGhpcy5jeWNsZSghMCkpLHRoaXMuaW50ZXJ2YWw9Y2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKSx0aGlzfTt0LnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7aWYoIXRoaXMuc2xpZGluZylyZXR1cm4gdGhpcy5zbGlkZSgibmV4dCIpfTt0LnByb3RvdHlwZS5wcmV2PWZ1bmN0aW9uKCl7aWYoIXRoaXMuc2xpZGluZylyZXR1cm4gdGhpcy5zbGlkZSgicHJldiIpfTt0LnByb3RvdHlwZS5zbGlkZT1mdW5jdGlvbihpLHIpe3ZhciBlPXRoaXMuJGVsZW1lbnQuZmluZCgiLml0ZW0uYWN0aXZlIiksdT1yfHx0aGlzLmdldEl0ZW1Gb3JEaXJlY3Rpb24oaSxlKSxsPXRoaXMuaW50ZXJ2YWwsZj1pPT0ibmV4dCI/ImxlZnQiOiJyaWdodCIsYT10aGlzLG8scyxoLGM7cmV0dXJuIHUuaGFzQ2xhc3MoImFjdGl2ZSIpP3RoaXMuc2xpZGluZz0hMToobz11WzBdLHM9bi5FdmVudCgic2xpZGUuYnMuY2Fyb3VzZWwiLHtyZWxhdGVkVGFyZ2V0Om8sZGlyZWN0aW9uOmZ9KSx0aGlzLiRlbGVtZW50LnRyaWdnZXIocykscy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSk/dm9pZCAwOih0aGlzLnNsaWRpbmc9ITAsbCYmdGhpcy5wYXVzZSgpLHRoaXMuJGluZGljYXRvcnMubGVuZ3RoJiYodGhpcy4kaW5kaWNhdG9ycy5maW5kKCIuYWN0aXZlIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLGg9bih0aGlzLiRpbmRpY2F0b3JzLmNoaWxkcmVuKClbdGhpcy5nZXRJdGVtSW5kZXgodSldKSxoJiZoLmFkZENsYXNzKCJhY3RpdmUiKSksYz1uLkV2ZW50KCJzbGlkLmJzLmNhcm91c2VsIix7cmVsYXRlZFRhcmdldDpvLGRpcmVjdGlvbjpmfSksbi5zdXBwb3J0LnRyYW5zaXRpb24mJnRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoInNsaWRlIik/KHUuYWRkQ2xhc3MoaSksdVswXS5vZmZzZXRXaWR0aCxlLmFkZENsYXNzKGYpLHUuYWRkQ2xhc3MoZiksZS5vbmUoImJzVHJhbnNpdGlvbkVuZCIsZnVuY3Rpb24oKXt1LnJlbW92ZUNsYXNzKFtpLGZdLmpvaW4oIiAiKSkuYWRkQ2xhc3MoImFjdGl2ZSIpO2UucmVtb3ZlQ2xhc3MoWyJhY3RpdmUiLGZdLmpvaW4oIiAiKSk7YS5zbGlkaW5nPSExO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLiRlbGVtZW50LnRyaWdnZXIoYyl9LDApfSkuZW11bGF0ZVRyYW5zaXRpb25FbmQodC5UUkFOU0lUSU9OX0RVUkFUSU9OKSk6KGUucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpLHUuYWRkQ2xhc3MoImFjdGl2ZSIpLHRoaXMuc2xpZGluZz0hMSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoYykpLGwmJnRoaXMuY3ljbGUoKSx0aGlzKX07dT1uLmZuLmNhcm91c2VsO24uZm4uY2Fyb3VzZWw9aTtuLmZuLmNhcm91c2VsLkNvbnN0cnVjdG9yPXQ7bi5mbi5jYXJvdXNlbC5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIG4uZm4uY2Fyb3VzZWw9dSx0aGlzfTtyPWZ1bmN0aW9uKHQpe3ZhciBvLHI9bih0aGlzKSx1PW4oci5hdHRyKCJkYXRhLXRhcmdldCIpfHwobz1yLmF0dHIoImhyZWYiKSkmJm8ucmVwbGFjZSgvLiooPz0jW15cc10rJCkvLCIiKSksZSxmO3UuaGFzQ2xhc3MoImNhcm91c2VsIikmJihlPW4uZXh0ZW5kKHt9LHUuZGF0YSgpLHIuZGF0YSgpKSxmPXIuYXR0cigiZGF0YS1zbGlkZS10byIpLGYmJihlLmludGVydmFsPSExKSxpLmNhbGwodSxlKSxmJiZ1LmRhdGEoImJzLmNhcm91c2VsIikudG8oZiksdC5wcmV2ZW50RGVmYXVsdCgpKX07bihkb2N1bWVudCkub24oImNsaWNrLmJzLmNhcm91c2VsLmRhdGEtYXBpIiwiW2RhdGEtc2xpZGVdIixyKS5vbigiY2xpY2suYnMuY2Fyb3VzZWwuZGF0YS1hcGkiLCJbZGF0YS1zbGlkZS10b10iLHIpO24od2luZG93KS5vbigibG9hZCIsZnVuY3Rpb24oKXtuKCdbZGF0YS1yaWRlPSJjYXJvdXNlbCJdJykuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyk7aS5jYWxsKHQsdC5kYXRhKCkpfSl9KX0oalF1ZXJ5KTsrZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIodCl7dmFyIGkscj10LmF0dHIoImRhdGEtdGFyZ2V0Iil8fChpPXQuYXR0cigiaHJlZiIpKSYmaS5yZXBsYWNlKC8uKig/PSNbXlxzXSskKS8sIiIpO3JldHVybiBuKHIpfWZ1bmN0aW9uIGkoaSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB1PW4odGhpcykscj11LmRhdGEoImJzLmNvbGxhcHNlIiksZj1uLmV4dGVuZCh7fSx0LkRFRkFVTFRTLHUuZGF0YSgpLHR5cGVvZiBpPT0ib2JqZWN0IiYmaSk7IXImJmYudG9nZ2xlJiYvc2hvd3xoaWRlLy50ZXN0KGkpJiYoZi50b2dnbGU9ITEpO3J8fHUuZGF0YSgiYnMuY29sbGFwc2UiLHI9bmV3IHQodGhpcyxmKSk7dHlwZW9mIGk9PSJzdHJpbmciJiZyW2ldKCl9KX12YXIgdD1mdW5jdGlvbihpLHIpe3RoaXMuJGVsZW1lbnQ9bihpKTt0aGlzLm9wdGlvbnM9bi5leHRlbmQoe30sdC5ERUZBVUxUUyxyKTt0aGlzLiR0cmlnZ2VyPW4oJ1tkYXRhLXRvZ2dsZT0iY29sbGFwc2UiXVtocmVmPSIjJytpLmlkKyciXSxbZGF0YS10b2dnbGU9ImNvbGxhcHNlIl1bZGF0YS10YXJnZXQ9IiMnK2kuaWQrJyJdJyk7dGhpcy50cmFuc2l0aW9uaW5nPW51bGw7dGhpcy5vcHRpb25zLnBhcmVudD90aGlzLiRwYXJlbnQ9dGhpcy5nZXRQYXJlbnQoKTp0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyh0aGlzLiRlbGVtZW50LHRoaXMuJHRyaWdnZXIpO3RoaXMub3B0aW9ucy50b2dnbGUmJnRoaXMudG9nZ2xlKCl9LHU7dC5WRVJTSU9OPSIzLjMuNyI7dC5UUkFOU0lUSU9OX0RVUkFUSU9OPTM1MDt0LkRFRkFVTFRTPXt0b2dnbGU6ITB9O3QucHJvdG90eXBlLmRpbWVuc2lvbj1mdW5jdGlvbigpe3ZhciBuPXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoIndpZHRoIik7cmV0dXJuIG4/IndpZHRoIjoiaGVpZ2h0In07dC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3ZhciBmLHIsZSx1LG8scztpZighdGhpcy50cmFuc2l0aW9uaW5nJiYhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygiaW4iKSYmKHI9dGhpcy4kcGFyZW50JiZ0aGlzLiRwYXJlbnQuY2hpbGRyZW4oIi5wYW5lbCIpLmNoaWxkcmVuKCIuaW4sIC5jb2xsYXBzaW5nIiksIXJ8fCFyLmxlbmd0aHx8KGY9ci5kYXRhKCJicy5jb2xsYXBzZSIpLCFmfHwhZi50cmFuc2l0aW9uaW5nKSkmJihlPW4uRXZlbnQoInNob3cuYnMuY29sbGFwc2UiKSx0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSksIWUuaXNEZWZhdWx0UHJldmVudGVkKCkpKXtpZihyJiZyLmxlbmd0aCYmKGkuY2FsbChyLCJoaWRlIiksZnx8ci5kYXRhKCJicy5jb2xsYXBzZSIsbnVsbCkpLHU9dGhpcy5kaW1lbnNpb24oKSx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJjb2xsYXBzZSIpLmFkZENsYXNzKCJjb2xsYXBzaW5nIilbdV0oMCkuYXR0cigiYXJpYS1leHBhbmRlZCIsITApLHRoaXMuJHRyaWdnZXIucmVtb3ZlQ2xhc3MoImNvbGxhcHNlZCIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCEwKSx0aGlzLnRyYW5zaXRpb25pbmc9MSxvPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygiY29sbGFwc2luZyIpLmFkZENsYXNzKCJjb2xsYXBzZSBpbiIpW3VdKCIiKTt0aGlzLnRyYW5zaXRpb25pbmc9MDt0aGlzLiRlbGVtZW50LnRyaWdnZXIoInNob3duLmJzLmNvbGxhcHNlIil9LCFuLnN1cHBvcnQudHJhbnNpdGlvbilyZXR1cm4gby5jYWxsKHRoaXMpO3M9bi5jYW1lbENhc2UoWyJzY3JvbGwiLHVdLmpvaW4oIi0iKSk7dGhpcy4kZWxlbWVudC5vbmUoImJzVHJhbnNpdGlvbkVuZCIsbi5wcm94eShvLHRoaXMpKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0LlRSQU5TSVRJT05fRFVSQVRJT04pW3VdKHRoaXMuJGVsZW1lbnRbMF1bc10pfX07dC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3ZhciByLGksdTtpZighdGhpcy50cmFuc2l0aW9uaW5nJiZ0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJpbiIpJiYocj1uLkV2ZW50KCJoaWRlLmJzLmNvbGxhcHNlIiksdGhpcy4kZWxlbWVudC50cmlnZ2VyKHIpLCFyLmlzRGVmYXVsdFByZXZlbnRlZCgpKSl7aWYoaT10aGlzLmRpbWVuc2lvbigpLHRoaXMuJGVsZW1lbnRbaV0odGhpcy4kZWxlbWVudFtpXSgpKVswXS5vZmZzZXRIZWlnaHQsdGhpcy4kZWxlbWVudC5hZGRDbGFzcygiY29sbGFwc2luZyIpLnJlbW92ZUNsYXNzKCJjb2xsYXBzZSBpbiIpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCExKSx0aGlzLiR0cmlnZ2VyLmFkZENsYXNzKCJjb2xsYXBzZWQiKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMSksdGhpcy50cmFuc2l0aW9uaW5nPTEsdT1mdW5jdGlvbigpe3RoaXMudHJhbnNpdGlvbmluZz0wO3RoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoImNvbGxhcHNpbmciKS5hZGRDbGFzcygiY29sbGFwc2UiKS50cmlnZ2VyKCJoaWRkZW4uYnMuY29sbGFwc2UiKX0sIW4uc3VwcG9ydC50cmFuc2l0aW9uKXJldHVybiB1LmNhbGwodGhpcyk7dGhpcy4kZWxlbWVudFtpXSgwKS5vbmUoImJzVHJhbnNpdGlvbkVuZCIsbi5wcm94eSh1LHRoaXMpKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0LlRSQU5TSVRJT05fRFVSQVRJT04pfX07dC5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKCl7dGhpc1t0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCJpbiIpPyJoaWRlIjoic2hvdyJdKCl9O3QucHJvdG90eXBlLmdldFBhcmVudD1mdW5jdGlvbigpe3JldHVybiBuKHRoaXMub3B0aW9ucy5wYXJlbnQpLmZpbmQoJ1tkYXRhLXRvZ2dsZT0iY29sbGFwc2UiXVtkYXRhLXBhcmVudD0iJyt0aGlzLm9wdGlvbnMucGFyZW50KyciXScpLmVhY2gobi5wcm94eShmdW5jdGlvbih0LGkpe3ZhciB1PW4oaSk7dGhpcy5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3Mocih1KSx1KX0sdGhpcykpLmVuZCgpfTt0LnByb3RvdHlwZS5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3M9ZnVuY3Rpb24obix0KXt2YXIgaT1uLmhhc0NsYXNzKCJpbiIpO24uYXR0cigiYXJpYS1leHBhbmRlZCIsaSk7dC50b2dnbGVDbGFzcygiY29sbGFwc2VkIiwhaSkuYXR0cigiYXJpYS1leHBhbmRlZCIsaSl9O3U9bi5mbi5jb2xsYXBzZTtuLmZuLmNvbGxhcHNlPWk7bi5mbi5jb2xsYXBzZS5Db25zdHJ1Y3Rvcj10O24uZm4uY29sbGFwc2Uubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBuLmZuLmNvbGxhcHNlPXUsdGhpc307bihkb2N1bWVudCkub24oImNsaWNrLmJzLmNvbGxhcHNlLmRhdGEtYXBpIiwnW2RhdGEtdG9nZ2xlPSJjb2xsYXBzZSJdJyxmdW5jdGlvbih0KXt2YXIgdT1uKHRoaXMpO3UuYXR0cigiZGF0YS10YXJnZXQiKXx8dC5wcmV2ZW50RGVmYXVsdCgpO3ZhciBmPXIodSksZT1mLmRhdGEoImJzLmNvbGxhcHNlIiksbz1lPyJ0b2dnbGUiOnUuZGF0YSgpO2kuY2FsbChmLG8pfSl9KGpRdWVyeSk7K2Z1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKHQpe3ZhciBpPXQuYXR0cigiZGF0YS10YXJnZXQiKSxyO3JldHVybiBpfHwoaT10LmF0dHIoImhyZWYiKSxpPWkmJi8jW0EtWmEtel0vLnRlc3QoaSkmJmkucmVwbGFjZSgvLiooPz0jW15cc10qJCkvLCIiKSkscj1pJiZuKGkpLHImJnIubGVuZ3RoP3I6dC5wYXJlbnQoKX1mdW5jdGlvbiB1KHQpe3QmJnQud2hpY2g9PT0zfHwobihlKS5yZW1vdmUoKSxuKGkpLmVhY2goZnVuY3Rpb24oKXt2YXIgdT1uKHRoaXMpLGk9cih1KSxmPXtyZWxhdGVkVGFyZ2V0OnRoaXN9O2kuaGFzQ2xhc3MoIm9wZW4iKSYmKHQmJnQudHlwZT09ImNsaWNrIiYmL2lucHV0fHRleHRhcmVhL2kudGVzdCh0LnRhcmdldC50YWdOYW1lKSYmbi5jb250YWlucyhpWzBdLHQudGFyZ2V0KXx8KGkudHJpZ2dlcih0PW4uRXZlbnQoImhpZGUuYnMuZHJvcGRvd24iLGYpKSx0LmlzRGVmYXVsdFByZXZlbnRlZCgpKXx8KHUuYXR0cigiYXJpYS1leHBhbmRlZCIsImZhbHNlIiksaS5yZW1vdmVDbGFzcygib3BlbiIpLnRyaWdnZXIobi5FdmVudCgiaGlkZGVuLmJzLmRyb3Bkb3duIixmKSkpKX0pKX1mdW5jdGlvbiBvKGkpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1uKHRoaXMpLHU9ci5kYXRhKCJicy5kcm9wZG93biIpO3V8fHIuZGF0YSgiYnMuZHJvcGRvd24iLHU9bmV3IHQodGhpcykpO3R5cGVvZiBpPT0ic3RyaW5nIiYmdVtpXS5jYWxsKHIpfSl9dmFyIGU9Ii5kcm9wZG93bi1iYWNrZHJvcCIsaT0nW2RhdGEtdG9nZ2xlPSJkcm9wZG93biJdJyx0PWZ1bmN0aW9uKHQpe24odCkub24oImNsaWNrLmJzLmRyb3Bkb3duIix0aGlzLnRvZ2dsZSl9LGY7dC5WRVJTSU9OPSIzLjMuNyI7dC5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKHQpe3ZhciBmPW4odGhpcyksaSxvLGU7aWYoIWYuaXMoIi5kaXNhYmxlZCwgOmRpc2FibGVkIikpe2lmKGk9cihmKSxvPWkuaGFzQ2xhc3MoIm9wZW4iKSx1KCksIW8pe2lmKCJvbnRvdWNoc3RhcnQiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiYhaS5jbG9zZXN0KCIubmF2YmFyLW5hdiIpLmxlbmd0aCluKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5hZGRDbGFzcygiZHJvcGRvd24tYmFja2Ryb3AiKS5pbnNlcnRBZnRlcihuKHRoaXMpKS5vbigiY2xpY2siLHUpO2lmKGU9e3JlbGF0ZWRUYXJnZXQ6dGhpc30saS50cmlnZ2VyKHQ9bi5FdmVudCgic2hvdy5icy5kcm9wZG93biIsZSkpLHQuaXNEZWZhdWx0UHJldmVudGVkKCkpcmV0dXJuO2YudHJpZ2dlcigiZm9jdXMiKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwidHJ1ZSIpO2kudG9nZ2xlQ2xhc3MoIm9wZW4iKS50cmlnZ2VyKG4uRXZlbnQoInNob3duLmJzLmRyb3Bkb3duIixlKSl9cmV0dXJuITF9fTt0LnByb3RvdHlwZS5rZXlkb3duPWZ1bmN0aW9uKHQpe3ZhciBlLG8scyxoLGYsdTtpZigvKDM4fDQwfDI3fDMyKS8udGVzdCh0LndoaWNoKSYmIS9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QodC50YXJnZXQudGFnTmFtZSkmJihlPW4odGhpcyksdC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCksIWUuaXMoIi5kaXNhYmxlZCwgOmRpc2FibGVkIikpKXtpZihvPXIoZSkscz1vLmhhc0NsYXNzKCJvcGVuIiksIXMmJnQud2hpY2ghPTI3fHxzJiZ0LndoaWNoPT0yNylyZXR1cm4gdC53aGljaD09MjcmJm8uZmluZChpKS50cmlnZ2VyKCJmb2N1cyIpLGUudHJpZ2dlcigiY2xpY2siKTsoaD0iIGxpOm5vdCguZGlzYWJsZWQpOnZpc2libGUgYSIsZj1vLmZpbmQoIi5kcm9wZG93bi1tZW51IitoKSxmLmxlbmd0aCkmJih1PWYuaW5kZXgodC50YXJnZXQpLHQud2hpY2g9PTM4JiZ1PjAmJnUtLSx0LndoaWNoPT00MCYmdTxmLmxlbmd0aC0xJiZ1KyssfnV8fCh1PTApLGYuZXEodSkudHJpZ2dlcigiZm9jdXMiKSl9fTtmPW4uZm4uZHJvcGRvd247bi5mbi5kcm9wZG93bj1vO24uZm4uZHJvcGRvd24uQ29uc3RydWN0b3I9dDtuLmZuLmRyb3Bkb3duLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gbi5mbi5kcm9wZG93bj1mLHRoaXN9O24oZG9jdW1lbnQpLm9uKCJjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaSIsdSkub24oImNsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpIiwiLmRyb3Bkb3duIGZvcm0iLGZ1bmN0aW9uKG4pe24uc3RvcFByb3BhZ2F0aW9uKCl9KS5vbigiY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGkiLGksdC5wcm90b3R5cGUudG9nZ2xlKS5vbigia2V5ZG93bi5icy5kcm9wZG93bi5kYXRhLWFwaSIsaSx0LnByb3RvdHlwZS5rZXlkb3duKS5vbigia2V5ZG93bi5icy5kcm9wZG93bi5kYXRhLWFwaSIsIi5kcm9wZG93bi1tZW51Iix0LnByb3RvdHlwZS5rZXlkb3duKX0oalF1ZXJ5KTsrZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGkoaSxyKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGY9bih0aGlzKSx1PWYuZGF0YSgiYnMubW9kYWwiKSxlPW4uZXh0ZW5kKHt9LHQuREVGQVVMVFMsZi5kYXRhKCksdHlwZW9mIGk9PSJvYmplY3QiJiZpKTt1fHxmLmRhdGEoImJzLm1vZGFsIix1PW5ldyB0KHRoaXMsZSkpO3R5cGVvZiBpPT0ic3RyaW5nIj91W2ldKHIpOmUuc2hvdyYmdS5zaG93KHIpfSl9dmFyIHQ9ZnVuY3Rpb24odCxpKXt0aGlzLm9wdGlvbnM9aTt0aGlzLiRib2R5PW4oZG9jdW1lbnQuYm9keSk7dGhpcy4kZWxlbWVudD1uKHQpO3RoaXMuJGRpYWxvZz10aGlzLiRlbGVtZW50LmZpbmQoIi5tb2RhbC1kaWFsb2ciKTt0aGlzLiRiYWNrZHJvcD1udWxsO3RoaXMuaXNTaG93bj1udWxsO3RoaXMub3JpZ2luYWxCb2R5UGFkPW51bGw7dGhpcy5zY3JvbGxiYXJXaWR0aD0wO3RoaXMuaWdub3JlQmFja2Ryb3BDbGljaz0hMTt0aGlzLm9wdGlvbnMucmVtb3RlJiZ0aGlzLiRlbGVtZW50LmZpbmQoIi5tb2RhbC1jb250ZW50IikubG9hZCh0aGlzLm9wdGlvbnMucmVtb3RlLG4ucHJveHkoZnVuY3Rpb24oKXt0aGlzLiRlbGVtZW50LnRyaWdnZXIoImxvYWRlZC5icy5tb2RhbCIpfSx0aGlzKSl9LHI7dC5WRVJTSU9OPSIzLjMuNyI7dC5UUkFOU0lUSU9OX0RVUkFUSU9OPTMwMDt0LkJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT049MTUwO3QuREVGQVVMVFM9e2JhY2tkcm9wOiEwLGtleWJvYXJkOiEwLHNob3c6ITB9O3QucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5pc1Nob3duP3RoaXMuaGlkZSgpOnRoaXMuc2hvdyhuKX07dC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbihpKXt2YXIgcj10aGlzLHU9bi5FdmVudCgic2hvdy5icy5tb2RhbCIse3JlbGF0ZWRUYXJnZXQ6aX0pO2lmKHRoaXMuJGVsZW1lbnQudHJpZ2dlcih1KSwhdGhpcy5pc1Nob3duJiYhdS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dGhpcy5pc1Nob3duPSEwO3RoaXMuY2hlY2tTY3JvbGxiYXIoKTt0aGlzLnNldFNjcm9sbGJhcigpO3RoaXMuJGJvZHkuYWRkQ2xhc3MoIm1vZGFsLW9wZW4iKTt0aGlzLmVzY2FwZSgpO3RoaXMucmVzaXplKCk7dGhpcy4kZWxlbWVudC5vbigiY2xpY2suZGlzbWlzcy5icy5tb2RhbCIsJ1tkYXRhLWRpc21pc3M9Im1vZGFsIl0nLG4ucHJveHkodGhpcy5oaWRlLHRoaXMpKTt0aGlzLiRkaWFsb2cub24oIm1vdXNlZG93bi5kaXNtaXNzLmJzLm1vZGFsIixmdW5jdGlvbigpe3IuJGVsZW1lbnQub25lKCJtb3VzZXVwLmRpc21pc3MuYnMubW9kYWwiLGZ1bmN0aW9uKHQpe24odC50YXJnZXQpLmlzKHIuJGVsZW1lbnQpJiYoci5pZ25vcmVCYWNrZHJvcENsaWNrPSEwKX0pfSk7dGhpcy5iYWNrZHJvcChmdW5jdGlvbigpe3ZhciBmPW4uc3VwcG9ydC50cmFuc2l0aW9uJiZyLiRlbGVtZW50Lmhhc0NsYXNzKCJmYWRlIiksdTtyLiRlbGVtZW50LnBhcmVudCgpLmxlbmd0aHx8ci4kZWxlbWVudC5hcHBlbmRUbyhyLiRib2R5KTtyLiRlbGVtZW50LnNob3coKS5zY3JvbGxUb3AoMCk7ci5hZGp1c3REaWFsb2coKTtmJiZyLiRlbGVtZW50WzBdLm9mZnNldFdpZHRoO3IuJGVsZW1lbnQuYWRkQ2xhc3MoImluIik7ci5lbmZvcmNlRm9jdXMoKTt1PW4uRXZlbnQoInNob3duLmJzLm1vZGFsIix7cmVsYXRlZFRhcmdldDppfSk7Zj9yLiRkaWFsb2cub25lKCJic1RyYW5zaXRpb25FbmQiLGZ1bmN0aW9uKCl7ci4kZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpLnRyaWdnZXIodSl9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0LlRSQU5TSVRJT05fRFVSQVRJT04pOnIuJGVsZW1lbnQudHJpZ2dlcigiZm9jdXMiKS50cmlnZ2VyKHUpfSl9fTt0LnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKGkpeyhpJiZpLnByZXZlbnREZWZhdWx0KCksaT1uLkV2ZW50KCJoaWRlLmJzLm1vZGFsIiksdGhpcy4kZWxlbWVudC50cmlnZ2VyKGkpLHRoaXMuaXNTaG93biYmIWkuaXNEZWZhdWx0UHJldmVudGVkKCkpJiYodGhpcy5pc1Nob3duPSExLHRoaXMuZXNjYXBlKCksdGhpcy5yZXNpemUoKSxuKGRvY3VtZW50KS5vZmYoImZvY3VzaW4uYnMubW9kYWwiKSx0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCJpbiIpLm9mZigiY2xpY2suZGlzbWlzcy5icy5tb2RhbCIpLm9mZigibW91c2V1cC5kaXNtaXNzLmJzLm1vZGFsIiksdGhpcy4kZGlhbG9nLm9mZigibW91c2Vkb3duLmRpc21pc3MuYnMubW9kYWwiKSxuLnN1cHBvcnQudHJhbnNpdGlvbiYmdGhpcy4kZWxlbWVudC5oYXNDbGFzcygiZmFkZSIpP3RoaXMuJGVsZW1lbnQub25lKCJic1RyYW5zaXRpb25FbmQiLG4ucHJveHkodGhpcy5oaWRlTW9kYWwsdGhpcykpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHQuVFJBTlNJVElPTl9EVVJBVElPTik6dGhpcy5oaWRlTW9kYWwoKSl9O3QucHJvdG90eXBlLmVuZm9yY2VGb2N1cz1mdW5jdGlvbigpe24oZG9jdW1lbnQpLm9mZigiZm9jdXNpbi5icy5tb2RhbCIpLm9uKCJmb2N1c2luLmJzLm1vZGFsIixuLnByb3h5KGZ1bmN0aW9uKG4pe2RvY3VtZW50PT09bi50YXJnZXR8fHRoaXMuJGVsZW1lbnRbMF09PT1uLnRhcmdldHx8dGhpcy4kZWxlbWVudC5oYXMobi50YXJnZXQpLmxlbmd0aHx8dGhpcy4kZWxlbWVudC50cmlnZ2VyKCJmb2N1cyIpfSx0aGlzKSl9O3QucHJvdG90eXBlLmVzY2FwZT1mdW5jdGlvbigpe2lmKHRoaXMuaXNTaG93biYmdGhpcy5vcHRpb25zLmtleWJvYXJkKXRoaXMuJGVsZW1lbnQub24oImtleWRvd24uZGlzbWlzcy5icy5tb2RhbCIsbi5wcm94eShmdW5jdGlvbihuKXtuLndoaWNoPT0yNyYmdGhpcy5oaWRlKCl9LHRoaXMpKTtlbHNlIHRoaXMuaXNTaG93bnx8dGhpcy4kZWxlbWVudC5vZmYoImtleWRvd24uZGlzbWlzcy5icy5tb2RhbCIpfTt0LnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXtpZih0aGlzLmlzU2hvd24pbih3aW5kb3cpLm9uKCJyZXNpemUuYnMubW9kYWwiLG4ucHJveHkodGhpcy5oYW5kbGVVcGRhdGUsdGhpcykpO2Vsc2Ugbih3aW5kb3cpLm9mZigicmVzaXplLmJzLm1vZGFsIil9O3QucHJvdG90eXBlLmhpZGVNb2RhbD1mdW5jdGlvbigpe3ZhciBuPXRoaXM7dGhpcy4kZWxlbWVudC5oaWRlKCk7dGhpcy5iYWNrZHJvcChmdW5jdGlvbigpe24uJGJvZHkucmVtb3ZlQ2xhc3MoIm1vZGFsLW9wZW4iKTtuLnJlc2V0QWRqdXN0bWVudHMoKTtuLnJlc2V0U2Nyb2xsYmFyKCk7bi4kZWxlbWVudC50cmlnZ2VyKCJoaWRkZW4uYnMubW9kYWwiKX0pfTt0LnByb3RvdHlwZS5yZW1vdmVCYWNrZHJvcD1mdW5jdGlvbigpe3RoaXMuJGJhY2tkcm9wJiZ0aGlzLiRiYWNrZHJvcC5yZW1vdmUoKTt0aGlzLiRiYWNrZHJvcD1udWxsfTt0LnByb3RvdHlwZS5iYWNrZHJvcD1mdW5jdGlvbihpKXt2YXIgZT10aGlzLGY9dGhpcy4kZWxlbWVudC5oYXNDbGFzcygiZmFkZSIpPyJmYWRlIjoiIixyLHU7aWYodGhpcy5pc1Nob3duJiZ0aGlzLm9wdGlvbnMuYmFja2Ryb3Ape3I9bi5zdXBwb3J0LnRyYW5zaXRpb24mJmY7dGhpcy4kYmFja2Ryb3A9bihkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSkuYWRkQ2xhc3MoIm1vZGFsLWJhY2tkcm9wICIrZikuYXBwZW5kVG8odGhpcy4kYm9keSk7dGhpcy4kZWxlbWVudC5vbigiY2xpY2suZGlzbWlzcy5icy5tb2RhbCIsbi5wcm94eShmdW5jdGlvbihuKXtpZih0aGlzLmlnbm9yZUJhY2tkcm9wQ2xpY2spe3RoaXMuaWdub3JlQmFja2Ryb3BDbGljaz0hMTtyZXR1cm59bi50YXJnZXQ9PT1uLmN1cnJlbnRUYXJnZXQmJih0aGlzLm9wdGlvbnMuYmFja2Ryb3A9PSJzdGF0aWMiP3RoaXMuJGVsZW1lbnRbMF0uZm9jdXMoKTp0aGlzLmhpZGUoKSl9LHRoaXMpKTtpZihyJiZ0aGlzLiRiYWNrZHJvcFswXS5vZmZzZXRXaWR0aCx0aGlzLiRiYWNrZHJvcC5hZGRDbGFzcygiaW4iKSwhaSlyZXR1cm47cj90aGlzLiRiYWNrZHJvcC5vbmUoImJzVHJhbnNpdGlvbkVuZCIsaSkuZW11bGF0ZVRyYW5zaXRpb25FbmQodC5CQUNLRFJPUF9UUkFOU0lUSU9OX0RVUkFUSU9OKTppKCl9ZWxzZSF0aGlzLmlzU2hvd24mJnRoaXMuJGJhY2tkcm9wPyh0aGlzLiRiYWNrZHJvcC5yZW1vdmVDbGFzcygiaW4iKSx1PWZ1bmN0aW9uKCl7ZS5yZW1vdmVCYWNrZHJvcCgpO2kmJmkoKX0sbi5zdXBwb3J0LnRyYW5zaXRpb24mJnRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoImZhZGUiKT90aGlzLiRiYWNrZHJvcC5vbmUoImJzVHJhbnNpdGlvbkVuZCIsdSkuZW11bGF0ZVRyYW5zaXRpb25FbmQodC5CQUNLRFJPUF9UUkFOU0lUSU9OX0RVUkFUSU9OKTp1KCkpOmkmJmkoKX07dC5wcm90b3R5cGUuaGFuZGxlVXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5hZGp1c3REaWFsb2coKX07dC5wcm90b3R5cGUuYWRqdXN0RGlhbG9nPWZ1bmN0aW9uKCl7dmFyIG49dGhpcy4kZWxlbWVudFswXS5zY3JvbGxIZWlnaHQ+ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDt0aGlzLiRlbGVtZW50LmNzcyh7cGFkZGluZ0xlZnQ6IXRoaXMuYm9keUlzT3ZlcmZsb3dpbmcmJm4/dGhpcy5zY3JvbGxiYXJXaWR0aDoiIixwYWRkaW5nUmlnaHQ6dGhpcy5ib2R5SXNPdmVyZmxvd2luZyYmIW4/dGhpcy5zY3JvbGxiYXJXaWR0aDoiIn0pfTt0LnByb3RvdHlwZS5yZXNldEFkanVzdG1lbnRzPWZ1bmN0aW9uKCl7dGhpcy4kZWxlbWVudC5jc3Moe3BhZGRpbmdMZWZ0OiIiLHBhZGRpbmdSaWdodDoiIn0pfTt0LnByb3RvdHlwZS5jaGVja1Njcm9sbGJhcj1mdW5jdGlvbigpe3ZhciBuPXdpbmRvdy5pbm5lcldpZHRoLHQ7bnx8KHQ9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG49dC5yaWdodC1NYXRoLmFicyh0LmxlZnQpKTt0aGlzLmJvZHlJc092ZXJmbG93aW5nPWRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg8bjt0aGlzLnNjcm9sbGJhcldpZHRoPXRoaXMubWVhc3VyZVNjcm9sbGJhcigpfTt0LnByb3RvdHlwZS5zZXRTY3JvbGxiYXI9ZnVuY3Rpb24oKXt2YXIgbj1wYXJzZUludCh0aGlzLiRib2R5LmNzcygicGFkZGluZy1yaWdodCIpfHwwLDEwKTt0aGlzLm9yaWdpbmFsQm9keVBhZD1kb2N1bWVudC5ib2R5LnN0eWxlLnBhZGRpbmdSaWdodHx8IiI7dGhpcy5ib2R5SXNPdmVyZmxvd2luZyYmdGhpcy4kYm9keS5jc3MoInBhZGRpbmctcmlnaHQiLG4rdGhpcy5zY3JvbGxiYXJXaWR0aCl9O3QucHJvdG90eXBlLnJlc2V0U2Nyb2xsYmFyPWZ1bmN0aW9uKCl7dGhpcy4kYm9keS5jc3MoInBhZGRpbmctcmlnaHQiLHRoaXMub3JpZ2luYWxCb2R5UGFkKX07dC5wcm90b3R5cGUubWVhc3VyZVNjcm9sbGJhcj1mdW5jdGlvbigpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHQ7cmV0dXJuIG4uY2xhc3NOYW1lPSJtb2RhbC1zY3JvbGxiYXItbWVhc3VyZSIsdGhpcy4kYm9keS5hcHBlbmQobiksdD1uLm9mZnNldFdpZHRoLW4uY2xpZW50V2lkdGgsdGhpcy4kYm9keVswXS5yZW1vdmVDaGlsZChuKSx0fTtyPW4uZm4ubW9kYWw7bi5mbi5tb2RhbD1pO24uZm4ubW9kYWwuQ29uc3RydWN0b3I9dDtuLmZuLm1vZGFsLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gbi5mbi5tb2RhbD1yLHRoaXN9O24oZG9jdW1lbnQpLm9uKCJjbGljay5icy5tb2RhbC5kYXRhLWFwaSIsJ1tkYXRhLXRvZ2dsZT0ibW9kYWwiXScsZnVuY3Rpb24odCl7dmFyIHI9bih0aGlzKSxmPXIuYXR0cigiaHJlZiIpLHU9bihyLmF0dHIoImRhdGEtdGFyZ2V0Iil8fGYmJmYucmVwbGFjZSgvLiooPz0jW15cc10rJCkvLCIiKSksZT11LmRhdGEoImJzLm1vZGFsIik/InRvZ2dsZSI6bi5leHRlbmQoe3JlbW90ZTohLyMvLnRlc3QoZikmJmZ9LHUuZGF0YSgpLHIuZGF0YSgpKTtyLmlzKCJhIikmJnQucHJldmVudERlZmF1bHQoKTt1Lm9uZSgic2hvdy5icy5tb2RhbCIsZnVuY3Rpb24obil7aWYoIW4uaXNEZWZhdWx0UHJldmVudGVkKCkpdS5vbmUoImhpZGRlbi5icy5tb2RhbCIsZnVuY3Rpb24oKXtyLmlzKCI6dmlzaWJsZSIpJiZyLnRyaWdnZXIoImZvY3VzIil9KX0pO2kuY2FsbCh1LGUsdGhpcyl9KX0oalF1ZXJ5KTsrZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoaSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB1PW4odGhpcykscj11LmRhdGEoImJzLnRvb2x0aXAiKSxmPXR5cGVvZiBpPT0ib2JqZWN0IiYmaTsocnx8IS9kZXN0cm95fGhpZGUvLnRlc3QoaSkpJiYocnx8dS5kYXRhKCJicy50b29sdGlwIixyPW5ldyB0KHRoaXMsZikpLHR5cGVvZiBpPT0ic3RyaW5nIiYmcltpXSgpKX0pfXZhciB0PWZ1bmN0aW9uKG4sdCl7dGhpcy50eXBlPW51bGw7dGhpcy5vcHRpb25zPW51bGw7dGhpcy5lbmFibGVkPW51bGw7dGhpcy50aW1lb3V0PW51bGw7dGhpcy5ob3ZlclN0YXRlPW51bGw7dGhpcy4kZWxlbWVudD1udWxsO3RoaXMuaW5TdGF0ZT1udWxsO3RoaXMuaW5pdCgidG9vbHRpcCIsbix0KX0saTt0LlZFUlNJT049IjMuMy43Ijt0LlRSQU5TSVRJT05fRFVSQVRJT049MTUwO3QuREVGQVVMVFM9e2FuaW1hdGlvbjohMCxwbGFjZW1lbnQ6InRvcCIsc2VsZWN0b3I6ITEsdGVtcGxhdGU6JzxkaXYgY2xhc3M9InRvb2x0aXAiIHJvbGU9InRvb2x0aXAiPjxkaXYgY2xhc3M9InRvb2x0aXAtYXJyb3ciPjxcL2Rpdj48ZGl2IGNsYXNzPSJ0b29sdGlwLWlubmVyIj48XC9kaXY+PFwvZGl2PicsdHJpZ2dlcjoiaG92ZXIgZm9jdXMiLHRpdGxlOiIiLGRlbGF5OjAsaHRtbDohMSxjb250YWluZXI6ITEsdmlld3BvcnQ6e3NlbGVjdG9yOiJib2R5IixwYWRkaW5nOjB9fTt0LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsaSxyKXt2YXIgZixlLHUsbyxzO2lmKHRoaXMuZW5hYmxlZD0hMCx0aGlzLnR5cGU9dCx0aGlzLiRlbGVtZW50PW4oaSksdGhpcy5vcHRpb25zPXRoaXMuZ2V0T3B0aW9ucyhyKSx0aGlzLiR2aWV3cG9ydD10aGlzLm9wdGlvbnMudmlld3BvcnQmJm4obi5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy52aWV3cG9ydCk/dGhpcy5vcHRpb25zLnZpZXdwb3J0LmNhbGwodGhpcyx0aGlzLiRlbGVtZW50KTp0aGlzLm9wdGlvbnMudmlld3BvcnQuc2VsZWN0b3J8fHRoaXMub3B0aW9ucy52aWV3cG9ydCksdGhpcy5pblN0YXRlPXtjbGljazohMSxob3ZlcjohMSxmb2N1czohMX0sdGhpcy4kZWxlbWVudFswXWluc3RhbmNlb2YgZG9jdW1lbnQuY29uc3RydWN0b3ImJiF0aGlzLm9wdGlvbnMuc2VsZWN0b3IpdGhyb3cgbmV3IEVycm9yKCJgc2VsZWN0b3JgIG9wdGlvbiBtdXN0IGJlIHNwZWNpZmllZCB3aGVuIGluaXRpYWxpemluZyAiK3RoaXMudHlwZSsiIG9uIHRoZSB3aW5kb3cuZG9jdW1lbnQgb2JqZWN0ISIpO2ZvcihmPXRoaXMub3B0aW9ucy50cmlnZ2VyLnNwbGl0KCIgIiksZT1mLmxlbmd0aDtlLS07KWlmKHU9ZltlXSx1PT0iY2xpY2siKXRoaXMuJGVsZW1lbnQub24oImNsaWNrLiIrdGhpcy50eXBlLHRoaXMub3B0aW9ucy5zZWxlY3RvcixuLnByb3h5KHRoaXMudG9nZ2xlLHRoaXMpKTtlbHNlIGlmKHUhPSJtYW51YWwiKXtvPXU9PSJob3ZlciI/Im1vdXNlZW50ZXIiOiJmb2N1c2luIjtzPXU9PSJob3ZlciI/Im1vdXNlbGVhdmUiOiJmb2N1c291dCI7dGhpcy4kZWxlbWVudC5vbihvKyIuIit0aGlzLnR5cGUsdGhpcy5vcHRpb25zLnNlbGVjdG9yLG4ucHJveHkodGhpcy5lbnRlcix0aGlzKSk7dGhpcy4kZWxlbWVudC5vbihzKyIuIit0aGlzLnR5cGUsdGhpcy5vcHRpb25zLnNlbGVjdG9yLG4ucHJveHkodGhpcy5sZWF2ZSx0aGlzKSl9dGhpcy5vcHRpb25zLnNlbGVjdG9yP3RoaXMuX29wdGlvbnM9bi5leHRlbmQoe30sdGhpcy5vcHRpb25zLHt0cmlnZ2VyOiJtYW51YWwiLHNlbGVjdG9yOiIifSk6dGhpcy5maXhUaXRsZSgpfTt0LnByb3RvdHlwZS5nZXREZWZhdWx0cz1mdW5jdGlvbigpe3JldHVybiB0LkRFRkFVTFRTfTt0LnByb3RvdHlwZS5nZXRPcHRpb25zPWZ1bmN0aW9uKHQpe3JldHVybiB0PW4uZXh0ZW5kKHt9LHRoaXMuZ2V0RGVmYXVsdHMoKSx0aGlzLiRlbGVtZW50LmRhdGEoKSx0KSx0LmRlbGF5JiZ0eXBlb2YgdC5kZWxheT09Im51bWJlciImJih0LmRlbGF5PXtzaG93OnQuZGVsYXksaGlkZTp0LmRlbGF5fSksdH07dC5wcm90b3R5cGUuZ2V0RGVsZWdhdGVPcHRpb25zPWZ1bmN0aW9uKCl7dmFyIHQ9e30saT10aGlzLmdldERlZmF1bHRzKCk7cmV0dXJuIHRoaXMuX29wdGlvbnMmJm4uZWFjaCh0aGlzLl9vcHRpb25zLGZ1bmN0aW9uKG4scil7aVtuXSE9ciYmKHRbbl09cil9KSx0fTt0LnByb3RvdHlwZS5lbnRlcj1mdW5jdGlvbih0KXt2YXIgaT10IGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3Rvcj90Om4odC5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSk7aWYoaXx8KGk9bmV3IHRoaXMuY29uc3RydWN0b3IodC5jdXJyZW50VGFyZ2V0LHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpLG4odC5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSxpKSksdCBpbnN0YW5jZW9mIG4uRXZlbnQmJihpLmluU3RhdGVbdC50eXBlPT0iZm9jdXNpbiI/ImZvY3VzIjoiaG92ZXIiXT0hMCksaS50aXAoKS5oYXNDbGFzcygiaW4iKXx8aS5ob3ZlclN0YXRlPT0iaW4iKXtpLmhvdmVyU3RhdGU9ImluIjtyZXR1cm59aWYoY2xlYXJUaW1lb3V0KGkudGltZW91dCksaS5ob3ZlclN0YXRlPSJpbiIsIWkub3B0aW9ucy5kZWxheXx8IWkub3B0aW9ucy5kZWxheS5zaG93KXJldHVybiBpLnNob3coKTtpLnRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe2kuaG92ZXJTdGF0ZT09ImluIiYmaS5zaG93KCl9LGkub3B0aW9ucy5kZWxheS5zaG93KX07dC5wcm90b3R5cGUuaXNJblN0YXRlVHJ1ZT1mdW5jdGlvbigpe2Zvcih2YXIgbiBpbiB0aGlzLmluU3RhdGUpaWYodGhpcy5pblN0YXRlW25dKXJldHVybiEwO3JldHVybiExfTt0LnByb3RvdHlwZS5sZWF2ZT1mdW5jdGlvbih0KXt2YXIgaT10IGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3Rvcj90Om4odC5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSk7aWYoaXx8KGk9bmV3IHRoaXMuY29uc3RydWN0b3IodC5jdXJyZW50VGFyZ2V0LHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpLG4odC5jdXJyZW50VGFyZ2V0KS5kYXRhKCJicy4iK3RoaXMudHlwZSxpKSksdCBpbnN0YW5jZW9mIG4uRXZlbnQmJihpLmluU3RhdGVbdC50eXBlPT0iZm9jdXNvdXQiPyJmb2N1cyI6ImhvdmVyIl09ITEpLCFpLmlzSW5TdGF0ZVRydWUoKSl7aWYoY2xlYXJUaW1lb3V0KGkudGltZW91dCksaS5ob3ZlclN0YXRlPSJvdXQiLCFpLm9wdGlvbnMuZGVsYXl8fCFpLm9wdGlvbnMuZGVsYXkuaGlkZSlyZXR1cm4gaS5oaWRlKCk7aS50aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtpLmhvdmVyU3RhdGU9PSJvdXQiJiZpLmhpZGUoKX0saS5vcHRpb25zLmRlbGF5LmhpZGUpfX07dC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3ZhciBjPW4uRXZlbnQoInNob3cuYnMuIit0aGlzLnR5cGUpLGwscCxlLHcsaDtpZih0aGlzLmhhc0NvbnRlbnQoKSYmdGhpcy5lbmFibGVkKXtpZih0aGlzLiRlbGVtZW50LnRyaWdnZXIoYyksbD1uLmNvbnRhaW5zKHRoaXMuJGVsZW1lbnRbMF0ub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdGhpcy4kZWxlbWVudFswXSksYy5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8IWwpcmV0dXJuO3ZhciB1PXRoaXMscj10aGlzLnRpcCgpLGE9dGhpcy5nZXRVSUQodGhpcy50eXBlKTt0aGlzLnNldENvbnRlbnQoKTtyLmF0dHIoImlkIixhKTt0aGlzLiRlbGVtZW50LmF0dHIoImFyaWEtZGVzY3JpYmVkYnkiLGEpO3RoaXMub3B0aW9ucy5hbmltYXRpb24mJnIuYWRkQ2xhc3MoImZhZGUiKTt2YXIgaT10eXBlb2YgdGhpcy5vcHRpb25zLnBsYWNlbWVudD09ImZ1bmN0aW9uIj90aGlzLm9wdGlvbnMucGxhY2VtZW50LmNhbGwodGhpcyxyWzBdLHRoaXMuJGVsZW1lbnRbMF0pOnRoaXMub3B0aW9ucy5wbGFjZW1lbnQsdj0vXHM/YXV0bz9ccz8vaSx5PXYudGVzdChpKTt5JiYoaT1pLnJlcGxhY2UodiwiIil8fCJ0b3AiKTtyLmRldGFjaCgpLmNzcyh7dG9wOjAsbGVmdDowLGRpc3BsYXk6ImJsb2NrIn0pLmFkZENsYXNzKGkpLmRhdGEoImJzLiIrdGhpcy50eXBlLHRoaXMpO3RoaXMub3B0aW9ucy5jb250YWluZXI/ci5hcHBlbmRUbyh0aGlzLm9wdGlvbnMuY29udGFpbmVyKTpyLmluc2VydEFmdGVyKHRoaXMuJGVsZW1lbnQpO3RoaXMuJGVsZW1lbnQudHJpZ2dlcigiaW5zZXJ0ZWQuYnMuIit0aGlzLnR5cGUpO3ZhciBmPXRoaXMuZ2V0UG9zaXRpb24oKSxvPXJbMF0ub2Zmc2V0V2lkdGgscz1yWzBdLm9mZnNldEhlaWdodDt5JiYocD1pLGU9dGhpcy5nZXRQb3NpdGlvbih0aGlzLiR2aWV3cG9ydCksaT1pPT0iYm90dG9tIiYmZi5ib3R0b20rcz5lLmJvdHRvbT8idG9wIjppPT0idG9wIiYmZi50b3AtczxlLnRvcD8iYm90dG9tIjppPT0icmlnaHQiJiZmLnJpZ2h0K28+ZS53aWR0aD8ibGVmdCI6aT09ImxlZnQiJiZmLmxlZnQtbzxlLmxlZnQ/InJpZ2h0IjppLHIucmVtb3ZlQ2xhc3MocCkuYWRkQ2xhc3MoaSkpO3c9dGhpcy5nZXRDYWxjdWxhdGVkT2Zmc2V0KGksZixvLHMpO3RoaXMuYXBwbHlQbGFjZW1lbnQodyxpKTtoPWZ1bmN0aW9uKCl7dmFyIG49dS5ob3ZlclN0YXRlO3UuJGVsZW1lbnQudHJpZ2dlcigic2hvd24uYnMuIit1LnR5cGUpO3UuaG92ZXJTdGF0ZT1udWxsO249PSJvdXQiJiZ1LmxlYXZlKHUpfTtuLnN1cHBvcnQudHJhbnNpdGlvbiYmdGhpcy4kdGlwLmhhc0NsYXNzKCJmYWRlIik/ci5vbmUoImJzVHJhbnNpdGlvbkVuZCIsaCkuZW11bGF0ZVRyYW5zaXRpb25FbmQodC5UUkFOU0lUSU9OX0RVUkFUSU9OKTpoKCl9fTt0LnByb3RvdHlwZS5hcHBseVBsYWNlbWVudD1mdW5jdGlvbih0LGkpe3ZhciByPXRoaXMudGlwKCksbD1yWzBdLm9mZnNldFdpZHRoLGU9clswXS5vZmZzZXRIZWlnaHQsbz1wYXJzZUludChyLmNzcygibWFyZ2luLXRvcCIpLDEwKSxzPXBhcnNlSW50KHIuY3NzKCJtYXJnaW4tbGVmdCIpLDEwKSxoLGYsdTtpc05hTihvKSYmKG89MCk7aXNOYU4ocykmJihzPTApO3QudG9wKz1vO3QubGVmdCs9cztuLm9mZnNldC5zZXRPZmZzZXQoclswXSxuLmV4dGVuZCh7dXNpbmc6ZnVuY3Rpb24obil7ci5jc3Moe3RvcDpNYXRoLnJvdW5kKG4udG9wKSxsZWZ0Ok1hdGgucm91bmQobi5sZWZ0KX0pfX0sdCksMCk7ci5hZGRDbGFzcygiaW4iKTtoPXJbMF0ub2Zmc2V0V2lkdGg7Zj1yWzBdLm9mZnNldEhlaWdodDtpPT0idG9wIiYmZiE9ZSYmKHQudG9wPXQudG9wK2UtZik7dT10aGlzLmdldFZpZXdwb3J0QWRqdXN0ZWREZWx0YShpLHQsaCxmKTt1LmxlZnQ/dC5sZWZ0Kz11LmxlZnQ6dC50b3ArPXUudG9wO3ZhciBjPS90b3B8Ym90dG9tLy50ZXN0KGkpLGE9Yz91LmxlZnQqMi1sK2g6dS50b3AqMi1lK2Ysdj1jPyJvZmZzZXRXaWR0aCI6Im9mZnNldEhlaWdodCI7ci5vZmZzZXQodCk7dGhpcy5yZXBsYWNlQXJyb3coYSxyWzBdW3ZdLGMpfTt0LnByb3RvdHlwZS5yZXBsYWNlQXJyb3c9ZnVuY3Rpb24obix0LGkpe3RoaXMuYXJyb3coKS5jc3MoaT8ibGVmdCI6InRvcCIsNTAqKDEtbi90KSsiJSIpLmNzcyhpPyJ0b3AiOiJsZWZ0IiwiIil9O3QucHJvdG90eXBlLnNldENvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLnRpcCgpLHQ9dGhpcy5nZXRUaXRsZSgpO24uZmluZCgiLnRvb2x0aXAtaW5uZXIiKVt0aGlzLm9wdGlvbnMuaHRtbD8iaHRtbCI6InRleHQiXSh0KTtuLnJlbW92ZUNsYXNzKCJmYWRlIGluIHRvcCBib3R0b20gbGVmdCByaWdodCIpfTt0LnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKGkpe2Z1bmN0aW9uIGUoKXtyLmhvdmVyU3RhdGUhPSJpbiImJnUuZGV0YWNoKCk7ci4kZWxlbWVudCYmci4kZWxlbWVudC5yZW1vdmVBdHRyKCJhcmlhLWRlc2NyaWJlZGJ5IikudHJpZ2dlcigiaGlkZGVuLmJzLiIrci50eXBlKTtpJiZpKCl9dmFyIHI9dGhpcyx1PW4odGhpcy4kdGlwKSxmPW4uRXZlbnQoImhpZGUuYnMuIit0aGlzLnR5cGUpO2lmKHRoaXMuJGVsZW1lbnQudHJpZ2dlcihmKSwhZi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlyZXR1cm4gdS5yZW1vdmVDbGFzcygiaW4iKSxuLnN1cHBvcnQudHJhbnNpdGlvbiYmdS5oYXNDbGFzcygiZmFkZSIpP3Uub25lKCJic1RyYW5zaXRpb25FbmQiLGUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHQuVFJBTlNJVElPTl9EVVJBVElPTik6ZSgpLHRoaXMuaG92ZXJTdGF0ZT1udWxsLHRoaXN9O3QucHJvdG90eXBlLmZpeFRpdGxlPWZ1bmN0aW9uKCl7dmFyIG49dGhpcy4kZWxlbWVudDsobi5hdHRyKCJ0aXRsZSIpfHx0eXBlb2Ygbi5hdHRyKCJkYXRhLW9yaWdpbmFsLXRpdGxlIikhPSJzdHJpbmciKSYmbi5hdHRyKCJkYXRhLW9yaWdpbmFsLXRpdGxlIixuLmF0dHIoInRpdGxlIil8fCIiKS5hdHRyKCJ0aXRsZSIsIiIpfTt0LnByb3RvdHlwZS5oYXNDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VGl0bGUoKX07dC5wcm90b3R5cGUuZ2V0UG9zaXRpb249ZnVuY3Rpb24odCl7dD10fHx0aGlzLiRlbGVtZW50O3ZhciByPXRbMF0sdT1yLnRhZ05hbWU9PSJCT0RZIixpPXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aS53aWR0aD09bnVsbCYmKGk9bi5leHRlbmQoe30saSx7d2lkdGg6aS5yaWdodC1pLmxlZnQsaGVpZ2h0OmkuYm90dG9tLWkudG9wfSkpO3ZhciBmPXdpbmRvdy5TVkdFbGVtZW50JiZyIGluc3RhbmNlb2Ygd2luZG93LlNWR0VsZW1lbnQsZT11P3t0b3A6MCxsZWZ0OjB9OmY/bnVsbDp0Lm9mZnNldCgpLG89e3Njcm9sbDp1P2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wOnQuc2Nyb2xsVG9wKCl9LHM9dT97d2lkdGg6bih3aW5kb3cpLndpZHRoKCksaGVpZ2h0Om4od2luZG93KS5oZWlnaHQoKX06bnVsbDtyZXR1cm4gbi5leHRlbmQoe30saSxvLHMsZSl9O3QucHJvdG90eXBlLmdldENhbGN1bGF0ZWRPZmZzZXQ9ZnVuY3Rpb24obix0LGkscil7cmV0dXJuIG49PSJib3R0b20iP3t0b3A6dC50b3ArdC5oZWlnaHQsbGVmdDp0LmxlZnQrdC53aWR0aC8yLWkvMn06bj09InRvcCI/e3RvcDp0LnRvcC1yLGxlZnQ6dC5sZWZ0K3Qud2lkdGgvMi1pLzJ9Om49PSJsZWZ0Ij97dG9wOnQudG9wK3QuaGVpZ2h0LzItci8yLGxlZnQ6dC5sZWZ0LWl9Ont0b3A6dC50b3ArdC5oZWlnaHQvMi1yLzIsbGVmdDp0LmxlZnQrdC53aWR0aH19O3QucHJvdG90eXBlLmdldFZpZXdwb3J0QWRqdXN0ZWREZWx0YT1mdW5jdGlvbihuLHQsaSxyKXt2YXIgZj17dG9wOjAsbGVmdDowfSxlLHUsbyxzLGgsYztyZXR1cm4gdGhpcy4kdmlld3BvcnQ/KGU9dGhpcy5vcHRpb25zLnZpZXdwb3J0JiZ0aGlzLm9wdGlvbnMudmlld3BvcnQucGFkZGluZ3x8MCx1PXRoaXMuZ2V0UG9zaXRpb24odGhpcy4kdmlld3BvcnQpLC9yaWdodHxsZWZ0Ly50ZXN0KG4pPyhvPXQudG9wLWUtdS5zY3JvbGwscz10LnRvcCtlLXUuc2Nyb2xsK3Isbzx1LnRvcD9mLnRvcD11LnRvcC1vOnM+dS50b3ArdS5oZWlnaHQmJihmLnRvcD11LnRvcCt1LmhlaWdodC1zKSk6KGg9dC5sZWZ0LWUsYz10LmxlZnQrZStpLGg8dS5sZWZ0P2YubGVmdD11LmxlZnQtaDpjPnUucmlnaHQmJihmLmxlZnQ9dS5sZWZ0K3Uud2lkdGgtYykpLGYpOmZ9O3QucHJvdG90eXBlLmdldFRpdGxlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy4kZWxlbWVudCxuPXRoaXMub3B0aW9ucztyZXR1cm4gdC5hdHRyKCJkYXRhLW9yaWdpbmFsLXRpdGxlIil8fCh0eXBlb2Ygbi50aXRsZT09ImZ1bmN0aW9uIj9uLnRpdGxlLmNhbGwodFswXSk6bi50aXRsZSl9O3QucHJvdG90eXBlLmdldFVJRD1mdW5jdGlvbihuKXtkbyBuKz1+fihNYXRoLnJhbmRvbSgpKjFlNik7d2hpbGUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobikpO3JldHVybiBufTt0LnByb3RvdHlwZS50aXA9ZnVuY3Rpb24oKXtpZighdGhpcy4kdGlwJiYodGhpcy4kdGlwPW4odGhpcy5vcHRpb25zLnRlbXBsYXRlKSx0aGlzLiR0aXAubGVuZ3RoIT0xKSl0aHJvdyBuZXcgRXJyb3IodGhpcy50eXBlKyIgYHRlbXBsYXRlYCBvcHRpb24gbXVzdCBjb25zaXN0IG9mIGV4YWN0bHkgMSB0b3AtbGV2ZWwgZWxlbWVudCEiKTtyZXR1cm4gdGhpcy4kdGlwfTt0LnByb3RvdHlwZS5hcnJvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRhcnJvdz10aGlzLiRhcnJvd3x8dGhpcy50aXAoKS5maW5kKCIudG9vbHRpcC1hcnJvdyIpfTt0LnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWQ9ITB9O3QucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWQ9ITF9O3QucHJvdG90eXBlLnRvZ2dsZUVuYWJsZWQ9ZnVuY3Rpb24oKXt0aGlzLmVuYWJsZWQ9IXRoaXMuZW5hYmxlZH07dC5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXM7dCYmKGk9bih0LmN1cnJlbnRUYXJnZXQpLmRhdGEoImJzLiIrdGhpcy50eXBlKSxpfHwoaT1uZXcgdGhpcy5jb25zdHJ1Y3Rvcih0LmN1cnJlbnRUYXJnZXQsdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSksbih0LmN1cnJlbnRUYXJnZXQpLmRhdGEoImJzLiIrdGhpcy50eXBlLGkpKSk7dD8oaS5pblN0YXRlLmNsaWNrPSFpLmluU3RhdGUuY2xpY2ssaS5pc0luU3RhdGVUcnVlKCk/aS5lbnRlcihpKTppLmxlYXZlKGkpKTppLnRpcCgpLmhhc0NsYXNzKCJpbiIpP2kubGVhdmUoaSk6aS5lbnRlcihpKX07dC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciBuPXRoaXM7Y2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7dGhpcy5oaWRlKGZ1bmN0aW9uKCl7bi4kZWxlbWVudC5vZmYoIi4iK24udHlwZSkucmVtb3ZlRGF0YSgiYnMuIituLnR5cGUpO24uJHRpcCYmbi4kdGlwLmRldGFjaCgpO24uJHRpcD1udWxsO24uJGFycm93PW51bGw7bi4kdmlld3BvcnQ9bnVsbDtuLiRlbGVtZW50PW51bGx9KX07aT1uLmZuLnRvb2x0aXA7bi5mbi50b29sdGlwPXI7bi5mbi50b29sdGlwLkNvbnN0cnVjdG9yPXQ7bi5mbi50b29sdGlwLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gbi5mbi50b29sdGlwPWksdGhpc319KGpRdWVyeSk7K2Z1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGkpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdT1uKHRoaXMpLHI9dS5kYXRhKCJicy5wb3BvdmVyIiksZj10eXBlb2YgaT09Im9iamVjdCImJmk7KHJ8fCEvZGVzdHJveXxoaWRlLy50ZXN0KGkpKSYmKHJ8fHUuZGF0YSgiYnMucG9wb3ZlciIscj1uZXcgdCh0aGlzLGYpKSx0eXBlb2YgaT09InN0cmluZyImJnJbaV0oKSl9KX12YXIgdD1mdW5jdGlvbihuLHQpe3RoaXMuaW5pdCgicG9wb3ZlciIsbix0KX0saTtpZighbi5mbi50b29sdGlwKXRocm93IG5ldyBFcnJvcigiUG9wb3ZlciByZXF1aXJlcyB0b29sdGlwLmpzIik7dC5WRVJTSU9OPSIzLjMuNyI7dC5ERUZBVUxUUz1uLmV4dGVuZCh7fSxuLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IuREVGQVVMVFMse3BsYWNlbWVudDoicmlnaHQiLHRyaWdnZXI6ImNsaWNrIixjb250ZW50OiIiLHRlbXBsYXRlOic8ZGl2IGNsYXNzPSJwb3BvdmVyIiByb2xlPSJ0b29sdGlwIj48ZGl2IGNsYXNzPSJhcnJvdyI+PFwvZGl2PjxoMyBjbGFzcz0icG9wb3Zlci10aXRsZSI+PFwvaDM+PGRpdiBjbGFzcz0icG9wb3Zlci1jb250ZW50Ij48XC9kaXY+PFwvZGl2Pid9KTt0LnByb3RvdHlwZT1uLmV4dGVuZCh7fSxuLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IucHJvdG90eXBlKTt0LnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj10O3QucHJvdG90eXBlLmdldERlZmF1bHRzPWZ1bmN0aW9uKCl7cmV0dXJuIHQuREVGQVVMVFN9O3QucHJvdG90eXBlLnNldENvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLnRpcCgpLGk9dGhpcy5nZXRUaXRsZSgpLHQ9dGhpcy5nZXRDb250ZW50KCk7bi5maW5kKCIucG9wb3Zlci10aXRsZSIpW3RoaXMub3B0aW9ucy5odG1sPyJodG1sIjoidGV4dCJdKGkpO24uZmluZCgiLnBvcG92ZXItY29udGVudCIpLmNoaWxkcmVuKCkuZGV0YWNoKCkuZW5kKClbdGhpcy5vcHRpb25zLmh0bWw/dHlwZW9mIHQ9PSJzdHJpbmciPyJodG1sIjoiYXBwZW5kIjoidGV4dCJdKHQpO24ucmVtb3ZlQ2xhc3MoImZhZGUgdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0IGluIik7bi5maW5kKCIucG9wb3Zlci10aXRsZSIpLmh0bWwoKXx8bi5maW5kKCIucG9wb3Zlci10aXRsZSIpLmhpZGUoKX07dC5wcm90b3R5cGUuaGFzQ29udGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRpdGxlKCl8fHRoaXMuZ2V0Q29udGVudCgpfTt0LnByb3RvdHlwZS5nZXRDb250ZW50PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy4kZWxlbWVudCxuPXRoaXMub3B0aW9ucztyZXR1cm4gdC5hdHRyKCJkYXRhLWNvbnRlbnQiKXx8KHR5cGVvZiBuLmNvbnRlbnQ9PSJmdW5jdGlvbiI/bi5jb250ZW50LmNhbGwodFswXSk6bi5jb250ZW50KX07dC5wcm90b3R5cGUuYXJyb3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kYXJyb3c9dGhpcy4kYXJyb3d8fHRoaXMudGlwKCkuZmluZCgiLmFycm93Iil9O2k9bi5mbi5wb3BvdmVyO24uZm4ucG9wb3Zlcj1yO24uZm4ucG9wb3Zlci5Db25zdHJ1Y3Rvcj10O24uZm4ucG9wb3Zlci5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIG4uZm4ucG9wb3Zlcj1pLHRoaXN9fShqUXVlcnkpOytmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChpLHIpe3RoaXMuJGJvZHk9bihkb2N1bWVudC5ib2R5KTt0aGlzLiRzY3JvbGxFbGVtZW50PW4oaSkuaXMoZG9jdW1lbnQuYm9keSk/bih3aW5kb3cpOm4oaSk7dGhpcy5vcHRpb25zPW4uZXh0ZW5kKHt9LHQuREVGQVVMVFMscik7dGhpcy5zZWxlY3Rvcj0odGhpcy5vcHRpb25zLnRhcmdldHx8IiIpKyIgLm5hdiBsaSA+IGEiO3RoaXMub2Zmc2V0cz1bXTt0aGlzLnRhcmdldHM9W107dGhpcy5hY3RpdmVUYXJnZXQ9bnVsbDt0aGlzLnNjcm9sbEhlaWdodD0wO3RoaXMuJHNjcm9sbEVsZW1lbnQub24oInNjcm9sbC5icy5zY3JvbGxzcHkiLG4ucHJveHkodGhpcy5wcm9jZXNzLHRoaXMpKTt0aGlzLnJlZnJlc2goKTt0aGlzLnByb2Nlc3MoKX1mdW5jdGlvbiBpKGkpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdT1uKHRoaXMpLHI9dS5kYXRhKCJicy5zY3JvbGxzcHkiKSxmPXR5cGVvZiBpPT0ib2JqZWN0IiYmaTtyfHx1LmRhdGEoImJzLnNjcm9sbHNweSIscj1uZXcgdCh0aGlzLGYpKTt0eXBlb2YgaT09InN0cmluZyImJnJbaV0oKX0pfXQuVkVSU0lPTj0iMy4zLjciO3QuREVGQVVMVFM9e29mZnNldDoxMH07dC5wcm90b3R5cGUuZ2V0U2Nyb2xsSGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHNjcm9sbEVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0fHxNYXRoLm1heCh0aGlzLiRib2R5WzBdLnNjcm9sbEhlaWdodCxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0KX07dC5wcm90b3R5cGUucmVmcmVzaD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsaT0ib2Zmc2V0IixyPTA7dGhpcy5vZmZzZXRzPVtdO3RoaXMudGFyZ2V0cz1bXTt0aGlzLnNjcm9sbEhlaWdodD10aGlzLmdldFNjcm9sbEhlaWdodCgpO24uaXNXaW5kb3codGhpcy4kc2Nyb2xsRWxlbWVudFswXSl8fChpPSJwb3NpdGlvbiIscj10aGlzLiRzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCgpKTt0aGlzLiRib2R5LmZpbmQodGhpcy5zZWxlY3RvcikubWFwKGZ1bmN0aW9uKCl7dmFyIGY9bih0aGlzKSx1PWYuZGF0YSgidGFyZ2V0Iil8fGYuYXR0cigiaHJlZiIpLHQ9L14jLi8udGVzdCh1KSYmbih1KTtyZXR1cm4gdCYmdC5sZW5ndGgmJnQuaXMoIjp2aXNpYmxlIikmJltbdFtpXSgpLnRvcCtyLHVdXXx8bnVsbH0pLnNvcnQoZnVuY3Rpb24obix0KXtyZXR1cm4gblswXS10WzBdfSkuZWFjaChmdW5jdGlvbigpe3Qub2Zmc2V0cy5wdXNoKHRoaXNbMF0pO3QudGFyZ2V0cy5wdXNoKHRoaXNbMV0pfSl9O3QucHJvdG90eXBlLnByb2Nlc3M9ZnVuY3Rpb24oKXt2YXIgaT10aGlzLiRzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCgpK3RoaXMub3B0aW9ucy5vZmZzZXQsZj10aGlzLmdldFNjcm9sbEhlaWdodCgpLGU9dGhpcy5vcHRpb25zLm9mZnNldCtmLXRoaXMuJHNjcm9sbEVsZW1lbnQuaGVpZ2h0KCksdD10aGlzLm9mZnNldHMscj10aGlzLnRhcmdldHMsdT10aGlzLmFjdGl2ZVRhcmdldCxuO2lmKHRoaXMuc2Nyb2xsSGVpZ2h0IT1mJiZ0aGlzLnJlZnJlc2goKSxpPj1lKXJldHVybiB1IT0obj1yW3IubGVuZ3RoLTFdKSYmdGhpcy5hY3RpdmF0ZShuKTtpZih1JiZpPHRbMF0pcmV0dXJuIHRoaXMuYWN0aXZlVGFyZ2V0PW51bGwsdGhpcy5jbGVhcigpO2ZvcihuPXQubGVuZ3RoO24tLTspdSE9cltuXSYmaT49dFtuXSYmKHRbbisxXT09PXVuZGVmaW5lZHx8aTx0W24rMV0pJiZ0aGlzLmFjdGl2YXRlKHJbbl0pfTt0LnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbih0KXt0aGlzLmFjdGl2ZVRhcmdldD10O3RoaXMuY2xlYXIoKTt2YXIgcj10aGlzLnNlbGVjdG9yKydbZGF0YS10YXJnZXQ9IicrdCsnIl0sJyt0aGlzLnNlbGVjdG9yKydbaHJlZj0iJyt0KyciXScsaT1uKHIpLnBhcmVudHMoImxpIikuYWRkQ2xhc3MoImFjdGl2ZSIpO2kucGFyZW50KCIuZHJvcGRvd24tbWVudSIpLmxlbmd0aCYmKGk9aS5jbG9zZXN0KCJsaS5kcm9wZG93biIpLmFkZENsYXNzKCJhY3RpdmUiKSk7aS50cmlnZ2VyKCJhY3RpdmF0ZS5icy5zY3JvbGxzcHkiKX07dC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtuKHRoaXMuc2VsZWN0b3IpLnBhcmVudHNVbnRpbCh0aGlzLm9wdGlvbnMudGFyZ2V0LCIuYWN0aXZlIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpfTt2YXIgcj1uLmZuLnNjcm9sbHNweTtuLmZuLnNjcm9sbHNweT1pO24uZm4uc2Nyb2xsc3B5LkNvbnN0cnVjdG9yPXQ7bi5mbi5zY3JvbGxzcHkubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBuLmZuLnNjcm9sbHNweT1yLHRoaXN9O24od2luZG93KS5vbigibG9hZC5icy5zY3JvbGxzcHkuZGF0YS1hcGkiLGZ1bmN0aW9uKCl7bignW2RhdGEtc3B5PSJzY3JvbGwiXScpLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpO2kuY2FsbCh0LHQuZGF0YSgpKX0pfSl9KGpRdWVyeSk7K2Z1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKGkpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdT1uKHRoaXMpLHI9dS5kYXRhKCJicy50YWIiKTtyfHx1LmRhdGEoImJzLnRhYiIscj1uZXcgdCh0aGlzKSk7dHlwZW9mIGk9PSJzdHJpbmciJiZyW2ldKCl9KX12YXIgdD1mdW5jdGlvbih0KXt0aGlzLmVsZW1lbnQ9bih0KX0sdSxpO3QuVkVSU0lPTj0iMy4zLjciO3QuVFJBTlNJVElPTl9EVVJBVElPTj0xNTA7dC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZWxlbWVudCxmPXQuY2xvc2VzdCgidWw6bm90KC5kcm9wZG93bi1tZW51KSIpLGk9dC5kYXRhKCJ0YXJnZXQiKSx1O2lmKGl8fChpPXQuYXR0cigiaHJlZiIpLGk9aSYmaS5yZXBsYWNlKC8uKig/PSNbXlxzXSokKS8sIiIpKSwhdC5wYXJlbnQoImxpIikuaGFzQ2xhc3MoImFjdGl2ZSIpKXt2YXIgcj1mLmZpbmQoIi5hY3RpdmU6bGFzdCBhIiksZT1uLkV2ZW50KCJoaWRlLmJzLnRhYiIse3JlbGF0ZWRUYXJnZXQ6dFswXX0pLG89bi5FdmVudCgic2hvdy5icy50YWIiLHtyZWxhdGVkVGFyZ2V0OnJbMF19KTsoci50cmlnZ2VyKGUpLHQudHJpZ2dlcihvKSxvLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxlLmlzRGVmYXVsdFByZXZlbnRlZCgpKXx8KHU9bihpKSx0aGlzLmFjdGl2YXRlKHQuY2xvc2VzdCgibGkiKSxmKSx0aGlzLmFjdGl2YXRlKHUsdS5wYXJlbnQoKSxmdW5jdGlvbigpe3IudHJpZ2dlcih7dHlwZToiaGlkZGVuLmJzLnRhYiIscmVsYXRlZFRhcmdldDp0WzBdfSk7dC50cmlnZ2VyKHt0eXBlOiJzaG93bi5icy50YWIiLHJlbGF0ZWRUYXJnZXQ6clswXX0pfSkpfX07dC5wcm90b3R5cGUuYWN0aXZhdGU9ZnVuY3Rpb24oaSxyLHUpe2Z1bmN0aW9uIG8oKXtmLnJlbW92ZUNsYXNzKCJhY3RpdmUiKS5maW5kKCI+IC5kcm9wZG93bi1tZW51ID4gLmFjdGl2ZSIpLnJlbW92ZUNsYXNzKCJhY3RpdmUiKS5lbmQoKS5maW5kKCdbZGF0YS10b2dnbGU9InRhYiJdJykuYXR0cigiYXJpYS1leHBhbmRlZCIsITEpO2kuYWRkQ2xhc3MoImFjdGl2ZSIpLmZpbmQoJ1tkYXRhLXRvZ2dsZT0idGFiIl0nKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMCk7ZT8oaVswXS5vZmZzZXRXaWR0aCxpLmFkZENsYXNzKCJpbiIpKTppLnJlbW92ZUNsYXNzKCJmYWRlIik7aS5wYXJlbnQoIi5kcm9wZG93bi1tZW51IikubGVuZ3RoJiZpLmNsb3Nlc3QoImxpLmRyb3Bkb3duIikuYWRkQ2xhc3MoImFjdGl2ZSIpLmVuZCgpLmZpbmQoJ1tkYXRhLXRvZ2dsZT0idGFiIl0nKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMCk7dSYmdSgpfXZhciBmPXIuZmluZCgiPiAuYWN0aXZlIiksZT11JiZuLnN1cHBvcnQudHJhbnNpdGlvbiYmKGYubGVuZ3RoJiZmLmhhc0NsYXNzKCJmYWRlIil8fCEhci5maW5kKCI+IC5mYWRlIikubGVuZ3RoKTtmLmxlbmd0aCYmZT9mLm9uZSgiYnNUcmFuc2l0aW9uRW5kIixvKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0LlRSQU5TSVRJT05fRFVSQVRJT04pOm8oKTtmLnJlbW92ZUNsYXNzKCJpbiIpfTt1PW4uZm4udGFiO24uZm4udGFiPXI7bi5mbi50YWIuQ29uc3RydWN0b3I9dDtuLmZuLnRhYi5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIG4uZm4udGFiPXUsdGhpc307aT1mdW5jdGlvbih0KXt0LnByZXZlbnREZWZhdWx0KCk7ci5jYWxsKG4odGhpcyksInNob3ciKX07bihkb2N1bWVudCkub24oImNsaWNrLmJzLnRhYi5kYXRhLWFwaSIsJ1tkYXRhLXRvZ2dsZT0idGFiIl0nLGkpLm9uKCJjbGljay5icy50YWIuZGF0YS1hcGkiLCdbZGF0YS10b2dnbGU9InBpbGwiXScsaSl9KGpRdWVyeSk7K2Z1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBpKGkpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdT1uKHRoaXMpLHI9dS5kYXRhKCJicy5hZmZpeCIpLGY9dHlwZW9mIGk9PSJvYmplY3QiJiZpO3J8fHUuZGF0YSgiYnMuYWZmaXgiLHI9bmV3IHQodGhpcyxmKSk7dHlwZW9mIGk9PSJzdHJpbmciJiZyW2ldKCl9KX12YXIgdD1mdW5jdGlvbihpLHIpe3RoaXMub3B0aW9ucz1uLmV4dGVuZCh7fSx0LkRFRkFVTFRTLHIpO3RoaXMuJHRhcmdldD1uKHRoaXMub3B0aW9ucy50YXJnZXQpLm9uKCJzY3JvbGwuYnMuYWZmaXguZGF0YS1hcGkiLG4ucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uLHRoaXMpKS5vbigiY2xpY2suYnMuYWZmaXguZGF0YS1hcGkiLG4ucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcCx0aGlzKSk7dGhpcy4kZWxlbWVudD1uKGkpO3RoaXMuYWZmaXhlZD1udWxsO3RoaXMudW5waW49bnVsbDt0aGlzLnBpbm5lZE9mZnNldD1udWxsO3RoaXMuY2hlY2tQb3NpdGlvbigpfSxyO3QuVkVSU0lPTj0iMy4zLjciO3QuUkVTRVQ9ImFmZml4IGFmZml4LXRvcCBhZmZpeC1ib3R0b20iO3QuREVGQVVMVFM9e29mZnNldDowLHRhcmdldDp3aW5kb3d9O3QucHJvdG90eXBlLmdldFN0YXRlPWZ1bmN0aW9uKG4sdCxpLHIpe3ZhciB1PXRoaXMuJHRhcmdldC5zY3JvbGxUb3AoKSxmPXRoaXMuJGVsZW1lbnQub2Zmc2V0KCksZT10aGlzLiR0YXJnZXQuaGVpZ2h0KCk7aWYoaSE9bnVsbCYmdGhpcy5hZmZpeGVkPT0idG9wIilyZXR1cm4gdTxpPyJ0b3AiOiExO2lmKHRoaXMuYWZmaXhlZD09ImJvdHRvbSIpcmV0dXJuIGkhPW51bGw/dSt0aGlzLnVucGluPD1mLnRvcD8hMToiYm90dG9tIjp1K2U8PW4tcj8hMToiYm90dG9tIjt2YXIgbz10aGlzLmFmZml4ZWQ9PW51bGwscz1vP3U6Zi50b3AsaD1vP2U6dDtyZXR1cm4gaSE9bnVsbCYmdTw9aT8idG9wIjpyIT1udWxsJiZzK2g+PW4tcj8iYm90dG9tIjohMX07dC5wcm90b3R5cGUuZ2V0UGlubmVkT2Zmc2V0PWZ1bmN0aW9uKCl7aWYodGhpcy5waW5uZWRPZmZzZXQpcmV0dXJuIHRoaXMucGlubmVkT2Zmc2V0O3RoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3ModC5SRVNFVCkuYWRkQ2xhc3MoImFmZml4Iik7dmFyIG49dGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpLGk9dGhpcy4kZWxlbWVudC5vZmZzZXQoKTtyZXR1cm4gdGhpcy5waW5uZWRPZmZzZXQ9aS50b3Atbn07dC5wcm90b3R5cGUuY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3A9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KG4ucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uLHRoaXMpLDEpfTt0LnByb3RvdHlwZS5jaGVja1Bvc2l0aW9uPWZ1bmN0aW9uKCl7dmFyIGksZSxvO2lmKHRoaXMuJGVsZW1lbnQuaXMoIjp2aXNpYmxlIikpe3ZhciBzPXRoaXMuJGVsZW1lbnQuaGVpZ2h0KCkscj10aGlzLm9wdGlvbnMub2Zmc2V0LGY9ci50b3AsdT1yLmJvdHRvbSxoPU1hdGgubWF4KG4oZG9jdW1lbnQpLmhlaWdodCgpLG4oZG9jdW1lbnQuYm9keSkuaGVpZ2h0KCkpO2lmKHR5cGVvZiByIT0ib2JqZWN0IiYmKHU9Zj1yKSx0eXBlb2YgZj09ImZ1bmN0aW9uIiYmKGY9ci50b3AodGhpcy4kZWxlbWVudCkpLHR5cGVvZiB1PT0iZnVuY3Rpb24iJiYodT1yLmJvdHRvbSh0aGlzLiRlbGVtZW50KSksaT10aGlzLmdldFN0YXRlKGgscyxmLHUpLHRoaXMuYWZmaXhlZCE9aSl7aWYodGhpcy51bnBpbiE9bnVsbCYmdGhpcy4kZWxlbWVudC5jc3MoInRvcCIsIiIpLGU9ImFmZml4IisoaT8iLSIraToiIiksbz1uLkV2ZW50KGUrIi5icy5hZmZpeCIpLHRoaXMuJGVsZW1lbnQudHJpZ2dlcihvKSxvLmlzRGVmYXVsdFByZXZlbnRlZCgpKXJldHVybjt0aGlzLmFmZml4ZWQ9aTt0aGlzLnVucGluPWk9PSJib3R0b20iP3RoaXMuZ2V0UGlubmVkT2Zmc2V0KCk6bnVsbDt0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKHQuUkVTRVQpLmFkZENsYXNzKGUpLnRyaWdnZXIoZS5yZXBsYWNlKCJhZmZpeCIsImFmZml4ZWQiKSsiLmJzLmFmZml4Iil9aT09ImJvdHRvbSImJnRoaXMuJGVsZW1lbnQub2Zmc2V0KHt0b3A6aC1zLXV9KX19O3I9bi5mbi5hZmZpeDtuLmZuLmFmZml4PWk7bi5mbi5hZmZpeC5Db25zdHJ1Y3Rvcj10O24uZm4uYWZmaXgubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBuLmZuLmFmZml4PXIsdGhpc307bih3aW5kb3cpLm9uKCJsb2FkIixmdW5jdGlvbigpe24oJ1tkYXRhLXNweT0iYWZmaXgiXScpLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1uKHRoaXMpLHQ9ci5kYXRhKCk7dC5vZmZzZXQ9dC5vZmZzZXR8fHt9O3Qub2Zmc2V0Qm90dG9tIT1udWxsJiYodC5vZmZzZXQuYm90dG9tPXQub2Zmc2V0Qm90dG9tKTt0Lm9mZnNldFRvcCE9bnVsbCYmKHQub2Zmc2V0LnRvcD10Lm9mZnNldFRvcCk7aS5jYWxsKHIsdCl9KX0pfShqUXVlcnkpOwovKiEgbWF0Y2hNZWRpYSgpIHBvbHlmaWxsIC0gVGVzdCBhIENTUyBtZWRpYSB0eXBlL3F1ZXJ5IGluIEpTLiBBdXRob3JzICYgY29weXJpZ2h0IChjKSAyMDEyOiBTY290dCBKZWhsLCBQYXVsIElyaXNoLCBOaWNob2xhcyBaYWthcy4gRHVhbCBNSVQvQlNEIGxpY2Vuc2UgKi8KLyohIE5PVEU6IElmIHlvdSdyZSBhbHJlYWR5IGluY2x1ZGluZyBhIHdpbmRvdy5tYXRjaE1lZGlhIHBvbHlmaWxsIHZpYSBNb2Rlcm5penIgb3Igb3RoZXJ3aXNlLCB5b3UgZG9uJ3QgbmVlZCB0aGlzIHBhcnQgKi8Kd2luZG93Lm1hdGNoTWVkaWE9d2luZG93Lm1hdGNoTWVkaWF8fGZ1bmN0aW9uKG4pe3ZhciB1LGk9bi5kb2N1bWVudEVsZW1lbnQsZj1pLmZpcnN0RWxlbWVudENoaWxkfHxpLmZpcnN0Q2hpbGQscj1uLmNyZWF0ZUVsZW1lbnQoImJvZHkiKSx0PW4uY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIHQuaWQ9Im1xLXRlc3QtMSIsdC5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6LTEwMGVtIixyLnN0eWxlLmJhY2tncm91bmQ9Im5vbmUiLHIuYXBwZW5kQ2hpbGQodCksZnVuY3Rpb24obil7cmV0dXJuIHQuaW5uZXJIVE1MPScmc2h5OzxzdHlsZSBtZWRpYT0iJytuKyciPiAjbXEtdGVzdC0xIHsgd2lkdGg6IDQycHg7IH08XC9zdHlsZT4nLGkuaW5zZXJ0QmVmb3JlKHIsZiksdT10Lm9mZnNldFdpZHRoPT00MixpLnJlbW92ZUNoaWxkKHIpLHttYXRjaGVzOnUsbWVkaWE6bn19fShkb2N1bWVudCk7Ci8qISBSZXNwb25kLmpzIHYxLjIuMDogbWluL21heC13aWR0aCBtZWRpYSBxdWVyeSBwb2x5ZmlsbC4gKGMpIFNjb3R0IEplaGwuIE1JVC9HUEx2MiBMaWMuIGoubXAvcmVzcG9uZGpzICAqLwooZnVuY3Rpb24obil7ZnVuY3Rpb24gZCgpe2EoITApfWlmKG4ucmVzcG9uZD17fSxyZXNwb25kLnVwZGF0ZT1mdW5jdGlvbigpe30scmVzcG9uZC5tZWRpYVF1ZXJpZXNTdXBwb3J0ZWQ9bi5tYXRjaE1lZGlhJiZuLm1hdGNoTWVkaWEoIm9ubHkgYWxsIikubWF0Y2hlcywhcmVzcG9uZC5tZWRpYVF1ZXJpZXNTdXBwb3J0ZWQpe3ZhciB0PW4uZG9jdW1lbnQsaT10LmRvY3VtZW50RWxlbWVudCxlPVtdLHU9W10scj1bXSxvPXt9LHY9MzAsZj10LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF18fGksZz10LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJiYXNlIilbMF0scz1mLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJsaW5rIiksaD1bXSx5PWZ1bmN0aW9uKCl7Zm9yKHZhciBmPXMsYz1mLmxlbmd0aCxyPTAsdCxpLHUsZTtyPGM7cisrKXQ9ZltyXSxpPXQuaHJlZix1PXQubWVkaWEsZT10LnJlbCYmdC5yZWwudG9Mb3dlckNhc2UoKT09PSJzdHlsZXNoZWV0IiwhaXx8IWV8fG9baV18fCh0LnN0eWxlU2hlZXQmJnQuc3R5bGVTaGVldC5yYXdDc3NUZXh0Pyh3KHQuc3R5bGVTaGVldC5yYXdDc3NUZXh0LGksdSksb1tpXT0hMCk6KC9eKFthLXpBLVo6XSpcL1wvKS8udGVzdChpKXx8ZykmJmkucmVwbGFjZShSZWdFeHAuJDEsIiIpLnNwbGl0KCIvIilbMF0hPT1uLmxvY2F0aW9uLmhvc3R8fGgucHVzaCh7aHJlZjppLG1lZGlhOnV9KSk7cCgpfSxwPWZ1bmN0aW9uKCl7aWYoaC5sZW5ndGgpe3ZhciBuPWguc2hpZnQoKTtudChuLmhyZWYsZnVuY3Rpb24odCl7dyh0LG4uaHJlZixuLm1lZGlhKTtvW24uaHJlZl09ITA7cCgpfSl9fSx3PWZ1bmN0aW9uKG4sdCxpKXt2YXIgbz1uLm1hdGNoKC9AbWVkaWFbXlx7XStceyhbXlx7XH1dKlx7W15cfVx7XSpcfSkrL2dpKSxzPW8mJm8ubGVuZ3RofHwwLHQ9dC5zdWJzdHJpbmcoMCx0Lmxhc3RJbmRleE9mKCIvIikpLHY9ZnVuY3Rpb24obil7cmV0dXJuIG4ucmVwbGFjZSgvKHVybFwoKVsnIl0/KFteXC9cKSciXVteOlwpJyJdKylbJyJdPyhcKSkvZywiJDEiK3QrIiQyJDMiKX0seT0hcyYmaSxoPTAsZixjLHIsbCxwO2Zvcih0Lmxlbmd0aCYmKHQrPSIvIikseSYmKHM9MSk7aDxzO2grKylmb3IoZj0wLHk/KGM9aSx1LnB1c2godihuKSkpOihjPW9baF0ubWF0Y2goL0BtZWRpYSAqKFteXHtdKylceyhbXFNcc10rPykkLykmJlJlZ0V4cC4kMSx1LnB1c2goUmVnRXhwLiQyJiZ2KFJlZ0V4cC4kMikpKSxsPWMuc3BsaXQoIiwiKSxwPWwubGVuZ3RoO2Y8cDtmKyspcj1sW2ZdLGUucHVzaCh7bWVkaWE6ci5zcGxpdCgiKCIpWzBdLm1hdGNoKC8ob25seVxzKyk/KFthLXpBLVpdKylccz8vKSYmUmVnRXhwLiQyfHwiYWxsIixydWxlczp1Lmxlbmd0aC0xLGhhc3F1ZXJ5OnIuaW5kZXhPZigiKCIpPi0xLG1pbnc6ci5tYXRjaCgvXChtaW5cLXdpZHRoOltcc10qKFtcc10qWzAtOVwuXSspKHB4fGVtKVtcc10qXCkvKSYmcGFyc2VGbG9hdChSZWdFeHAuJDEpKyhSZWdFeHAuJDJ8fCIiKSxtYXh3OnIubWF0Y2goL1wobWF4XC13aWR0aDpbXHNdKihbXHNdKlswLTlcLl0rKShweHxlbSlbXHNdKlwpLykmJnBhcnNlRmxvYXQoUmVnRXhwLiQxKSsoUmVnRXhwLiQyfHwiIil9KTthKCl9LGMsYixrPWZ1bmN0aW9uKCl7dmFyIHUscj10LmNyZWF0ZUVsZW1lbnQoImRpdiIpLG49dC5ib2R5LGY9ITE7cmV0dXJuIHIuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7Zm9udC1zaXplOjFlbTt3aWR0aDoxZW0iLG58fChuPWY9dC5jcmVhdGVFbGVtZW50KCJib2R5Iiksbi5zdHlsZS5iYWNrZ3JvdW5kPSJub25lIiksbi5hcHBlbmRDaGlsZChyKSxpLmluc2VydEJlZm9yZShuLGkuZmlyc3RDaGlsZCksdT1yLm9mZnNldFdpZHRoLGY/aS5yZW1vdmVDaGlsZChuKTpuLnJlbW92ZUNoaWxkKHIpLGw9cGFyc2VGbG9hdCh1KX0sbCxhPWZ1bmN0aW9uKG4pe3ZhciBudD0iY2xpZW50V2lkdGgiLHR0PWlbbnRdLGl0PXQuY29tcGF0TW9kZT09PSJDU1MxQ29tcGF0IiYmdHR8fHQuYm9keVtudF18fHR0LGQ9e30sb3Q9c1tzLmxlbmd0aC0xXSxydD0obmV3IERhdGUpLmdldFRpbWUoKSxvLGgsZztpZihuJiZjJiZydC1jPHYpe2NsZWFyVGltZW91dChiKTtiPXNldFRpbWVvdXQoYSx2KTtyZXR1cm59Yz1ydDtmb3IobyBpbiBlKXt2YXIgeT1lW29dLHA9eS5taW53LHc9eS5tYXh3LHV0PXA9PT1udWxsLGZ0PXc9PT1udWxsLGV0PSJlbSI7IXB8fChwPXBhcnNlRmxvYXQocCkqKHAuaW5kZXhPZihldCk+LTE/bHx8aygpOjEpKTshd3x8KHc9cGFyc2VGbG9hdCh3KSoody5pbmRleE9mKGV0KT4tMT9sfHxrKCk6MSkpO3kuaGFzcXVlcnkmJih1dCYmZnR8fCEodXR8fGl0Pj1wKXx8IShmdHx8aXQ8PXcpKXx8KGRbeS5tZWRpYV18fChkW3kubWVkaWFdPVtdKSxkW3kubWVkaWFdLnB1c2godVt5LnJ1bGVzXSkpfWZvcihvIGluIHIpcltvXSYmcltvXS5wYXJlbnROb2RlPT09ZiYmZi5yZW1vdmVDaGlsZChyW29dKTtmb3IobyBpbiBkKWg9dC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLGc9ZFtvXS5qb2luKCJcbiIpLGgudHlwZT0idGV4dC9jc3MiLGgubWVkaWE9byxmLmluc2VydEJlZm9yZShoLG90Lm5leHRTaWJsaW5nKSxoLnN0eWxlU2hlZXQ/aC5zdHlsZVNoZWV0LmNzc1RleHQ9ZzpoLmFwcGVuZENoaWxkKHQuY3JlYXRlVGV4dE5vZGUoZykpLHIucHVzaChoKX0sbnQ9ZnVuY3Rpb24obix0KXt2YXIgaT10dCgpO2kmJihpLm9wZW4oIkdFVCIsbiwhMCksaS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtpLnJlYWR5U3RhdGU9PTQmJihpLnN0YXR1cz09MjAwfHxpLnN0YXR1cz09MzA0KSYmdChpLnJlc3BvbnNlVGV4dCl9LGkucmVhZHlTdGF0ZSE9NCkmJmkuc2VuZChudWxsKX0sdHQ9ZnVuY3Rpb24oKXt2YXIgbj0hMTt0cnl7bj1uZXcgWE1MSHR0cFJlcXVlc3R9Y2F0Y2godCl7bj1uZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbn19KCk7eSgpO3Jlc3BvbmQudXBkYXRlPXk7bi5hZGRFdmVudExpc3RlbmVyP24uYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIixkLCExKTpuLmF0dGFjaEV2ZW50JiZuLmF0dGFjaEV2ZW50KCJvbnJlc2l6ZSIsZCl9fSkodGhpcyk7IWZ1bmN0aW9uKG4sdCl7ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUodCk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPXQocmVxdWlyZSxleHBvcnRzLG1vZHVsZSk6bi5UZXRoZXI9dCgpfSh0aGlzLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHJ0KG4sdCl7aWYoIShuIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IFR5cGVFcnJvcigiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uIik7fWZ1bmN0aW9uIGMobil7dmFyIGY9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx0PXt9LHIsdSxpO2ZvcihyIGluIGYpdFtyXT1mW3JdO3JldHVybiBuLm93bmVyRG9jdW1lbnQhPT1kb2N1bWVudCYmKHU9bi5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmZyYW1lRWxlbWVudCx1JiYoaT1jKHUpLHQudG9wKz1pLnRvcCx0LmJvdHRvbSs9aS50b3AsdC5sZWZ0Kz1pLmxlZnQsdC5yaWdodCs9aS5sZWZ0KSksdH1mdW5jdGlvbiB1dChuKXt2YXIgZT1nZXRDb21wdXRlZFN0eWxlKG4pfHx7fSxmPWUucG9zaXRpb24saT1bXSx0LHI7aWYoImZpeGVkIj09PWYpcmV0dXJuW25dO2Zvcih0PW47KHQ9dC5wYXJlbnROb2RlKSYmdCYmMT09PXQubm9kZVR5cGU7KXtyPXZvaWQgMDt0cnl7cj1nZXRDb21wdXRlZFN0eWxlKHQpfWNhdGNoKGMpe31pZigidW5kZWZpbmVkIj09dHlwZW9mIHJ8fG51bGw9PT1yKXJldHVybiBpLnB1c2godCksaTt2YXIgdT1yLG89dS5vdmVyZmxvdyxzPXUub3ZlcmZsb3dYLGg9dS5vdmVyZmxvd1k7LyhhdXRvfHNjcm9sbCkvLnRlc3QobytoK3MpJiYoImFic29sdXRlIiE9PWZ8fFsicmVsYXRpdmUiLCJhYnNvbHV0ZSIsImZpeGVkIl0uaW5kZXhPZihyLnBvc2l0aW9uKT49MCkmJmkucHVzaCh0KX1yZXR1cm4gaS5wdXNoKG4ub3duZXJEb2N1bWVudC5ib2R5KSxuLm93bmVyRG9jdW1lbnQhPT1kb2N1bWVudCYmaS5wdXNoKG4ub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldyksaX1mdW5jdGlvbiBmdCgpe3MmJmRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQocyk7cz1udWxsfWZ1bmN0aW9uIGkobil7dmFyIGk9dm9pZCAwO249PT1kb2N1bWVudD8oaT1kb2N1bWVudCxuPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCk6aT1uLm93bmVyRG9jdW1lbnQ7dmFyIHI9aS5kb2N1bWVudEVsZW1lbnQsdD1jKG4pLHU9ZHQoKTtyZXR1cm4gdC50b3AtPXUudG9wLHQubGVmdC09dS5sZWZ0LCJ1bmRlZmluZWQiPT10eXBlb2YgdC53aWR0aCYmKHQud2lkdGg9ZG9jdW1lbnQuYm9keS5zY3JvbGxXaWR0aC10LmxlZnQtdC5yaWdodCksInVuZGVmaW5lZCI9PXR5cGVvZiB0LmhlaWdodCYmKHQuaGVpZ2h0PWRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0LXQudG9wLXQuYm90dG9tKSx0LnRvcD10LnRvcC1yLmNsaWVudFRvcCx0LmxlZnQ9dC5sZWZ0LXIuY2xpZW50TGVmdCx0LnJpZ2h0PWkuYm9keS5jbGllbnRXaWR0aC10LndpZHRoLXQubGVmdCx0LmJvdHRvbT1pLmJvZHkuY2xpZW50SGVpZ2h0LXQuaGVpZ2h0LXQudG9wLHR9ZnVuY3Rpb24gbChuKXtyZXR1cm4gbi5vZmZzZXRQYXJlbnR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudH1mdW5jdGlvbiB3KCl7dmFyIHQsbix1LGksZjtyZXR1cm4gZz9nOih0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHQuc3R5bGUud2lkdGg9IjEwMCUiLHQuc3R5bGUuaGVpZ2h0PSIyMDBweCIsbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxyKG4uc3R5bGUse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdG9wOjAsbGVmdDowLHBvaW50ZXJFdmVudHM6Im5vbmUiLHZpc2liaWxpdHk6ImhpZGRlbiIsd2lkdGg6IjIwMHB4IixoZWlnaHQ6IjE1MHB4IixvdmVyZmxvdzoiaGlkZGVuIn0pLG4uYXBwZW5kQ2hpbGQodCksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChuKSx1PXQub2Zmc2V0V2lkdGgsbi5zdHlsZS5vdmVyZmxvdz0ic2Nyb2xsIixpPXQub2Zmc2V0V2lkdGgsdT09PWkmJihpPW4uY2xpZW50V2lkdGgpLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobiksZj11LWksZz17d2lkdGg6ZixoZWlnaHQ6Zn0pfWZ1bmN0aW9uIHIoKXt2YXIgbj1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF0/e306YXJndW1lbnRzWzBdLHQ9W107cmV0dXJuIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHQsYXJndW1lbnRzKSx0LnNsaWNlKDEpLmZvckVhY2goZnVuY3Rpb24odCl7aWYodClmb3IodmFyIGkgaW4gdCkoe30pLmhhc093blByb3BlcnR5LmNhbGwodCxpKSYmKG5baV09dFtpXSl9KSxufWZ1bmN0aW9uIG8obix0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIG4uY2xhc3NMaXN0KXQuc3BsaXQoIiAiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QudHJpbSgpJiZuLmNsYXNzTGlzdC5yZW1vdmUodCl9KTtlbHNle3ZhciBpPW5ldyBSZWdFeHAoIihefCApIit0LnNwbGl0KCIgIikuam9pbigifCIpKyIoIHwkKSIsImdpIikscj1rKG4pLnJlcGxhY2UoaSwiICIpO2V0KG4scil9fWZ1bmN0aW9uIGUobix0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIG4uY2xhc3NMaXN0KXQuc3BsaXQoIiAiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QudHJpbSgpJiZuLmNsYXNzTGlzdC5hZGQodCl9KTtlbHNle28obix0KTt2YXIgaT1rKG4pKygiICIrdCk7ZXQobixpKX19ZnVuY3Rpb24gYihuLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2Ygbi5jbGFzc0xpc3QpcmV0dXJuIG4uY2xhc3NMaXN0LmNvbnRhaW5zKHQpO3ZhciBpPWsobik7cmV0dXJuIG5ldyBSZWdFeHAoIihefCApIit0KyIoIHwkKSIsImdpIikudGVzdChpKX1mdW5jdGlvbiBrKG4pe3JldHVybiBuLmNsYXNzTmFtZSBpbnN0YW5jZW9mIG4ub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5TVkdBbmltYXRlZFN0cmluZz9uLmNsYXNzTmFtZS5iYXNlVmFsOm4uY2xhc3NOYW1lfWZ1bmN0aW9uIGV0KG4sdCl7bi5zZXRBdHRyaWJ1dGUoImNsYXNzIix0KX1mdW5jdGlvbiB1KG4sdCxpKXtpLmZvckVhY2goZnVuY3Rpb24oaSl7dC5pbmRleE9mKGkpPT09LTEmJmIobixpKSYmbyhuLGkpfSk7dC5mb3JFYWNoKGZ1bmN0aW9uKHQpe2Iobix0KXx8ZShuLHQpfSl9ZnVuY3Rpb24gcnQobix0KXtpZighKG4gaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTt9ZnVuY3Rpb24gd3Qobix0KXtpZigiZnVuY3Rpb24iIT10eXBlb2YgdCYmbnVsbCE9PXQpdGhyb3cgbmV3IFR5cGVFcnJvcigiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCAiK3R5cGVvZiB0KTtuLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHQmJnQucHJvdG90eXBlLHtjb25zdHJ1Y3Rvcjp7dmFsdWU6bixlbnVtZXJhYmxlOiExLHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KTt0JiYoT2JqZWN0LnNldFByb3RvdHlwZU9mP09iamVjdC5zZXRQcm90b3R5cGVPZihuLHQpOm4uX19wcm90b19fPXQpfWZ1bmN0aW9uIGJ0KG4sdCl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aDw9Mnx8dm9pZCAwPT09YXJndW1lbnRzWzJdPzE6YXJndW1lbnRzWzJdO3JldHVybiBuK2k+PXQmJnQ+PW4taX1mdW5jdGlvbiBkKCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBwZXJmb3JtYW5jZSYmInVuZGVmaW5lZCIhPXR5cGVvZiBwZXJmb3JtYW5jZS5ub3c/cGVyZm9ybWFuY2Uubm93KCk6K25ldyBEYXRlfWZ1bmN0aW9uIG90KCl7Zm9yKHZhciB0PXt0b3A6MCxsZWZ0OjB9LGk9YXJndW1lbnRzLmxlbmd0aCxyPUFycmF5KGkpLG49MDtuPGk7bisrKXJbbl09YXJndW1lbnRzW25dO3JldHVybiByLmZvckVhY2goZnVuY3Rpb24obil7dmFyIGk9bi50b3Ascj1uLmxlZnQ7InN0cmluZyI9PXR5cGVvZiBpJiYoaT1wYXJzZUZsb2F0KGksMTApKTsic3RyaW5nIj09dHlwZW9mIHImJihyPXBhcnNlRmxvYXQociwxMCkpO3QudG9wKz1pO3QubGVmdCs9cn0pLHR9ZnVuY3Rpb24gYShuLHQpe3JldHVybiJzdHJpbmciPT10eXBlb2Ygbi5sZWZ0JiZuLmxlZnQuaW5kZXhPZigiJSIpIT09LTEmJihuLmxlZnQ9cGFyc2VGbG9hdChuLmxlZnQsMTApLzEwMCp0LndpZHRoKSwic3RyaW5nIj09dHlwZW9mIG4udG9wJiZuLnRvcC5pbmRleE9mKCIlIikhPT0tMSYmKG4udG9wPXBhcnNlRmxvYXQobi50b3AsMTApLzEwMCp0LmhlaWdodCksbn1mdW5jdGlvbiBrdChuLHQpe3JldHVybiJzY3JvbGxQYXJlbnQiPT09dD90PW4uc2Nyb2xsUGFyZW50c1swXToid2luZG93Ij09PXQmJih0PVtwYWdlWE9mZnNldCxwYWdlWU9mZnNldCxpbm5lcldpZHRoK3BhZ2VYT2Zmc2V0LGlubmVySGVpZ2h0K3BhZ2VZT2Zmc2V0XSksdD09PWRvY3VtZW50JiYodD10LmRvY3VtZW50RWxlbWVudCksInVuZGVmaW5lZCIhPXR5cGVvZiB0Lm5vZGVUeXBlJiYhZnVuY3Rpb24oKXt2YXIgZj10LHU9aSh0KSxyPXUsZT1nZXRDb21wdXRlZFN0eWxlKHQpLG47KHQ9W3IubGVmdCxyLnRvcCx1LndpZHRoK3IubGVmdCx1LmhlaWdodCtyLnRvcF0sZi5vd25lckRvY3VtZW50IT09ZG9jdW1lbnQpJiYobj1mLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcsdFswXSs9bi5wYWdlWE9mZnNldCx0WzFdKz1uLnBhZ2VZT2Zmc2V0LHRbMl0rPW4ucGFnZVhPZmZzZXQsdFszXSs9bi5wYWdlWU9mZnNldCk7dWkuZm9yRWFjaChmdW5jdGlvbihuLGkpe249blswXS50b1VwcGVyQ2FzZSgpK24uc3Vic3RyKDEpOyJUb3AiPT09bnx8IkxlZnQiPT09bj90W2ldKz1wYXJzZUZsb2F0KGVbImJvcmRlciIrbisiV2lkdGgiXSk6dFtpXS09cGFyc2VGbG9hdChlWyJib3JkZXIiK24rIldpZHRoIl0pfSl9KCksdH12YXIgc3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4sdCl7Zm9yKHZhciBpLHI9MDtyPHQubGVuZ3RoO3IrKylpPXRbcl0saS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsInZhbHVlImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixpLmtleSxpKX1yZXR1cm4gZnVuY3Rpb24odCxpLHIpe3JldHVybiBpJiZuKHQucHJvdG90eXBlLGkpLHImJm4odCxyKSx0fX0oKSx0PXZvaWQgMCx5OyJ1bmRlZmluZWQiPT10eXBlb2YgdCYmKHQ9e21vZHVsZXM6W119KTt2YXIgcz1udWxsLGh0PWZ1bmN0aW9uKCl7dmFyIG49MDtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4rK259fSgpLHY9e30sZHQ9ZnVuY3Rpb24oKXt2YXIgbj1zLHQ7cmV0dXJuIG4mJmRvY3VtZW50LmJvZHkuY29udGFpbnMobil8fChuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLG4uc2V0QXR0cmlidXRlKCJkYXRhLXRldGhlci1pZCIsaHQoKSkscihuLnN0eWxlLHt0b3A6MCxsZWZ0OjAscG9zaXRpb246ImFic29sdXRlIn0pLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobikscz1uKSx0PW4uZ2V0QXR0cmlidXRlKCJkYXRhLXRldGhlci1pZCIpLCJ1bmRlZmluZWQiPT10eXBlb2Ygdlt0XSYmKHZbdF09YyhuKSxmKGZ1bmN0aW9uKCl7ZGVsZXRlIHZbdF19KSksdlt0XX0sZz1udWxsLGN0PVtdLGY9ZnVuY3Rpb24obil7Y3QucHVzaChuKX0sbnQ9ZnVuY3Rpb24oKXtmb3IodmFyIG49dm9pZCAwO249Y3QucG9wKCk7KW4oKX0sbHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7cnQodGhpcyxuKX1yZXR1cm4gc3Qobixbe2tleToib24iLHZhbHVlOmZ1bmN0aW9uKG4sdCxpKXt2YXIgcj0hKGFyZ3VtZW50cy5sZW5ndGg8PTN8fHZvaWQgMD09PWFyZ3VtZW50c1szXSkmJmFyZ3VtZW50c1szXTsidW5kZWZpbmVkIj09dHlwZW9mIHRoaXMuYmluZGluZ3MmJih0aGlzLmJpbmRpbmdzPXt9KTsidW5kZWZpbmVkIj09dHlwZW9mIHRoaXMuYmluZGluZ3Nbbl0mJih0aGlzLmJpbmRpbmdzW25dPVtdKTt0aGlzLmJpbmRpbmdzW25dLnB1c2goe2hhbmRsZXI6dCxjdHg6aSxvbmNlOnJ9KX19LHtrZXk6Im9uY2UiLHZhbHVlOmZ1bmN0aW9uKG4sdCxpKXt0aGlzLm9uKG4sdCxpLCEwKX19LHtrZXk6Im9mZiIsdmFsdWU6ZnVuY3Rpb24obix0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIHRoaXMuYmluZGluZ3MmJiJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy5iaW5kaW5nc1tuXSlpZigidW5kZWZpbmVkIj09dHlwZW9mIHQpZGVsZXRlIHRoaXMuYmluZGluZ3Nbbl07ZWxzZSBmb3IodmFyIGk9MDtpPHRoaXMuYmluZGluZ3Nbbl0ubGVuZ3RoOyl0aGlzLmJpbmRpbmdzW25dW2ldLmhhbmRsZXI9PT10P3RoaXMuYmluZGluZ3Nbbl0uc3BsaWNlKGksMSk6KytpfX0se2tleToidHJpZ2dlciIsdmFsdWU6ZnVuY3Rpb24obil7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiB0aGlzLmJpbmRpbmdzJiZ0aGlzLmJpbmRpbmdzW25dKXtmb3IodmFyIHQ9MCxyPWFyZ3VtZW50cy5sZW5ndGgsZT1BcnJheShyPjE/ci0xOjApLGk9MTtpPHI7aSsrKWVbaS0xXT1hcmd1bWVudHNbaV07Zm9yKDt0PHRoaXMuYmluZGluZ3Nbbl0ubGVuZ3RoOyl7dmFyIHU9dGhpcy5iaW5kaW5nc1tuXVt0XSxvPXUuaGFuZGxlcixzPXUuY3R4LGg9dS5vbmNlLGY9czsidW5kZWZpbmVkIj09dHlwZW9mIGYmJihmPXRoaXMpO28uYXBwbHkoZixlKTtoP3RoaXMuYmluZGluZ3Nbbl0uc3BsaWNlKHQsMSk6Kyt0fX19fV0pLG59KCk7dC5VdGlscz17Z2V0QWN0dWFsQm91bmRpbmdDbGllbnRSZWN0OmMsZ2V0U2Nyb2xsUGFyZW50czp1dCxnZXRCb3VuZHM6aSxnZXRPZmZzZXRQYXJlbnQ6bCxleHRlbmQ6cixhZGRDbGFzczplLHJlbW92ZUNsYXNzOm8saGFzQ2xhc3M6Yix1cGRhdGVDbGFzc2VzOnUsZGVmZXI6ZixmbHVzaDpudCx1bmlxdWVJZDpodCxFdmVudGVkOmx0LGdldFNjcm9sbEJhclNpemU6dyxyZW1vdmVVdGlsRWxlbWVudHM6ZnR9O3ZhciB5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLHQpe3ZhciByPVtdLHU9ITAsZj0hMSxlPXZvaWQgMCxvLGk7dHJ5e2ZvcihpPW5bU3ltYm9sLml0ZXJhdG9yXSgpOyEodT0obz1pLm5leHQoKSkuZG9uZSkmJihyLnB1c2goby52YWx1ZSksIXR8fHIubGVuZ3RoIT09dCk7dT0hMCk7fWNhdGNoKHMpe2Y9ITA7ZT1zfWZpbmFsbHl7dHJ5eyF1JiZpWyJyZXR1cm4iXSYmaVsicmV0dXJuIl0oKX1maW5hbGx5e2lmKGYpdGhyb3cgZTt9fXJldHVybiByfXJldHVybiBmdW5jdGlvbih0LGkpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHQ7aWYoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdCh0KSlyZXR1cm4gbih0LGkpO3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UiKTt9fSgpLHN0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLHQpe2Zvcih2YXIgaSxyPTA7cjx0Lmxlbmd0aDtyKyspaT10W3JdLGkuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4saS5rZXksaSl9cmV0dXJuIGZ1bmN0aW9uKHQsaSxyKXtyZXR1cm4gaSYmbih0LnByb3RvdHlwZSxpKSxyJiZuKHQsciksdH19KCksZ3Q9ZnVuY3Rpb24obix0LGkpe2Zvcih2YXIgcixvLGUsdT0hMDt1Oyl7dmFyIGY9bixzPXQsaD1pO2lmKHU9ITEsbnVsbD09PWYmJihmPUZ1bmN0aW9uLnByb3RvdHlwZSkscj1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGYscyksdm9pZCAwIT09cilyZXR1cm4idmFsdWUiaW4gcj9yLnZhbHVlOihvPXIuZ2V0LHZvaWQgMD09PW8pP3ZvaWQgMDpvLmNhbGwoaCk7aWYoZT1PYmplY3QuZ2V0UHJvdG90eXBlT2YoZiksbnVsbD09PWUpcmV0dXJuO249ZTt0PXM7aT1oO3U9ITA7cj1lPXZvaWQgMH19O2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoIllvdSBtdXN0IGluY2x1ZGUgdGhlIHV0aWxzLmpzIGZpbGUgYmVmb3JlIHRldGhlci5qcyIpO3ZhciBuPXQuVXRpbHMsdXQ9bi5nZXRTY3JvbGxQYXJlbnRzLGk9bi5nZXRCb3VuZHMsbD1uLmdldE9mZnNldFBhcmVudCxyPW4uZXh0ZW5kLGU9bi5hZGRDbGFzcyxvPW4ucmVtb3ZlQ2xhc3MsdT1uLnVwZGF0ZUNsYXNzZXMsZj1uLmRlZmVyLG50PW4uZmx1c2gsdz1uLmdldFNjcm9sbEJhclNpemUsZnQ9bi5yZW1vdmVVdGlsRWxlbWVudHMsdHQ9ZnVuY3Rpb24oKXt2YXIgdDtpZigidW5kZWZpbmVkIj09dHlwZW9mIGRvY3VtZW50KXJldHVybiIiO2Zvcih2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxpPVsidHJhbnNmb3JtIiwiV2Via2l0VHJhbnNmb3JtIiwiT1RyYW5zZm9ybSIsIk1velRyYW5zZm9ybSIsIm1zVHJhbnNmb3JtIl0sbj0wO248aS5sZW5ndGg7KytuKWlmKHQ9aVtuXSx2b2lkIDAhPT1yLnN0eWxlW3RdKXJldHVybiB0fSgpLGg9W10sYXQ9ZnVuY3Rpb24oKXtoLmZvckVhY2goZnVuY3Rpb24obil7bi5wb3NpdGlvbighMSl9KTtudCgpfTshZnVuY3Rpb24oKXt2YXIgdD1udWxsLG49bnVsbCxpPW51bGwscj1mdW5jdGlvbiB1KCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBuJiZuPjE2PyhuPU1hdGgubWluKG4tMTYsMjUwKSx2b2lkKGk9c2V0VGltZW91dCh1LDI1MCkpKTp2b2lkKCJ1bmRlZmluZWQiIT10eXBlb2YgdCYmZCgpLXQ8MTB8fChudWxsIT1pJiYoY2xlYXJUaW1lb3V0KGkpLGk9bnVsbCksdD1kKCksYXQoKSxuPWQoKS10KSl9OyJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiYidW5kZWZpbmVkIiE9dHlwZW9mIGFkZEV2ZW50TGlzdGVuZXImJlsicmVzaXplIiwic2Nyb2xsIiwidG91Y2htb3ZlIl0uZm9yRWFjaChmdW5jdGlvbihuKXt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihuLHIpfSl9KCk7dmFyIG5pPXtjZW50ZXI6ImNlbnRlciIsbGVmdDoicmlnaHQiLHJpZ2h0OiJsZWZ0In0sdGk9e21pZGRsZToibWlkZGxlIix0b3A6ImJvdHRvbSIsYm90dG9tOiJ0b3AifSxwPXt0b3A6MCxsZWZ0OjAsbWlkZGxlOiI1MCUiLGNlbnRlcjoiNTAlIixib3R0b206IjEwMCUiLHJpZ2h0OiIxMDAlIn0saWk9ZnVuY3Rpb24obix0KXt2YXIgaT1uLmxlZnQscj1uLnRvcDtyZXR1cm4iYXV0byI9PT1pJiYoaT1uaVt0LmxlZnRdKSwiYXV0byI9PT1yJiYocj10aVt0LnRvcF0pLHtsZWZ0OmksdG9wOnJ9fSx2dD1mdW5jdGlvbihuKXt2YXIgdD1uLmxlZnQsaT1uLnRvcDtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIHBbbi5sZWZ0XSYmKHQ9cFtuLmxlZnRdKSwidW5kZWZpbmVkIiE9dHlwZW9mIHBbbi50b3BdJiYoaT1wW24udG9wXSkse2xlZnQ6dCx0b3A6aX19LGl0PWZ1bmN0aW9uKG4pe3ZhciBpPW4uc3BsaXQoIiAiKSx0PXkoaSwyKSxyPXRbMF0sdT10WzFdO3JldHVybnt0b3A6cixsZWZ0OnV9fSx5dD1pdCxwdD1mdW5jdGlvbihuKXtmdW5jdGlvbiBzKG4pe3ZhciBpPXRoaXM7cnQodGhpcyxzKTtndChPYmplY3QuZ2V0UHJvdG90eXBlT2Yocy5wcm90b3R5cGUpLCJjb25zdHJ1Y3RvciIsdGhpcykuY2FsbCh0aGlzKTt0aGlzLnBvc2l0aW9uPXRoaXMucG9zaXRpb24uYmluZCh0aGlzKTtoLnB1c2godGhpcyk7dGhpcy5oaXN0b3J5PVtdO3RoaXMuc2V0T3B0aW9ucyhuLCExKTt0Lm1vZHVsZXMuZm9yRWFjaChmdW5jdGlvbihuKXsidW5kZWZpbmVkIiE9dHlwZW9mIG4uaW5pdGlhbGl6ZSYmbi5pbml0aWFsaXplLmNhbGwoaSl9KTt0aGlzLnBvc2l0aW9uKCl9cmV0dXJuIHd0KHMsbiksc3Qocyxbe2tleToiZ2V0Q2xhc3MiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIG49YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdPyIiOmFyZ3VtZW50c1swXSx0PXRoaXMub3B0aW9ucy5jbGFzc2VzO3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgdCYmdFtuXT90aGlzLm9wdGlvbnMuY2xhc3Nlc1tuXTp0aGlzLm9wdGlvbnMuY2xhc3NQcmVmaXg/dGhpcy5vcHRpb25zLmNsYXNzUHJlZml4KyItIituOm59fSx7a2V5OiJzZXRPcHRpb25zIix2YWx1ZTpmdW5jdGlvbihuKXt2YXIgdD10aGlzLHU9YXJndW1lbnRzLmxlbmd0aDw9MXx8dm9pZCAwPT09YXJndW1lbnRzWzFdfHxhcmd1bWVudHNbMV07dGhpcy5vcHRpb25zPXIoe29mZnNldDoiMCAwIix0YXJnZXRPZmZzZXQ6IjAgMCIsdGFyZ2V0QXR0YWNobWVudDoiYXV0byBhdXRvIixjbGFzc1ByZWZpeDoidGV0aGVyIn0sbik7dmFyIGk9dGhpcy5vcHRpb25zLGY9aS5lbGVtZW50LG89aS50YXJnZXQscz1pLnRhcmdldE1vZGlmaWVyO2lmKHRoaXMuZWxlbWVudD1mLHRoaXMudGFyZ2V0PW8sdGhpcy50YXJnZXRNb2RpZmllcj1zLCJ2aWV3cG9ydCI9PT10aGlzLnRhcmdldD8odGhpcy50YXJnZXQ9ZG9jdW1lbnQuYm9keSx0aGlzLnRhcmdldE1vZGlmaWVyPSJ2aXNpYmxlIik6InNjcm9sbC1oYW5kbGUiPT09dGhpcy50YXJnZXQmJih0aGlzLnRhcmdldD1kb2N1bWVudC5ib2R5LHRoaXMudGFyZ2V0TW9kaWZpZXI9InNjcm9sbC1oYW5kbGUiKSxbImVsZW1lbnQiLCJ0YXJnZXQiXS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgdFtuXSl0aHJvdyBuZXcgRXJyb3IoIlRldGhlciBFcnJvcjogQm90aCBlbGVtZW50IGFuZCB0YXJnZXQgbXVzdCBiZSBkZWZpbmVkIik7InVuZGVmaW5lZCIhPXR5cGVvZiB0W25dLmpxdWVyeT90W25dPXRbbl1bMF06InN0cmluZyI9PXR5cGVvZiB0W25dJiYodFtuXT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRbbl0pKX0pLGUodGhpcy5lbGVtZW50LHRoaXMuZ2V0Q2xhc3MoImVsZW1lbnQiKSksdGhpcy5vcHRpb25zLmFkZFRhcmdldENsYXNzZXMhPT0hMSYmZSh0aGlzLnRhcmdldCx0aGlzLmdldENsYXNzKCJ0YXJnZXQiKSksIXRoaXMub3B0aW9ucy5hdHRhY2htZW50KXRocm93IG5ldyBFcnJvcigiVGV0aGVyIEVycm9yOiBZb3UgbXVzdCBwcm92aWRlIGFuIGF0dGFjaG1lbnQiKTt0aGlzLnRhcmdldEF0dGFjaG1lbnQ9eXQodGhpcy5vcHRpb25zLnRhcmdldEF0dGFjaG1lbnQpO3RoaXMuYXR0YWNobWVudD15dCh0aGlzLm9wdGlvbnMuYXR0YWNobWVudCk7dGhpcy5vZmZzZXQ9aXQodGhpcy5vcHRpb25zLm9mZnNldCk7dGhpcy50YXJnZXRPZmZzZXQ9aXQodGhpcy5vcHRpb25zLnRhcmdldE9mZnNldCk7InVuZGVmaW5lZCIhPXR5cGVvZiB0aGlzLnNjcm9sbFBhcmVudHMmJnRoaXMuZGlzYWJsZSgpO3RoaXMuc2Nyb2xsUGFyZW50cz0ic2Nyb2xsLWhhbmRsZSI9PT10aGlzLnRhcmdldE1vZGlmaWVyP1t0aGlzLnRhcmdldF06dXQodGhpcy50YXJnZXQpO3RoaXMub3B0aW9ucy5lbmFibGVkIT09ITEmJnRoaXMuZW5hYmxlKHUpfX0se2tleToiZ2V0VGFyZ2V0Qm91bmRzIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBuLHQscixzO2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgdGhpcy50YXJnZXRNb2RpZmllcilyZXR1cm4gaSh0aGlzLnRhcmdldCk7aWYoInZpc2libGUiPT09dGhpcy50YXJnZXRNb2RpZmllcilyZXR1cm4gdGhpcy50YXJnZXQ9PT1kb2N1bWVudC5ib2R5P3t0b3A6cGFnZVlPZmZzZXQsbGVmdDpwYWdlWE9mZnNldCxoZWlnaHQ6aW5uZXJIZWlnaHQsd2lkdGg6aW5uZXJXaWR0aH06KHQ9aSh0aGlzLnRhcmdldCksbj17aGVpZ2h0OnQuaGVpZ2h0LHdpZHRoOnQud2lkdGgsdG9wOnQudG9wLGxlZnQ6dC5sZWZ0fSxuLmhlaWdodD1NYXRoLm1pbihuLmhlaWdodCx0LmhlaWdodC0ocGFnZVlPZmZzZXQtdC50b3ApKSxuLmhlaWdodD1NYXRoLm1pbihuLmhlaWdodCx0LmhlaWdodC0odC50b3ArdC5oZWlnaHQtKHBhZ2VZT2Zmc2V0K2lubmVySGVpZ2h0KSkpLG4uaGVpZ2h0PU1hdGgubWluKGlubmVySGVpZ2h0LG4uaGVpZ2h0KSxuLmhlaWdodC09MixuLndpZHRoPU1hdGgubWluKG4ud2lkdGgsdC53aWR0aC0ocGFnZVhPZmZzZXQtdC5sZWZ0KSksbi53aWR0aD1NYXRoLm1pbihuLndpZHRoLHQud2lkdGgtKHQubGVmdCt0LndpZHRoLShwYWdlWE9mZnNldCtpbm5lcldpZHRoKSkpLG4ud2lkdGg9TWF0aC5taW4oaW5uZXJXaWR0aCxuLndpZHRoKSxuLndpZHRoLT0yLG4udG9wPHBhZ2VZT2Zmc2V0JiYobi50b3A9cGFnZVlPZmZzZXQpLG4ubGVmdDxwYWdlWE9mZnNldCYmKG4ubGVmdD1wYWdlWE9mZnNldCksbik7aWYoInNjcm9sbC1oYW5kbGUiPT09dGhpcy50YXJnZXRNb2RpZmllcil7dD12b2lkIDA7cj10aGlzLnRhcmdldDtyPT09ZG9jdW1lbnQuYm9keT8ocj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdD17bGVmdDpwYWdlWE9mZnNldCx0b3A6cGFnZVlPZmZzZXQsaGVpZ2h0OmlubmVySGVpZ2h0LHdpZHRoOmlubmVyV2lkdGh9KTp0PWkocik7dmFyIGY9Z2V0Q29tcHV0ZWRTdHlsZShyKSxoPXIuc2Nyb2xsV2lkdGg+ci5jbGllbnRXaWR0aHx8W2Yub3ZlcmZsb3csZi5vdmVyZmxvd1hdLmluZGV4T2YoInNjcm9sbCIpPj0wfHx0aGlzLnRhcmdldCE9PWRvY3VtZW50LmJvZHksZT0wO2gmJihlPTE1KTt2YXIgdT10LmhlaWdodC1wYXJzZUZsb2F0KGYuYm9yZGVyVG9wV2lkdGgpLXBhcnNlRmxvYXQoZi5ib3JkZXJCb3R0b21XaWR0aCktZSxuPXt3aWR0aDoxNSxoZWlnaHQ6Ljk3NSp1Kih1L3Iuc2Nyb2xsSGVpZ2h0KSxsZWZ0OnQubGVmdCt0LndpZHRoLXBhcnNlRmxvYXQoZi5ib3JkZXJMZWZ0V2lkdGgpLTE1fSxvPTA7cmV0dXJuIHU8NDA4JiZ0aGlzLnRhcmdldD09PWRvY3VtZW50LmJvZHkmJihvPS0uMDAwMTEqTWF0aC5wb3codSwyKS0uMDA3MjcqdSsyMi41OCksdGhpcy50YXJnZXQhPT1kb2N1bWVudC5ib2R5JiYobi5oZWlnaHQ9TWF0aC5tYXgobi5oZWlnaHQsMjQpKSxzPXRoaXMudGFyZ2V0LnNjcm9sbFRvcC8oci5zY3JvbGxIZWlnaHQtdSksbi50b3A9cyoodS1uLmhlaWdodC1vKSt0LnRvcCtwYXJzZUZsb2F0KGYuYm9yZGVyVG9wV2lkdGgpLHRoaXMudGFyZ2V0PT09ZG9jdW1lbnQuYm9keSYmKG4uaGVpZ2h0PU1hdGgubWF4KG4uaGVpZ2h0LDI0KSksbn19fSx7a2V5OiJjbGVhckNhY2hlIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuX2NhY2hlPXt9fX0se2tleToiY2FjaGUiLHZhbHVlOmZ1bmN0aW9uKG4sdCl7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiB0aGlzLl9jYWNoZSYmKHRoaXMuX2NhY2hlPXt9KSwidW5kZWZpbmVkIj09dHlwZW9mIHRoaXMuX2NhY2hlW25dJiYodGhpcy5fY2FjaGVbbl09dC5jYWxsKHRoaXMpKSx0aGlzLl9jYWNoZVtuXX19LHtrZXk6ImVuYWJsZSIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHQ9YXJndW1lbnRzLmxlbmd0aDw9MHx8dm9pZCAwPT09YXJndW1lbnRzWzBdfHxhcmd1bWVudHNbMF07dGhpcy5vcHRpb25zLmFkZFRhcmdldENsYXNzZXMhPT0hMSYmZSh0aGlzLnRhcmdldCx0aGlzLmdldENsYXNzKCJlbmFibGVkIikpO2UodGhpcy5lbGVtZW50LHRoaXMuZ2V0Q2xhc3MoImVuYWJsZWQiKSk7dGhpcy5lbmFibGVkPSEwO3RoaXMuc2Nyb2xsUGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QhPT1uLnRhcmdldC5vd25lckRvY3VtZW50JiZ0LmFkZEV2ZW50TGlzdGVuZXIoInNjcm9sbCIsbi5wb3NpdGlvbil9KTt0JiZ0aGlzLnBvc2l0aW9uKCl9fSx7a2V5OiJkaXNhYmxlIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBuPXRoaXM7byh0aGlzLnRhcmdldCx0aGlzLmdldENsYXNzKCJlbmFibGVkIikpO28odGhpcy5lbGVtZW50LHRoaXMuZ2V0Q2xhc3MoImVuYWJsZWQiKSk7dGhpcy5lbmFibGVkPSExOyJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy5zY3JvbGxQYXJlbnRzJiZ0aGlzLnNjcm9sbFBhcmVudHMuZm9yRWFjaChmdW5jdGlvbih0KXt0LnJlbW92ZUV2ZW50TGlzdGVuZXIoInNjcm9sbCIsbi5wb3NpdGlvbil9KX19LHtrZXk6ImRlc3Ryb3kiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIG49dGhpczt0aGlzLmRpc2FibGUoKTtoLmZvckVhY2goZnVuY3Rpb24odCxpKXt0PT09biYmaC5zcGxpY2UoaSwxKX0pOzA9PT1oLmxlbmd0aCYmZnQoKX19LHtrZXk6InVwZGF0ZUF0dGFjaENsYXNzZXMiLHZhbHVlOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcyxvLHIsZTtuPW58fHRoaXMuYXR0YWNobWVudDt0PXR8fHRoaXMudGFyZ2V0QXR0YWNobWVudDtvPVsibGVmdCIsInRvcCIsImJvdHRvbSIsInJpZ2h0IiwibWlkZGxlIiwiY2VudGVyIl07InVuZGVmaW5lZCIhPXR5cGVvZiB0aGlzLl9hZGRBdHRhY2hDbGFzc2VzJiZ0aGlzLl9hZGRBdHRhY2hDbGFzc2VzLmxlbmd0aCYmdGhpcy5fYWRkQXR0YWNoQ2xhc3Nlcy5zcGxpY2UoMCx0aGlzLl9hZGRBdHRhY2hDbGFzc2VzLmxlbmd0aCk7InVuZGVmaW5lZCI9PXR5cGVvZiB0aGlzLl9hZGRBdHRhY2hDbGFzc2VzJiYodGhpcy5fYWRkQXR0YWNoQ2xhc3Nlcz1bXSk7cj10aGlzLl9hZGRBdHRhY2hDbGFzc2VzO24udG9wJiZyLnB1c2godGhpcy5nZXRDbGFzcygiZWxlbWVudC1hdHRhY2hlZCIpKyItIituLnRvcCk7bi5sZWZ0JiZyLnB1c2godGhpcy5nZXRDbGFzcygiZWxlbWVudC1hdHRhY2hlZCIpKyItIituLmxlZnQpO3QudG9wJiZyLnB1c2godGhpcy5nZXRDbGFzcygidGFyZ2V0LWF0dGFjaGVkIikrIi0iK3QudG9wKTt0LmxlZnQmJnIucHVzaCh0aGlzLmdldENsYXNzKCJ0YXJnZXQtYXR0YWNoZWQiKSsiLSIrdC5sZWZ0KTtlPVtdO28uZm9yRWFjaChmdW5jdGlvbihuKXtlLnB1c2goaS5nZXRDbGFzcygiZWxlbWVudC1hdHRhY2hlZCIpKyItIituKTtlLnB1c2goaS5nZXRDbGFzcygidGFyZ2V0LWF0dGFjaGVkIikrIi0iK24pfSk7ZihmdW5jdGlvbigpeyJ1bmRlZmluZWQiIT10eXBlb2YgaS5fYWRkQXR0YWNoQ2xhc3NlcyYmKHUoaS5lbGVtZW50LGkuX2FkZEF0dGFjaENsYXNzZXMsZSksaS5vcHRpb25zLmFkZFRhcmdldENsYXNzZXMhPT0hMSYmdShpLnRhcmdldCxpLl9hZGRBdHRhY2hDbGFzc2VzLGUpLGRlbGV0ZSBpLl9hZGRBdHRhY2hDbGFzc2VzKX0pfX0se2tleToicG9zaXRpb24iLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIGg9dGhpcyxldD1hcmd1bWVudHMubGVuZ3RoPD0wfHx2b2lkIDA9PT1hcmd1bWVudHNbMF18fGFyZ3VtZW50c1swXSxwLGQsdXQscztpZih0aGlzLmVuYWJsZWQpe3RoaXMuY2xlYXJDYWNoZSgpO3A9aWkodGhpcy50YXJnZXRBdHRhY2htZW50LHRoaXMuYXR0YWNobWVudCk7dGhpcy51cGRhdGVBdHRhY2hDbGFzc2VzKHRoaXMuYXR0YWNobWVudCxwKTt2YXIgaz10aGlzLmNhY2hlKCJlbGVtZW50LWJvdW5kcyIsZnVuY3Rpb24oKXtyZXR1cm4gaShoLmVsZW1lbnQpfSksdT1rLndpZHRoLGY9ay5oZWlnaHQ7MD09PXUmJjA9PT1mJiYidW5kZWZpbmVkIiE9dHlwZW9mIHRoaXMubGFzdFNpemU/KGQ9dGhpcy5sYXN0U2l6ZSx1PWQud2lkdGgsZj1kLmhlaWdodCk6dGhpcy5sYXN0U2l6ZT17d2lkdGg6dSxoZWlnaHQ6Zn07dmFyIGI9dGhpcy5jYWNoZSgidGFyZ2V0LWJvdW5kcyIsZnVuY3Rpb24oKXtyZXR1cm4gaC5nZXRUYXJnZXRCb3VuZHMoKX0pLHR0PWIsYz1hKHZ0KHRoaXMuYXR0YWNobWVudCkse3dpZHRoOnUsaGVpZ2h0OmZ9KSx2PWEodnQocCksdHQpLGl0PWEodGhpcy5vZmZzZXQse3dpZHRoOnUsaGVpZ2h0OmZ9KSxydD1hKHRoaXMudGFyZ2V0T2Zmc2V0LHR0KTtjPW90KGMsaXQpO3Y9b3QodixydCk7Zm9yKHZhciBlPWIubGVmdCt2LmxlZnQtYy5sZWZ0LG89Yi50b3Ardi50b3AtYy50b3AsZz0wO2c8dC5tb2R1bGVzLmxlbmd0aDsrK2cpe2lmKHV0PXQubW9kdWxlc1tnXSxzPXV0LnBvc2l0aW9uLmNhbGwodGhpcyx7bGVmdDplLHRvcDpvLHRhcmdldEF0dGFjaG1lbnQ6cCx0YXJnZXRQb3M6YixlbGVtZW50UG9zOmssb2Zmc2V0OmMsdGFyZ2V0T2Zmc2V0OnYsbWFudWFsT2Zmc2V0Oml0LG1hbnVhbFRhcmdldE9mZnNldDpydCxzY3JvbGxiYXJTaXplOnksYXR0YWNobWVudDp0aGlzLmF0dGFjaG1lbnR9KSxzPT09ITEpcmV0dXJuITE7InVuZGVmaW5lZCIhPXR5cGVvZiBzJiYib2JqZWN0Ij09dHlwZW9mIHMmJihvPXMudG9wLGU9cy5sZWZ0KX12YXIgbj17cGFnZTp7dG9wOm8sbGVmdDplfSx2aWV3cG9ydDp7dG9wOm8tcGFnZVlPZmZzZXQsYm90dG9tOnBhZ2VZT2Zmc2V0LW8tZitpbm5lckhlaWdodCxsZWZ0OmUtcGFnZVhPZmZzZXQscmlnaHQ6cGFnZVhPZmZzZXQtZS11K2lubmVyV2lkdGh9fSxyPXRoaXMudGFyZ2V0Lm93bmVyRG9jdW1lbnQsZnQ9ci5kZWZhdWx0Vmlldyx5PXZvaWQgMDtyZXR1cm4gZnQuaW5uZXJIZWlnaHQ+ci5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0JiYoeT10aGlzLmNhY2hlKCJzY3JvbGxiYXItc2l6ZSIsdyksbi52aWV3cG9ydC5ib3R0b20tPXkuaGVpZ2h0KSxmdC5pbm5lcldpZHRoPnIuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoJiYoeT10aGlzLmNhY2hlKCJzY3JvbGxiYXItc2l6ZSIsdyksbi52aWV3cG9ydC5yaWdodC09eS53aWR0aCksWyIiLCJzdGF0aWMiXS5pbmRleE9mKHIuYm9keS5zdHlsZS5wb3NpdGlvbikhPT0tMSYmWyIiLCJzdGF0aWMiXS5pbmRleE9mKHIuYm9keS5wYXJlbnRFbGVtZW50LnN0eWxlLnBvc2l0aW9uKSE9PS0xfHwobi5wYWdlLmJvdHRvbT1yLmJvZHkuc2Nyb2xsSGVpZ2h0LW8tZixuLnBhZ2UucmlnaHQ9ci5ib2R5LnNjcm9sbFdpZHRoLWUtdSksInVuZGVmaW5lZCIhPXR5cGVvZiB0aGlzLm9wdGlvbnMub3B0aW1pemF0aW9ucyYmdGhpcy5vcHRpb25zLm9wdGltaXphdGlvbnMubW92ZUVsZW1lbnQhPT0hMSYmInVuZGVmaW5lZCI9PXR5cGVvZiB0aGlzLnRhcmdldE1vZGlmaWVyJiYhZnVuY3Rpb24oKXt2YXIgZj1oLmNhY2hlKCJ0YXJnZXQtb2Zmc2V0cGFyZW50IixmdW5jdGlvbigpe3JldHVybiBsKGgudGFyZ2V0KX0pLHQ9aC5jYWNoZSgidGFyZ2V0LW9mZnNldHBhcmVudC1ib3VuZHMiLGZ1bmN0aW9uKCl7cmV0dXJuIGkoZil9KSxjPWdldENvbXB1dGVkU3R5bGUoZiksZT10LHU9e30sbyxzOyhbIlRvcCIsIkxlZnQiLCJCb3R0b20iLCJSaWdodCJdLmZvckVhY2goZnVuY3Rpb24obil7dVtuLnRvTG93ZXJDYXNlKCldPXBhcnNlRmxvYXQoY1siYm9yZGVyIituKyJXaWR0aCJdKX0pLHQucmlnaHQ9ci5ib2R5LnNjcm9sbFdpZHRoLXQubGVmdC1lLndpZHRoK3UucmlnaHQsdC5ib3R0b209ci5ib2R5LnNjcm9sbEhlaWdodC10LnRvcC1lLmhlaWdodCt1LmJvdHRvbSxuLnBhZ2UudG9wPj10LnRvcCt1LnRvcCYmbi5wYWdlLmJvdHRvbT49dC5ib3R0b20mJm4ucGFnZS5sZWZ0Pj10LmxlZnQrdS5sZWZ0JiZuLnBhZ2UucmlnaHQ+PXQucmlnaHQpJiYobz1mLnNjcm9sbFRvcCxzPWYuc2Nyb2xsTGVmdCxuLm9mZnNldD17dG9wOm4ucGFnZS50b3AtdC50b3Arby11LnRvcCxsZWZ0Om4ucGFnZS5sZWZ0LXQubGVmdCtzLXUubGVmdH0pfSgpLHRoaXMubW92ZShuKSx0aGlzLmhpc3RvcnkudW5zaGlmdChuKSx0aGlzLmhpc3RvcnkubGVuZ3RoPjMmJnRoaXMuaGlzdG9yeS5wb3AoKSxldCYmbnQoKSwhMH19fSx7a2V5OiJtb3ZlIix2YWx1ZTpmdW5jdGlvbihuKXt2YXIgdT10aGlzLHQsbyxhLGgsdix5LHMscCx3LGUsYixkO2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy5lbGVtZW50LnBhcmVudE5vZGUpe3Q9e307Zm9yKG8gaW4gbil7dFtvXT17fTtmb3IoZSBpbiBuW29dKXtmb3IoYT0hMSxoPTA7aDx0aGlzLmhpc3RvcnkubGVuZ3RoOysraClpZih2PXRoaXMuaGlzdG9yeVtoXSwidW5kZWZpbmVkIiE9dHlwZW9mIHZbb10mJiFidCh2W29dW2VdLG5bb11bZV0pKXthPSEwO2JyZWFrfWF8fCh0W29dW2VdPSEwKX19dmFyIGk9e3RvcDoiIixsZWZ0OiIiLHJpZ2h0OiIiLGJvdHRvbToiIn0sYz1mdW5jdGlvbihuLHQpe3ZhciBvPSJ1bmRlZmluZWQiIT10eXBlb2YgdS5vcHRpb25zLm9wdGltaXphdGlvbnMscz1vP3Uub3B0aW9ucy5vcHRpbWl6YXRpb25zLmdwdTpudWxsLHIsZixlO3MhPT0hMT8ocj12b2lkIDAsZj12b2lkIDAsKG4udG9wPyhpLnRvcD0wLHI9dC50b3ApOihpLmJvdHRvbT0wLHI9LXQuYm90dG9tKSxuLmxlZnQ/KGkubGVmdD0wLGY9dC5sZWZ0KTooaS5yaWdodD0wLGY9LXQucmlnaHQpLHdpbmRvdy5tYXRjaE1lZGlhKSYmKGU9d2luZG93Lm1hdGNoTWVkaWEoIm9ubHkgc2NyZWVuIGFuZCAobWluLXJlc29sdXRpb246IDEuM2RwcHgpIikubWF0Y2hlc3x8d2luZG93Lm1hdGNoTWVkaWEoIm9ubHkgc2NyZWVuIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAxLjMpIikubWF0Y2hlcyxlfHwoZj1NYXRoLnJvdW5kKGYpLHI9TWF0aC5yb3VuZChyKSkpLGlbdHRdPSJ0cmFuc2xhdGVYKCIrZisicHgpIHRyYW5zbGF0ZVkoIityKyJweCkiLCJtc1RyYW5zZm9ybSIhPT10dCYmKGlbdHRdKz0iIHRyYW5zbGF0ZVooMCkiKSk6KG4udG9wP2kudG9wPXQudG9wKyJweCI6aS5ib3R0b209dC5ib3R0b20rInB4IixuLmxlZnQ/aS5sZWZ0PXQubGVmdCsicHgiOmkucmlnaHQ9dC5yaWdodCsicHgiKX0saz0hMTtpZigodC5wYWdlLnRvcHx8dC5wYWdlLmJvdHRvbSkmJih0LnBhZ2UubGVmdHx8dC5wYWdlLnJpZ2h0KT8oaS5wb3NpdGlvbj0iYWJzb2x1dGUiLGModC5wYWdlLG4ucGFnZSkpOih0LnZpZXdwb3J0LnRvcHx8dC52aWV3cG9ydC5ib3R0b20pJiYodC52aWV3cG9ydC5sZWZ0fHx0LnZpZXdwb3J0LnJpZ2h0KT8oaS5wb3NpdGlvbj0iZml4ZWQiLGModC52aWV3cG9ydCxuLnZpZXdwb3J0KSk6InVuZGVmaW5lZCIhPXR5cGVvZiB0Lm9mZnNldCYmdC5vZmZzZXQudG9wJiZ0Lm9mZnNldC5sZWZ0PyFmdW5jdGlvbigpe2kucG9zaXRpb249ImFic29sdXRlIjt2YXIgcj11LmNhY2hlKCJ0YXJnZXQtb2Zmc2V0cGFyZW50IixmdW5jdGlvbigpe3JldHVybiBsKHUudGFyZ2V0KX0pO2wodS5lbGVtZW50KSE9PXImJmYoZnVuY3Rpb24oKXt1LmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh1LmVsZW1lbnQpO3IuYXBwZW5kQ2hpbGQodS5lbGVtZW50KX0pO2ModC5vZmZzZXQsbi5vZmZzZXQpO2s9ITB9KCk6KGkucG9zaXRpb249ImFic29sdXRlIixjKHt0b3A6ITAsbGVmdDohMH0sbi5wYWdlKSksIWspaWYodGhpcy5vcHRpb25zLmJvZHlFbGVtZW50KXRoaXMub3B0aW9ucy5ib2R5RWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO2Vsc2V7Zm9yKHk9ITAscz10aGlzLmVsZW1lbnQucGFyZW50Tm9kZTtzJiYxPT09cy5ub2RlVHlwZSYmIkJPRFkiIT09cy50YWdOYW1lOyl7aWYoInN0YXRpYyIhPT1nZXRDb21wdXRlZFN0eWxlKHMpLnBvc2l0aW9uKXt5PSExO2JyZWFrfXM9cy5wYXJlbnROb2RlfXl8fCh0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpLHRoaXMuZWxlbWVudC5vd25lckRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KSl9cD17fTt3PSExO2ZvcihlIGluIGkpYj1pW2VdLGQ9dGhpcy5lbGVtZW50LnN0eWxlW2VdLGQhPT1iJiYodz0hMCxwW2VdPWIpO3cmJmYoZnVuY3Rpb24oKXtyKHUuZWxlbWVudC5zdHlsZSxwKTt1LnRyaWdnZXIoInJlcG9zaXRpb25lZCIpfSl9fX1dKSxzfShsdCk7cHQubW9kdWxlcz1bXTt0LnBvc2l0aW9uPWF0O3ZhciByaT1yKHB0LHQpLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4sdCl7dmFyIHI9W10sdT0hMCxmPSExLGU9dm9pZCAwLG8saTt0cnl7Zm9yKGk9bltTeW1ib2wuaXRlcmF0b3JdKCk7ISh1PShvPWkubmV4dCgpKS5kb25lKSYmKHIucHVzaChvLnZhbHVlKSwhdHx8ci5sZW5ndGghPT10KTt1PSEwKTt9Y2F0Y2gocyl7Zj0hMDtlPXN9ZmluYWxseXt0cnl7IXUmJmlbInJldHVybiJdJiZpWyJyZXR1cm4iXSgpfWZpbmFsbHl7aWYoZil0aHJvdyBlO319cmV0dXJuIHJ9cmV0dXJuIGZ1bmN0aW9uKHQsaSl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gdDtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpKXJldHVybiBuKHQsaSk7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZSIpO319KCksbj10LlV0aWxzLGk9bi5nZXRCb3VuZHMscj1uLmV4dGVuZCx1PW4udXBkYXRlQ2xhc3NlcyxmPW4uZGVmZXIsdWk9WyJsZWZ0IiwidG9wIiwicmlnaHQiLCJib3R0b20iXTt0Lm1vZHVsZXMucHVzaCh7cG9zaXRpb246ZnVuY3Rpb24obil7dmFyIGw9dGhpcyxlPW4udG9wLG89bi5sZWZ0LGI9bi50YXJnZXRBdHRhY2htZW50LGs7aWYoIXRoaXMub3B0aW9ucy5jb25zdHJhaW50cylyZXR1cm4hMDt2YXIgZD10aGlzLmNhY2hlKCJlbGVtZW50LWJvdW5kcyIsZnVuY3Rpb24oKXtyZXR1cm4gaShsLmVsZW1lbnQpfSksaD1kLmhlaWdodCxjPWQud2lkdGg7MD09PWMmJjA9PT1oJiYidW5kZWZpbmVkIiE9dHlwZW9mIHRoaXMubGFzdFNpemUmJihrPXRoaXMubGFzdFNpemUsYz1rLndpZHRoLGg9ay5oZWlnaHQpO3ZhciBnPXRoaXMuY2FjaGUoInRhcmdldC1ib3VuZHMiLGZ1bmN0aW9uKCl7cmV0dXJuIGwuZ2V0VGFyZ2V0Qm91bmRzKCl9KSxhPWcuaGVpZ2h0LHY9Zy53aWR0aCxwPVt0aGlzLmdldENsYXNzKCJwaW5uZWQiKSx0aGlzLmdldENsYXNzKCJvdXQtb2YtYm91bmRzIildO3RoaXMub3B0aW9ucy5jb25zdHJhaW50cy5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciB0PW4ub3V0T2ZCb3VuZHNDbGFzcyxpPW4ucGlubmVkQ2xhc3M7dCYmcC5wdXNoKHQpO2kmJnAucHVzaChpKX0pO3AuZm9yRWFjaChmdW5jdGlvbihuKXtbImxlZnQiLCJ0b3AiLCJyaWdodCIsImJvdHRvbSJdLmZvckVhY2goZnVuY3Rpb24odCl7cC5wdXNoKG4rIi0iK3QpfSl9KTt2YXIgdz1bXSxzPXIoe30sYiksdD1yKHt9LHRoaXMuYXR0YWNobWVudCk7cmV0dXJuIHRoaXMub3B0aW9ucy5jb25zdHJhaW50cy5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciB0dD1uLnRvLGQ9bi5hdHRhY2htZW50LHI9bi5waW4sZixwLG50LGcsaSx1LGs7InVuZGVmaW5lZCI9PXR5cGVvZiBkJiYoZD0iIik7Zj12b2lkIDA7cD12b2lkIDA7ZC5pbmRleE9mKCIgIik+PTA/KG50PWQuc3BsaXQoIiAiKSxnPXkobnQsMikscD1nWzBdLGY9Z1sxXSk6Zj1wPWQ7aT1rdChsLHR0KTsidGFyZ2V0IiE9PXAmJiJib3RoIiE9PXB8fChlPGlbMV0mJiJ0b3AiPT09cy50b3AmJihlKz1hLHMudG9wPSJib3R0b20iKSxlK2g+aVszXSYmImJvdHRvbSI9PT1zLnRvcCYmKGUtPWEscy50b3A9InRvcCIpKTsidG9nZXRoZXIiPT09cCYmKCJ0b3AiPT09cy50b3AmJigiYm90dG9tIj09PXQudG9wJiZlPGlbMV0/KGUrPWEscy50b3A9ImJvdHRvbSIsZSs9aCx0LnRvcD0idG9wIik6InRvcCI9PT10LnRvcCYmZStoPmlbM10mJmUtKGgtYSk+PWlbMV0mJihlLT1oLWEscy50b3A9ImJvdHRvbSIsdC50b3A9ImJvdHRvbSIpKSwiYm90dG9tIj09PXMudG9wJiYoInRvcCI9PT10LnRvcCYmZStoPmlbM10/KGUtPWEscy50b3A9InRvcCIsZS09aCx0LnRvcD0iYm90dG9tIik6ImJvdHRvbSI9PT10LnRvcCYmZTxpWzFdJiZlKygyKmgtYSk8PWlbM10mJihlKz1oLWEscy50b3A9InRvcCIsdC50b3A9InRvcCIpKSwibWlkZGxlIj09PXMudG9wJiYoZStoPmlbM10mJiJ0b3AiPT09dC50b3A/KGUtPWgsdC50b3A9ImJvdHRvbSIpOmU8aVsxXSYmImJvdHRvbSI9PT10LnRvcCYmKGUrPWgsdC50b3A9InRvcCIpKSk7InRhcmdldCIhPT1mJiYiYm90aCIhPT1mfHwobzxpWzBdJiYibGVmdCI9PT1zLmxlZnQmJihvKz12LHMubGVmdD0icmlnaHQiKSxvK2M+aVsyXSYmInJpZ2h0Ij09PXMubGVmdCYmKG8tPXYscy5sZWZ0PSJsZWZ0IikpOyJ0b2dldGhlciI9PT1mJiYobzxpWzBdJiYibGVmdCI9PT1zLmxlZnQ/InJpZ2h0Ij09PXQubGVmdD8obys9dixzLmxlZnQ9InJpZ2h0IixvKz1jLHQubGVmdD0ibGVmdCIpOiJsZWZ0Ij09PXQubGVmdCYmKG8rPXYscy5sZWZ0PSJyaWdodCIsby09Yyx0LmxlZnQ9InJpZ2h0Iik6bytjPmlbMl0mJiJyaWdodCI9PT1zLmxlZnQ/ImxlZnQiPT09dC5sZWZ0PyhvLT12LHMubGVmdD0ibGVmdCIsby09Yyx0LmxlZnQ9InJpZ2h0Iik6InJpZ2h0Ij09PXQubGVmdCYmKG8tPXYscy5sZWZ0PSJsZWZ0IixvKz1jLHQubGVmdD0ibGVmdCIpOiJjZW50ZXIiPT09cy5sZWZ0JiYobytjPmlbMl0mJiJsZWZ0Ij09PXQubGVmdD8oby09Yyx0LmxlZnQ9InJpZ2h0Iik6bzxpWzBdJiYicmlnaHQiPT09dC5sZWZ0JiYobys9Yyx0LmxlZnQ9ImxlZnQiKSkpOyJlbGVtZW50IiE9PXAmJiJib3RoIiE9PXB8fChlPGlbMV0mJiJib3R0b20iPT09dC50b3AmJihlKz1oLHQudG9wPSJ0b3AiKSxlK2g+aVszXSYmInRvcCI9PT10LnRvcCYmKGUtPWgsdC50b3A9ImJvdHRvbSIpKTsiZWxlbWVudCIhPT1mJiYiYm90aCIhPT1mfHwobzxpWzBdJiYoInJpZ2h0Ij09PXQubGVmdD8obys9Yyx0LmxlZnQ9ImxlZnQiKToiY2VudGVyIj09PXQubGVmdCYmKG8rPWMvMix0LmxlZnQ9ImxlZnQiKSksbytjPmlbMl0mJigibGVmdCI9PT10LmxlZnQ/KG8tPWMsdC5sZWZ0PSJyaWdodCIpOiJjZW50ZXIiPT09dC5sZWZ0JiYoby09Yy8yLHQubGVmdD0icmlnaHQiKSkpOyJzdHJpbmciPT10eXBlb2Ygcj9yPXIuc3BsaXQoIiwiKS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIG4udHJpbSgpfSk6cj09PSEwJiYocj1bInRvcCIsImxlZnQiLCJyaWdodCIsImJvdHRvbSJdKTtyPXJ8fFtdO3U9W107az1bXTtlPGlbMV0mJihyLmluZGV4T2YoInRvcCIpPj0wPyhlPWlbMV0sdS5wdXNoKCJ0b3AiKSk6ay5wdXNoKCJ0b3AiKSk7ZStoPmlbM10mJihyLmluZGV4T2YoImJvdHRvbSIpPj0wPyhlPWlbM10taCx1LnB1c2goImJvdHRvbSIpKTprLnB1c2goImJvdHRvbSIpKTtvPGlbMF0mJihyLmluZGV4T2YoImxlZnQiKT49MD8obz1pWzBdLHUucHVzaCgibGVmdCIpKTprLnB1c2goImxlZnQiKSk7bytjPmlbMl0mJihyLmluZGV4T2YoInJpZ2h0Iik+PTA/KG89aVsyXS1jLHUucHVzaCgicmlnaHQiKSk6ay5wdXNoKCJyaWdodCIpKTt1Lmxlbmd0aCYmIWZ1bmN0aW9uKCl7dmFyIG49dm9pZCAwO249InVuZGVmaW5lZCIhPXR5cGVvZiBsLm9wdGlvbnMucGlubmVkQ2xhc3M/bC5vcHRpb25zLnBpbm5lZENsYXNzOmwuZ2V0Q2xhc3MoInBpbm5lZCIpO3cucHVzaChuKTt1LmZvckVhY2goZnVuY3Rpb24odCl7dy5wdXNoKG4rIi0iK3QpfSl9KCk7ay5sZW5ndGgmJiFmdW5jdGlvbigpe3ZhciBuPXZvaWQgMDtuPSJ1bmRlZmluZWQiIT10eXBlb2YgbC5vcHRpb25zLm91dE9mQm91bmRzQ2xhc3M/bC5vcHRpb25zLm91dE9mQm91bmRzQ2xhc3M6bC5nZXRDbGFzcygib3V0LW9mLWJvdW5kcyIpO3cucHVzaChuKTtrLmZvckVhY2goZnVuY3Rpb24odCl7dy5wdXNoKG4rIi0iK3QpfSl9KCk7KHUuaW5kZXhPZigibGVmdCIpPj0wfHx1LmluZGV4T2YoInJpZ2h0Iik+PTApJiYodC5sZWZ0PXMubGVmdD0hMSk7KHUuaW5kZXhPZigidG9wIik+PTB8fHUuaW5kZXhPZigiYm90dG9tIik+PTApJiYodC50b3A9cy50b3A9ITEpO3MudG9wPT09Yi50b3AmJnMubGVmdD09PWIubGVmdCYmdC50b3A9PT1sLmF0dGFjaG1lbnQudG9wJiZ0LmxlZnQ9PT1sLmF0dGFjaG1lbnQubGVmdHx8KGwudXBkYXRlQXR0YWNoQ2xhc3Nlcyh0LHMpLGwudHJpZ2dlcigidXBkYXRlIix7YXR0YWNobWVudDp0LHRhcmdldEF0dGFjaG1lbnQ6c30pKX0pLGYoZnVuY3Rpb24oKXtsLm9wdGlvbnMuYWRkVGFyZ2V0Q2xhc3NlcyE9PSExJiZ1KGwudGFyZ2V0LHcscCk7dShsLmVsZW1lbnQsdyxwKX0pLHt0b3A6ZSxsZWZ0Om99fX0pO3ZhciBuPXQuVXRpbHMsaT1uLmdldEJvdW5kcyx1PW4udXBkYXRlQ2xhc3NlcyxmPW4uZGVmZXI7cmV0dXJuIHQubW9kdWxlcy5wdXNoKHtwb3NpdGlvbjpmdW5jdGlvbihuKXt2YXIgdD10aGlzLGg9bi50b3AsYz1uLmxlZnQsbD10aGlzLmNhY2hlKCJlbGVtZW50LWJvdW5kcyIsZnVuY3Rpb24oKXtyZXR1cm4gaSh0LmVsZW1lbnQpfSkseT1sLmhlaWdodCxwPWwud2lkdGgscj10aGlzLmdldFRhcmdldEJvdW5kcygpLGE9aCt5LHY9YytwLGU9W107aDw9ci5ib3R0b20mJmE+PXIudG9wJiZbImxlZnQiLCJyaWdodCJdLmZvckVhY2goZnVuY3Rpb24obil7dmFyIHQ9cltuXTt0IT09YyYmdCE9PXZ8fGUucHVzaChuKX0pO2M8PXIucmlnaHQmJnY+PXIubGVmdCYmWyJ0b3AiLCJib3R0b20iXS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciB0PXJbbl07dCE9PWgmJnQhPT1hfHxlLnB1c2gobil9KTt2YXIgbz1bXSxzPVtdO3JldHVybiBvLnB1c2godGhpcy5nZXRDbGFzcygiYWJ1dHRlZCIpKSxbImxlZnQiLCJ0b3AiLCJyaWdodCIsImJvdHRvbSJdLmZvckVhY2goZnVuY3Rpb24obil7by5wdXNoKHQuZ2V0Q2xhc3MoImFidXR0ZWQiKSsiLSIrbil9KSxlLmxlbmd0aCYmcy5wdXNoKHRoaXMuZ2V0Q2xhc3MoImFidXR0ZWQiKSksZS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3MucHVzaCh0LmdldENsYXNzKCJhYnV0dGVkIikrIi0iK24pfSksZihmdW5jdGlvbigpe3Qub3B0aW9ucy5hZGRUYXJnZXRDbGFzc2VzIT09ITEmJnUodC50YXJnZXQscyxvKTt1KHQuZWxlbWVudCxzLG8pfSksITB9fSkseT1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obix0KXt2YXIgcj1bXSx1PSEwLGY9ITEsZT12b2lkIDAsbyxpO3RyeXtmb3IoaT1uW1N5bWJvbC5pdGVyYXRvcl0oKTshKHU9KG89aS5uZXh0KCkpLmRvbmUpJiYoci5wdXNoKG8udmFsdWUpLCF0fHxyLmxlbmd0aCE9PXQpO3U9ITApO31jYXRjaChzKXtmPSEwO2U9c31maW5hbGx5e3RyeXshdSYmaVsicmV0dXJuIl0mJmlbInJldHVybiJdKCl9ZmluYWxseXtpZihmKXRocm93IGU7fX1yZXR1cm4gcn1yZXR1cm4gZnVuY3Rpb24odCxpKXtpZihBcnJheS5pc0FycmF5KHQpKXJldHVybiB0O2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QodCkpcmV0dXJuIG4odCxpKTt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlIik7fX0oKSx0Lm1vZHVsZXMucHVzaCh7cG9zaXRpb246ZnVuY3Rpb24obil7dmFyIHU9bi50b3AsZj1uLmxlZnQsdCxpLHIsbyxlO2lmKHRoaXMub3B0aW9ucy5zaGlmdClyZXR1cm4gdD10aGlzLm9wdGlvbnMuc2hpZnQsImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMub3B0aW9ucy5zaGlmdCYmKHQ9dGhpcy5vcHRpb25zLnNoaWZ0LmNhbGwodGhpcyx7dG9wOnUsbGVmdDpmfSkpLGk9dm9pZCAwLHI9dm9pZCAwLCJzdHJpbmciPT10eXBlb2YgdD8odD10LnNwbGl0KCIgIiksdFsxXT10WzFdfHx0WzBdLG89dCxlPXkobywyKSxpPWVbMF0scj1lWzFdLGk9cGFyc2VGbG9hdChpLDEwKSxyPXBhcnNlRmxvYXQociwxMCkpOihpPXQudG9wLHI9dC5sZWZ0KSx1Kz1pLGYrPXIse3RvcDp1LGxlZnQ6Zn19fSkscml9KTsKLyohCiAqIGZhbmN5Qm94IC0galF1ZXJ5IFBsdWdpbgogKiB2ZXJzaW9uOiAyLjEuNSAoRnJpLCAxNCBKdW4gMjAxMykKICogQHJlcXVpcmVzIGpRdWVyeSB2MS42IG9yIGxhdGVyCiAqCiAqIEV4YW1wbGVzIGF0IGh0dHA6Ly9mYW5jeWFwcHMuY29tL2ZhbmN5Ym94LwogKiBMaWNlbnNlOiB3d3cuZmFuY3lhcHBzLmNvbS9mYW5jeWJveC8jbGljZW5zZQogKgogKiBDb3B5cmlnaHQgMjAxMiBKYW5pcyBTa2FybmVsaXMgLSBqYW5pc0BmYW5jeWFwcHMuY29tCiAqCiAqLwooZnVuY3Rpb24obix0LGkscil7InVzZSBzdHJpY3QiO3ZhciBwPWkoImh0bWwiKSxlPWkobiksbz1pKHQpLHU9aS5mYW5jeWJveD1mdW5jdGlvbigpe3Uub3Blbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHk9bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvbXNpZS9pKSx2PW51bGwscz10LmNyZWF0ZVRvdWNoIT09cixhPWZ1bmN0aW9uKG4pe3JldHVybiBuJiZuLmhhc093blByb3BlcnR5JiZuIGluc3RhbmNlb2YgaX0sYz1mdW5jdGlvbihuKXtyZXR1cm4gbiYmaS50eXBlKG4pPT09InN0cmluZyJ9LGw9ZnVuY3Rpb24obil7cmV0dXJuIGMobikmJm4uaW5kZXhPZigiJSIpPjB9LHc9ZnVuY3Rpb24obil7cmV0dXJuIG4mJiEobi5zdHlsZS5vdmVyZmxvdyYmbi5zdHlsZS5vdmVyZmxvdz09PSJoaWRkZW4iKSYmKG4uY2xpZW50V2lkdGgmJm4uc2Nyb2xsV2lkdGg+bi5jbGllbnRXaWR0aHx8bi5jbGllbnRIZWlnaHQmJm4uc2Nyb2xsSGVpZ2h0Pm4uY2xpZW50SGVpZ2h0KX0sZj1mdW5jdGlvbihuLHQpe3ZhciBpPXBhcnNlSW50KG4sMTApfHwwO3JldHVybiB0JiZsKG4pJiYoaT11LmdldFZpZXdwb3J0KClbdF0vMTAwKmkpLE1hdGguY2VpbChpKX0saD1mdW5jdGlvbihuLHQpe3JldHVybiBmKG4sdCkrInB4In07aS5leHRlbmQodSx7dmVyc2lvbjoiMi4xLjUiLGRlZmF1bHRzOntwYWRkaW5nOjE1LG1hcmdpbjoyMCx3aWR0aDo4MDAsaGVpZ2h0OjYwMCxtaW5XaWR0aDoxMDAsbWluSGVpZ2h0OjEwMCxtYXhXaWR0aDo5OTk5LG1heEhlaWdodDo5OTk5LHBpeGVsUmF0aW86MSxhdXRvU2l6ZTohMCxhdXRvSGVpZ2h0OiExLGF1dG9XaWR0aDohMSxhdXRvUmVzaXplOiEwLGF1dG9DZW50ZXI6IXMsZml0VG9WaWV3OiEwLGFzcGVjdFJhdGlvOiExLHRvcFJhdGlvOi41LGxlZnRSYXRpbzouNSxzY3JvbGxpbmc6ImF1dG8iLHdyYXBDU1M6IiIsYXJyb3dzOiEwLGNsb3NlQnRuOiEwLGNsb3NlQ2xpY2s6ITEsbmV4dENsaWNrOiExLG1vdXNlV2hlZWw6ITAsYXV0b1BsYXk6ITEscGxheVNwZWVkOjNlMyxwcmVsb2FkOjMsbW9kYWw6ITEsbG9vcDohMCxhamF4OntkYXRhVHlwZToiaHRtbCIsaGVhZGVyczp7IlgtZmFuY3lCb3giOiEwfX0saWZyYW1lOntzY3JvbGxpbmc6ImF1dG8iLHByZWxvYWQ6ITB9LHN3Zjp7d21vZGU6InRyYW5zcGFyZW50IixhbGxvd2Z1bGxzY3JlZW46InRydWUiLGFsbG93c2NyaXB0YWNjZXNzOiJhbHdheXMifSxrZXlzOntuZXh0OnsxMzoibGVmdCIsMzQ6InVwIiwzOToibGVmdCIsNDA6InVwIn0scHJldjp7ODoicmlnaHQiLDMzOiJkb3duIiwzNzoicmlnaHQiLDM4OiJkb3duIn0sY2xvc2U6WzI3XSxwbGF5OlszMl0sdG9nZ2xlOls3MF19LGRpcmVjdGlvbjp7bmV4dDoibGVmdCIscHJldjoicmlnaHQifSxzY3JvbGxPdXRzaWRlOiEwLGluZGV4OjAsdHlwZTpudWxsLGhyZWY6bnVsbCxjb250ZW50Om51bGwsdGl0bGU6bnVsbCx0cGw6e3dyYXA6JzxkaXYgY2xhc3M9ImZhbmN5Ym94LXdyYXAiIHRhYkluZGV4PSItMSI+PGRpdiBjbGFzcz0iZmFuY3lib3gtc2tpbiI+PGRpdiBjbGFzcz0iZmFuY3lib3gtb3V0ZXIiPjxkaXYgY2xhc3M9ImZhbmN5Ym94LWlubmVyIj48XC9kaXY+PFwvZGl2PjxcL2Rpdj48XC9kaXY+JyxpbWFnZTonPGltZyBjbGFzcz0iZmFuY3lib3gtaW1hZ2UiIHNyYz0ie2hyZWZ9IiBhbHQ9IiIgLz4nLGlmcmFtZTonPGlmcmFtZSBpZD0iZmFuY3lib3gtZnJhbWV7cm5kfSIgbmFtZT0iZmFuY3lib3gtZnJhbWV7cm5kfSIgY2xhc3M9ImZhbmN5Ym94LWlmcmFtZSIgZnJhbWVib3JkZXI9IjAiIHZzcGFjZT0iMCIgaHNwYWNlPSIwIiB3ZWJraXRBbGxvd0Z1bGxTY3JlZW4gbW96YWxsb3dmdWxsc2NyZWVuIGFsbG93RnVsbFNjcmVlbicrKHk/JyBhbGxvd3RyYW5zcGFyZW5jeT0idHJ1ZSInOiIiKSsiPjxcL2lmcmFtZT4iLGVycm9yOic8cCBjbGFzcz0iZmFuY3lib3gtZXJyb3IiPlRoZSByZXF1ZXN0ZWQgY29udGVudCBjYW5ub3QgYmUgbG9hZGVkLjxici8+UGxlYXNlIHRyeSBhZ2FpbiBsYXRlci48XC9wPicsY2xvc2VCdG46JzxhIHRpdGxlPSJDbG9zZSIgY2xhc3M9ImZhbmN5Ym94LWl0ZW0gZmFuY3lib3gtY2xvc2UiIGhyZWY9ImphdmFzY3JpcHQ6OyI+PFwvYT4nLG5leHQ6JzxhIHRpdGxlPSJOZXh0IiBjbGFzcz0iZmFuY3lib3gtbmF2IGZhbmN5Ym94LW5leHQiIGhyZWY9ImphdmFzY3JpcHQ6OyI+PHNwYW4+PFwvc3Bhbj48XC9hPicscHJldjonPGEgdGl0bGU9IlByZXZpb3VzIiBjbGFzcz0iZmFuY3lib3gtbmF2IGZhbmN5Ym94LXByZXYiIGhyZWY9ImphdmFzY3JpcHQ6OyI+PHNwYW4+PFwvc3Bhbj48XC9hPid9LG9wZW5FZmZlY3Q6ImZhZGUiLG9wZW5TcGVlZDoyNTAsb3BlbkVhc2luZzoic3dpbmciLG9wZW5PcGFjaXR5OiEwLG9wZW5NZXRob2Q6Inpvb21JbiIsY2xvc2VFZmZlY3Q6ImZhZGUiLGNsb3NlU3BlZWQ6MjUwLGNsb3NlRWFzaW5nOiJzd2luZyIsY2xvc2VPcGFjaXR5OiEwLGNsb3NlTWV0aG9kOiJ6b29tT3V0IixuZXh0RWZmZWN0OiJlbGFzdGljIixuZXh0U3BlZWQ6MjUwLG5leHRFYXNpbmc6InN3aW5nIixuZXh0TWV0aG9kOiJjaGFuZ2VJbiIscHJldkVmZmVjdDoiZWxhc3RpYyIscHJldlNwZWVkOjI1MCxwcmV2RWFzaW5nOiJzd2luZyIscHJldk1ldGhvZDoiY2hhbmdlT3V0IixoZWxwZXJzOntvdmVybGF5OiEwLHRpdGxlOiEwfSxvbkNhbmNlbDppLm5vb3AsYmVmb3JlTG9hZDppLm5vb3AsYWZ0ZXJMb2FkOmkubm9vcCxiZWZvcmVTaG93Omkubm9vcCxhZnRlclNob3c6aS5ub29wLGJlZm9yZUNoYW5nZTppLm5vb3AsYmVmb3JlQ2xvc2U6aS5ub29wLGFmdGVyQ2xvc2U6aS5ub29wfSxncm91cDp7fSxvcHRzOnt9LHByZXZpb3VzOm51bGwsY29taW5nOm51bGwsY3VycmVudDpudWxsLGlzQWN0aXZlOiExLGlzT3BlbjohMSxpc09wZW5lZDohMSx3cmFwOm51bGwsc2tpbjpudWxsLG91dGVyOm51bGwsaW5uZXI6bnVsbCxwbGF5ZXI6e3RpbWVyOm51bGwsaXNBY3RpdmU6ITF9LGFqYXhMb2FkOm51bGwsaW1nUHJlbG9hZDpudWxsLHRyYW5zaXRpb25zOnt9LGhlbHBlcnM6e30sb3BlbjpmdW5jdGlvbihuLHQpe2lmKG4pcmV0dXJuKGkuaXNQbGFpbk9iamVjdCh0KXx8KHQ9e30pLCExPT09dS5jbG9zZSghMCkpP3ZvaWQgMDooaS5pc0FycmF5KG4pfHwobj1hKG4pP2kobikuZ2V0KCk6W25dKSxpLmVhY2gobixmdW5jdGlvbihmLGUpe3ZhciBoPXt9LHMscCxsLG8sdix5LHc7aS50eXBlKGUpPT09Im9iamVjdCImJihlLm5vZGVUeXBlJiYoZT1pKGUpKSxhKGUpPyhoPXtocmVmOmUuZGF0YSgiZmFuY3lib3gtaHJlZiIpfHxlLmF0dHIoImhyZWYiKSx0aXRsZTplLmRhdGEoImZhbmN5Ym94LXRpdGxlIil8fGUuYXR0cigidGl0bGUiKSxpc0RvbTohMCxlbGVtZW50OmV9LGkubWV0YWRhdGEmJmkuZXh0ZW5kKCEwLGgsZS5tZXRhZGF0YSgpKSk6aD1lKTtzPXQuaHJlZnx8aC5ocmVmfHwoYyhlKT9lOm51bGwpO3A9dC50aXRsZSE9PXI/dC50aXRsZTpoLnRpdGxlfHwiIjtsPXQuY29udGVudHx8aC5jb250ZW50O289bD8iaHRtbCI6dC50eXBlfHxoLnR5cGU7IW8mJmguaXNEb20mJihvPWUuZGF0YSgiZmFuY3lib3gtdHlwZSIpLG98fCh2PWUucHJvcCgiY2xhc3MiKS5tYXRjaCgvZmFuY3lib3hcLihcdyspLyksbz12P3ZbMV06bnVsbCkpO2MocykmJihvfHwodS5pc0ltYWdlKHMpP289ImltYWdlIjp1LmlzU1dGKHMpP289InN3ZiI6cy5jaGFyQXQoMCk9PT0iIyI/bz0iaW5saW5lIjpjKGUpJiYobz0iaHRtbCIsbD1lKSksbz09PSJhamF4IiYmKHk9cy5zcGxpdCgvXHMrLywyKSxzPXkuc2hpZnQoKSx3PXkuc2hpZnQoKSkpO2x8fChvPT09ImlubGluZSI/cz9sPWkoYyhzKT9zLnJlcGxhY2UoLy4qKD89I1teXHNdKyQpLywiIik6cyk6aC5pc0RvbSYmKGw9ZSk6bz09PSJodG1sIj9sPXM6b3x8c3x8IWguaXNEb218fChvPSJpbmxpbmUiLGw9ZSkpO2kuZXh0ZW5kKGgse2hyZWY6cyx0eXBlOm8sY29udGVudDpsLHRpdGxlOnAsc2VsZWN0b3I6d30pO25bZl09aH0pLHUub3B0cz1pLmV4dGVuZCghMCx7fSx1LmRlZmF1bHRzLHQpLHQua2V5cyE9PXImJih1Lm9wdHMua2V5cz10LmtleXM/aS5leHRlbmQoe30sdS5kZWZhdWx0cy5rZXlzLHQua2V5cyk6ITEpLHUuZ3JvdXA9bix1Ll9zdGFydCh1Lm9wdHMuaW5kZXgpKX0sY2FuY2VsOmZ1bmN0aW9uKCl7dmFyIG49dS5jb21pbmc7biYmITEhPT11LnRyaWdnZXIoIm9uQ2FuY2VsIikmJih1LmhpZGVMb2FkaW5nKCksdS5hamF4TG9hZCYmdS5hamF4TG9hZC5hYm9ydCgpLHUuYWpheExvYWQ9bnVsbCx1LmltZ1ByZWxvYWQmJih1LmltZ1ByZWxvYWQub25sb2FkPXUuaW1nUHJlbG9hZC5vbmVycm9yPW51bGwpLG4ud3JhcCYmbi53cmFwLnN0b3AoITAsITApLnRyaWdnZXIoIm9uUmVzZXQiKS5yZW1vdmUoKSx1LmNvbWluZz1udWxsLHUuY3VycmVudHx8dS5fYWZ0ZXJab29tT3V0KG4pKX0sY2xvc2U6ZnVuY3Rpb24obil7KHUuY2FuY2VsKCksITEhPT11LnRyaWdnZXIoImJlZm9yZUNsb3NlIikpJiYodS51bmJpbmRFdmVudHMoKSx1LmlzQWN0aXZlKSYmKHUuaXNPcGVuJiZuIT09ITA/KHUuaXNPcGVuPXUuaXNPcGVuZWQ9ITEsdS5pc0Nsb3Npbmc9ITAsaSgiLmZhbmN5Ym94LWl0ZW0sIC5mYW5jeWJveC1uYXYiKS5yZW1vdmUoKSx1LndyYXAuc3RvcCghMCwhMCkucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LW9wZW5lZCIpLHUudHJhbnNpdGlvbnNbdS5jdXJyZW50LmNsb3NlTWV0aG9kXSgpKTooaSgiLmZhbmN5Ym94LXdyYXAiKS5zdG9wKCEwKS50cmlnZ2VyKCJvblJlc2V0IikucmVtb3ZlKCksdS5fYWZ0ZXJab29tT3V0KCkpKX0scGxheTpmdW5jdGlvbihuKXt2YXIgdD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh1LnBsYXllci50aW1lcil9LGk9ZnVuY3Rpb24oKXt0KCk7dS5jdXJyZW50JiZ1LnBsYXllci5pc0FjdGl2ZSYmKHUucGxheWVyLnRpbWVyPXNldFRpbWVvdXQodS5uZXh0LHUuY3VycmVudC5wbGF5U3BlZWQpKX0scj1mdW5jdGlvbigpe3QoKTtvLnVuYmluZCgiLnBsYXllciIpO3UucGxheWVyLmlzQWN0aXZlPSExO3UudHJpZ2dlcigib25QbGF5RW5kIil9LGY9ZnVuY3Rpb24oKXt1LmN1cnJlbnQmJih1LmN1cnJlbnQubG9vcHx8dS5jdXJyZW50LmluZGV4PHUuZ3JvdXAubGVuZ3RoLTEpJiYodS5wbGF5ZXIuaXNBY3RpdmU9ITAsby5iaW5kKHsib25DYW5jZWwucGxheWVyIGJlZm9yZUNsb3NlLnBsYXllciI6ciwib25VcGRhdGUucGxheWVyIjppLCJiZWZvcmVMb2FkLnBsYXllciI6dH0pLGkoKSx1LnRyaWdnZXIoIm9uUGxheVN0YXJ0IikpfTtuIT09ITAmJih1LnBsYXllci5pc0FjdGl2ZXx8bj09PSExKT9yKCk6ZigpfSxuZXh0OmZ1bmN0aW9uKG4pe3ZhciB0PXUuY3VycmVudDt0JiYoYyhuKXx8KG49dC5kaXJlY3Rpb24ubmV4dCksdS5qdW1wdG8odC5pbmRleCsxLG4sIm5leHQiKSl9LHByZXY6ZnVuY3Rpb24obil7dmFyIHQ9dS5jdXJyZW50O3QmJihjKG4pfHwobj10LmRpcmVjdGlvbi5wcmV2KSx1Lmp1bXB0byh0LmluZGV4LTEsbiwicHJldiIpKX0sanVtcHRvOmZ1bmN0aW9uKG4sdCxpKXt2YXIgZT11LmN1cnJlbnQ7ZSYmKG49ZihuKSx1LmRpcmVjdGlvbj10fHxlLmRpcmVjdGlvbltuPj1lLmluZGV4PyJuZXh0IjoicHJldiJdLHUucm91dGVyPWl8fCJqdW1wdG8iLGUubG9vcCYmKG48MCYmKG49ZS5ncm91cC5sZW5ndGgrbiVlLmdyb3VwLmxlbmd0aCksbj1uJWUuZ3JvdXAubGVuZ3RoKSxlLmdyb3VwW25dIT09ciYmKHUuY2FuY2VsKCksdS5fc3RhcnQobikpKX0scmVwb3NpdGlvbjpmdW5jdGlvbihuLHQpe3ZhciBmPXUuY3VycmVudCxlPWY/Zi53cmFwOm51bGwscjtlJiYocj11Ll9nZXRQb3NpdGlvbih0KSxuJiZuLnR5cGU9PT0ic2Nyb2xsIj8oZGVsZXRlIHIucG9zaXRpb24sZS5zdG9wKCEwLCEwKS5hbmltYXRlKHIsMjAwKSk6KGUuY3NzKHIpLGYucG9zPWkuZXh0ZW5kKHt9LGYuZGltLHIpKSl9LHVwZGF0ZTpmdW5jdGlvbihuKXt2YXIgdD1uJiZuLnR5cGUsaT0hdHx8dD09PSJvcmllbnRhdGlvbmNoYW5nZSI7KGkmJihjbGVhclRpbWVvdXQodiksdj1udWxsKSx1LmlzT3BlbiYmIXYpJiYodj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHI9dS5jdXJyZW50O3ImJiF1LmlzQ2xvc2luZyYmKHUud3JhcC5yZW1vdmVDbGFzcygiZmFuY3lib3gtdG1wIiksKGl8fHQ9PT0ibG9hZCJ8fHQ9PT0icmVzaXplIiYmci5hdXRvUmVzaXplKSYmdS5fc2V0RGltZW5zaW9uKCksdD09PSJzY3JvbGwiJiZyLmNhblNocmlua3x8dS5yZXBvc2l0aW9uKG4pLHUudHJpZ2dlcigib25VcGRhdGUiKSx2PW51bGwpfSxpJiYhcz8wOjMwMCkpfSx0b2dnbGU6ZnVuY3Rpb24obil7dS5pc09wZW4mJih1LmN1cnJlbnQuZml0VG9WaWV3PWkudHlwZShuKT09PSJib29sZWFuIj9uOiF1LmN1cnJlbnQuZml0VG9WaWV3LHMmJih1LndyYXAucmVtb3ZlQXR0cigic3R5bGUiKS5hZGRDbGFzcygiZmFuY3lib3gtdG1wIiksdS50cmlnZ2VyKCJvblVwZGF0ZSIpKSx1LnVwZGF0ZSgpKX0saGlkZUxvYWRpbmc6ZnVuY3Rpb24oKXtvLnVuYmluZCgiLmxvYWRpbmciKTtpKCIjZmFuY3lib3gtbG9hZGluZyIpLnJlbW92ZSgpfSxzaG93TG9hZGluZzpmdW5jdGlvbigpe3ZhciB0LG47dS5oaWRlTG9hZGluZygpO3Q9aSgnPGRpdiBpZD0iZmFuY3lib3gtbG9hZGluZyI+PGRpdj48XC9kaXY+PFwvZGl2PicpLmNsaWNrKHUuY2FuY2VsKS5hcHBlbmRUbygiYm9keSIpO28uYmluZCgia2V5ZG93bi5sb2FkaW5nIixmdW5jdGlvbihuKXsobi53aGljaHx8bi5rZXlDb2RlKT09PTI3JiYobi5wcmV2ZW50RGVmYXVsdCgpLHUuY2FuY2VsKCkpfSk7dS5kZWZhdWx0cy5maXhlZHx8KG49dS5nZXRWaWV3cG9ydCgpLHQuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDpuLmgqLjUrbi55LGxlZnQ6bi53Ki41K24ueH0pKX0sZ2V0Vmlld3BvcnQ6ZnVuY3Rpb24oKXt2YXIgaT11LmN1cnJlbnQmJnUuY3VycmVudC5sb2NrZWR8fCExLHQ9e3g6ZS5zY3JvbGxMZWZ0KCkseTplLnNjcm9sbFRvcCgpfTtyZXR1cm4gaT8odC53PWlbMF0uY2xpZW50V2lkdGgsdC5oPWlbMF0uY2xpZW50SGVpZ2h0KToodC53PXMmJm4uaW5uZXJXaWR0aD9uLmlubmVyV2lkdGg6ZS53aWR0aCgpLHQuaD1zJiZuLmlubmVySGVpZ2h0P24uaW5uZXJIZWlnaHQ6ZS5oZWlnaHQoKSksdH0sdW5iaW5kRXZlbnRzOmZ1bmN0aW9uKCl7dS53cmFwJiZhKHUud3JhcCkmJnUud3JhcC51bmJpbmQoIi5mYiIpO28udW5iaW5kKCIuZmIiKTtlLnVuYmluZCgiLmZiIil9LGJpbmRFdmVudHM6ZnVuY3Rpb24oKXt2YXIgbj11LmN1cnJlbnQsdDtuJiYoZS5iaW5kKCJvcmllbnRhdGlvbmNoYW5nZS5mYiIrKHM/IiI6IiByZXNpemUuZmIiKSsobi5hdXRvQ2VudGVyJiYhbi5sb2NrZWQ/IiBzY3JvbGwuZmIiOiIiKSx1LnVwZGF0ZSksdD1uLmtleXMsdCYmby5iaW5kKCJrZXlkb3duLmZiIixmdW5jdGlvbihmKXt2YXIgZT1mLndoaWNofHxmLmtleUNvZGUsbz1mLnRhcmdldHx8Zi5zcmNFbGVtZW50O2lmKGU9PT0yNyYmdS5jb21pbmcpcmV0dXJuITE7Zi5jdHJsS2V5fHxmLmFsdEtleXx8Zi5zaGlmdEtleXx8Zi5tZXRhS2V5fHxvJiYoby50eXBlfHxpKG8pLmlzKCJbY29udGVudGVkaXRhYmxlXSIpKXx8aS5lYWNoKHQsZnVuY3Rpb24odCxvKXtyZXR1cm4gbi5ncm91cC5sZW5ndGg+MSYmb1tlXSE9PXI/KHVbdF0ob1tlXSksZi5wcmV2ZW50RGVmYXVsdCgpLCExKTppLmluQXJyYXkoZSxvKT4tMT8odVt0XSgpLGYucHJldmVudERlZmF1bHQoKSwhMSk6dm9pZCAwfSl9KSxpLmZuLm1vdXNld2hlZWwmJm4ubW91c2VXaGVlbCYmdS53cmFwLmJpbmQoIm1vdXNld2hlZWwuZmIiLGZ1bmN0aW9uKHQscixmLGUpe2Zvcih2YXIgaD10LnRhcmdldHx8bnVsbCxvPWkoaCkscz0hMTtvLmxlbmd0aDspe2lmKHN8fG8uaXMoIi5mYW5jeWJveC1za2luIil8fG8uaXMoIi5mYW5jeWJveC13cmFwIikpYnJlYWs7cz13KG9bMF0pO289aShvKS5wYXJlbnQoKX1yPT09MHx8c3x8dS5ncm91cC5sZW5ndGg+MSYmIW4uY2FuU2hyaW5rJiYoZT4wfHxmPjA/dS5wcmV2KGU+MD8iZG93biI6ImxlZnQiKTooZTwwfHxmPDApJiZ1Lm5leHQoZTwwPyJ1cCI6InJpZ2h0IiksdC5wcmV2ZW50RGVmYXVsdCgpKX0pKX0sdHJpZ2dlcjpmdW5jdGlvbihuLHQpe3ZhciBmLHI9dHx8dS5jb21pbmd8fHUuY3VycmVudDtpZihyKXtpZihpLmlzRnVuY3Rpb24ocltuXSkmJihmPXJbbl0uYXBwbHkocixBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpKSxmPT09ITEpcmV0dXJuITE7ci5oZWxwZXJzJiZpLmVhY2goci5oZWxwZXJzLGZ1bmN0aW9uKHQsZil7ZiYmdS5oZWxwZXJzW3RdJiZpLmlzRnVuY3Rpb24odS5oZWxwZXJzW3RdW25dKSYmdS5oZWxwZXJzW3RdW25dKGkuZXh0ZW5kKCEwLHt9LHUuaGVscGVyc1t0XS5kZWZhdWx0cyxmKSxyKX0pO28udHJpZ2dlcihuKX19LGlzSW1hZ2U6ZnVuY3Rpb24obil7cmV0dXJuIGMobikmJm4ubWF0Y2goLyheZGF0YTppbWFnZVwvLiosKXwoXC4oanAoZXxnfGVnKXxnaWZ8cG5nfGJtcHx3ZWJwfHN2ZykoKFw/fCMpLiopPyQpL2kpfSxpc1NXRjpmdW5jdGlvbihuKXtyZXR1cm4gYyhuKSYmbi5tYXRjaCgvXC4oc3dmKSgoXD98IykuKik/JC9pKX0sX3N0YXJ0OmZ1bmN0aW9uKG4pe3ZhciB0PXt9LGMsbCxyLGUsbztpZihuPWYobiksYz11Lmdyb3VwW25dfHxudWxsLCFjKXJldHVybiExO2lmKHQ9aS5leHRlbmQoITAse30sdS5vcHRzLGMpLGU9dC5tYXJnaW4sbz10LnBhZGRpbmcsaS50eXBlKGUpPT09Im51bWJlciImJih0Lm1hcmdpbj1bZSxlLGUsZV0pLGkudHlwZShvKT09PSJudW1iZXIiJiYodC5wYWRkaW5nPVtvLG8sbyxvXSksdC5tb2RhbCYmaS5leHRlbmQoITAsdCx7Y2xvc2VCdG46ITEsY2xvc2VDbGljazohMSxuZXh0Q2xpY2s6ITEsYXJyb3dzOiExLG1vdXNlV2hlZWw6ITEsa2V5czpudWxsLGhlbHBlcnM6e292ZXJsYXk6e2Nsb3NlQ2xpY2s6ITF9fX0pLHQuYXV0b1NpemUmJih0LmF1dG9XaWR0aD10LmF1dG9IZWlnaHQ9ITApLHQud2lkdGg9PT0iYXV0byImJih0LmF1dG9XaWR0aD0hMCksdC5oZWlnaHQ9PT0iYXV0byImJih0LmF1dG9IZWlnaHQ9ITApLHQuZ3JvdXA9dS5ncm91cCx0LmluZGV4PW4sdS5jb21pbmc9dCwhMT09PXUudHJpZ2dlcigiYmVmb3JlTG9hZCIpKXt1LmNvbWluZz1udWxsO3JldHVybn1pZihyPXQudHlwZSxsPXQuaHJlZiwhcilyZXR1cm4odS5jb21pbmc9bnVsbCx1LmN1cnJlbnQmJnUucm91dGVyJiZ1LnJvdXRlciE9PSJqdW1wdG8iKT8odS5jdXJyZW50LmluZGV4PW4sdVt1LnJvdXRlcl0odS5kaXJlY3Rpb24pKTohMTtpZih1LmlzQWN0aXZlPSEwLChyPT09ImltYWdlInx8cj09PSJzd2YiKSYmKHQuYXV0b0hlaWdodD10LmF1dG9XaWR0aD0hMSx0LnNjcm9sbGluZz0idmlzaWJsZSIpLHI9PT0iaW1hZ2UiJiYodC5hc3BlY3RSYXRpbz0hMCkscj09PSJpZnJhbWUiJiZzJiYodC5zY3JvbGxpbmc9InNjcm9sbCIpLHQud3JhcD1pKHQudHBsLndyYXApLmFkZENsYXNzKCJmYW5jeWJveC0iKyhzPyJtb2JpbGUiOiJkZXNrdG9wIikrIiBmYW5jeWJveC10eXBlLSIrcisiIGZhbmN5Ym94LXRtcCAiK3Qud3JhcENTUykuYXBwZW5kVG8odC5wYXJlbnR8fCJib2R5IiksaS5leHRlbmQodCx7c2tpbjppKCIuZmFuY3lib3gtc2tpbiIsdC53cmFwKSxvdXRlcjppKCIuZmFuY3lib3gtb3V0ZXIiLHQud3JhcCksaW5uZXI6aSgiLmZhbmN5Ym94LWlubmVyIix0LndyYXApfSksaS5lYWNoKFsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0sZnVuY3Rpb24obixpKXt0LnNraW4uY3NzKCJwYWRkaW5nIitpLGgodC5wYWRkaW5nW25dKSl9KSx1LnRyaWdnZXIoIm9uUmVhZHkiKSxyPT09ImlubGluZSJ8fHI9PT0iaHRtbCIpe2lmKCF0LmNvbnRlbnR8fCF0LmNvbnRlbnQubGVuZ3RoKXJldHVybiB1Ll9lcnJvcigiY29udGVudCIpfWVsc2UgaWYoIWwpcmV0dXJuIHUuX2Vycm9yKCJocmVmIik7cj09PSJpbWFnZSI/dS5fbG9hZEltYWdlKCk6cj09PSJhamF4Ij91Ll9sb2FkQWpheCgpOnI9PT0iaWZyYW1lIj91Ll9sb2FkSWZyYW1lKCk6dS5fYWZ0ZXJMb2FkKCl9LF9lcnJvcjpmdW5jdGlvbihuKXtpLmV4dGVuZCh1LmNvbWluZyx7dHlwZToiaHRtbCIsYXV0b1dpZHRoOiEwLGF1dG9IZWlnaHQ6ITAsbWluV2lkdGg6MCxtaW5IZWlnaHQ6MCxzY3JvbGxpbmc6Im5vIixoYXNFcnJvcjpuLGNvbnRlbnQ6dS5jb21pbmcudHBsLmVycm9yfSk7dS5fYWZ0ZXJMb2FkKCl9LF9sb2FkSW1hZ2U6ZnVuY3Rpb24oKXt2YXIgbj11LmltZ1ByZWxvYWQ9bmV3IEltYWdlO24ub25sb2FkPWZ1bmN0aW9uKCl7dGhpcy5vbmxvYWQ9dGhpcy5vbmVycm9yPW51bGw7dS5jb21pbmcud2lkdGg9dGhpcy53aWR0aC91Lm9wdHMucGl4ZWxSYXRpbzt1LmNvbWluZy5oZWlnaHQ9dGhpcy5oZWlnaHQvdS5vcHRzLnBpeGVsUmF0aW87dS5fYWZ0ZXJMb2FkKCl9O24ub25lcnJvcj1mdW5jdGlvbigpe3RoaXMub25sb2FkPXRoaXMub25lcnJvcj1udWxsO3UuX2Vycm9yKCJpbWFnZSIpfTtuLnNyYz11LmNvbWluZy5ocmVmO24uY29tcGxldGUhPT0hMCYmdS5zaG93TG9hZGluZygpfSxfbG9hZEFqYXg6ZnVuY3Rpb24oKXt2YXIgbj11LmNvbWluZzt1LnNob3dMb2FkaW5nKCk7dS5hamF4TG9hZD1pLmFqYXgoaS5leHRlbmQoe30sbi5hamF4LHt1cmw6bi5ocmVmLGVycm9yOmZ1bmN0aW9uKG4sdCl7dS5jb21pbmcmJnQhPT0iYWJvcnQiP3UuX2Vycm9yKCJhamF4IixuKTp1LmhpZGVMb2FkaW5nKCl9LHN1Y2Nlc3M6ZnVuY3Rpb24odCxpKXtpPT09InN1Y2Nlc3MiJiYobi5jb250ZW50PXQsdS5fYWZ0ZXJMb2FkKCkpfX0pKX0sX2xvYWRJZnJhbWU6ZnVuY3Rpb24oKXt2YXIgbj11LmNvbWluZyx0PWkobi50cGwuaWZyYW1lLnJlcGxhY2UoL1x7cm5kXH0vZywobmV3IERhdGUpLmdldFRpbWUoKSkpLmF0dHIoInNjcm9sbGluZyIscz8iYXV0byI6bi5pZnJhbWUuc2Nyb2xsaW5nKS5hdHRyKCJzcmMiLG4uaHJlZik7aWYoaShuLndyYXApLmJpbmQoIm9uUmVzZXQiLGZ1bmN0aW9uKCl7dHJ5e2kodGhpcykuZmluZCgiaWZyYW1lIikuaGlkZSgpLmF0dHIoInNyYyIsIi8vYWJvdXQ6YmxhbmsiKS5lbmQoKS5lbXB0eSgpfWNhdGNoKG4pe319KSxuLmlmcmFtZS5wcmVsb2FkKXt1LnNob3dMb2FkaW5nKCk7dC5vbmUoImxvYWQiLGZ1bmN0aW9uKCl7aSh0aGlzKS5kYXRhKCJyZWFkeSIsMSk7c3x8aSh0aGlzKS5iaW5kKCJsb2FkLmZiIix1LnVwZGF0ZSk7aSh0aGlzKS5wYXJlbnRzKCIuZmFuY3lib3gtd3JhcCIpLndpZHRoKCIxMDAlIikucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LXRtcCIpLnNob3coKTt1Ll9hZnRlckxvYWQoKX0pfW4uY29udGVudD10LmFwcGVuZFRvKG4uaW5uZXIpO24uaWZyYW1lLnByZWxvYWR8fHUuX2FmdGVyTG9hZCgpfSxfcHJlbG9hZEltYWdlczpmdW5jdGlvbigpe2Zvcih2YXIgcj11Lmdyb3VwLGk9dS5jdXJyZW50LGY9ci5sZW5ndGgsZT1pLnByZWxvYWQ/TWF0aC5taW4oaS5wcmVsb2FkLGYtMSk6MCxuLHQ9MTt0PD1lO3QrPTEpbj1yWyhpLmluZGV4K3QpJWZdLG4udHlwZT09PSJpbWFnZSImJm4uaHJlZiYmKChuZXcgSW1hZ2UpLnNyYz1uLmhyZWYpfSxfYWZ0ZXJMb2FkOmZ1bmN0aW9uKCl7dmFyIHI9dS5jb21pbmcsZj11LmN1cnJlbnQsZT0iZmFuY3lib3gtcGxhY2Vob2xkZXIiLHQsbixjLG8scyxoO2lmKHUuaGlkZUxvYWRpbmcoKSxyJiZ1LmlzQWN0aXZlIT09ITEpe2lmKCExPT09dS50cmlnZ2VyKCJhZnRlckxvYWQiLHIsZikpe3Iud3JhcC5zdG9wKCEwKS50cmlnZ2VyKCJvblJlc2V0IikucmVtb3ZlKCk7dS5jb21pbmc9bnVsbDtyZXR1cm59ZiYmKHUudHJpZ2dlcigiYmVmb3JlQ2hhbmdlIixmKSxmLndyYXAuc3RvcCghMCkucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LW9wZW5lZCIpLmZpbmQoIi5mYW5jeWJveC1pdGVtLCAuZmFuY3lib3gtbmF2IikucmVtb3ZlKCkpO3UudW5iaW5kRXZlbnRzKCk7dD1yO249ci5jb250ZW50O2M9ci50eXBlO289ci5zY3JvbGxpbmc7aS5leHRlbmQodSx7d3JhcDp0LndyYXAsc2tpbjp0LnNraW4sb3V0ZXI6dC5vdXRlcixpbm5lcjp0LmlubmVyLGN1cnJlbnQ6dCxwcmV2aW91czpmfSk7cz10LmhyZWY7c3dpdGNoKGMpe2Nhc2UiaW5saW5lIjpjYXNlImFqYXgiOmNhc2UiaHRtbCI6dC5zZWxlY3Rvcj9uPWkoIjxkaXY+IikuaHRtbChuKS5maW5kKHQuc2VsZWN0b3IpOmEobikmJihuLmRhdGEoZSl8fG4uZGF0YShlLGkoJzxkaXYgY2xhc3M9IicrZSsnIj48XC9kaXY+JykuaW5zZXJ0QWZ0ZXIobikuaGlkZSgpKSxuPW4uc2hvdygpLmRldGFjaCgpLHQud3JhcC5iaW5kKCJvblJlc2V0IixmdW5jdGlvbigpe2kodGhpcykuZmluZChuKS5sZW5ndGgmJm4uaGlkZSgpLnJlcGxhY2VBbGwobi5kYXRhKGUpKS5kYXRhKGUsITEpfSkpO2JyZWFrO2Nhc2UiaW1hZ2UiOm49dC50cGwuaW1hZ2UucmVwbGFjZSgie2hyZWZ9IixzKTticmVhaztjYXNlInN3ZiI6bj0nPG9iamVjdCBpZD0iZmFuY3lib3gtc3dmIiBjbGFzc2lkPSJjbHNpZDpEMjdDREI2RS1BRTZELTExY2YtOTZCOC00NDQ1NTM1NDAwMDAiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxwYXJhbSBuYW1lPSJtb3ZpZSIgdmFsdWU9IicrcysnIj48XC9wYXJhbT4nO2g9IiI7aS5lYWNoKHQuc3dmLGZ1bmN0aW9uKHQsaSl7bis9JzxwYXJhbSBuYW1lPSInK3QrJyIgdmFsdWU9IicraSsnIj48XC9wYXJhbT4nO2grPSIgIit0Kyc9IicraSsnIid9KTtuKz0nPGVtYmVkIHNyYz0iJytzKyciIHR5cGU9ImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIicraCsiPjxcL2VtYmVkPjxcL29iamVjdD4ifWEobikmJm4ucGFyZW50KCkuaXModC5pbm5lcil8fHQuaW5uZXIuYXBwZW5kKG4pO3UudHJpZ2dlcigiYmVmb3JlU2hvdyIpO3QuaW5uZXIuY3NzKCJvdmVyZmxvdyIsbz09PSJ5ZXMiPyJzY3JvbGwiOm89PT0ibm8iPyJoaWRkZW4iOm8pO3UuX3NldERpbWVuc2lvbigpO3UucmVwb3NpdGlvbigpO3UuaXNPcGVuPSExO3UuY29taW5nPW51bGw7dS5iaW5kRXZlbnRzKCk7dS5pc09wZW5lZD9mLnByZXZNZXRob2QmJnUudHJhbnNpdGlvbnNbZi5wcmV2TWV0aG9kXSgpOmkoIi5mYW5jeWJveC13cmFwIikubm90KHQud3JhcCkuc3RvcCghMCkudHJpZ2dlcigib25SZXNldCIpLnJlbW92ZSgpO3UudHJhbnNpdGlvbnNbdS5pc09wZW5lZD90Lm5leHRNZXRob2Q6dC5vcGVuTWV0aG9kXSgpO3UuX3ByZWxvYWRJbWFnZXMoKX19LF9zZXREaW1lbnNpb246ZnVuY3Rpb24oKXt2YXIgbnQ9dS5nZXRWaWV3cG9ydCgpLHd0PTAsdnQ9ITEsc3Q9ITEsdj11LndyYXAsaz11LnNraW4sZT11LmlubmVyLHI9dS5jdXJyZW50LG49ci53aWR0aCx0PXIuaGVpZ2h0LG89ci5taW5XaWR0aCxzPXIubWluSGVpZ2h0LGM9ci5tYXhXaWR0aCxhPXIubWF4SGVpZ2h0LGJ0PXIuc2Nyb2xsaW5nLGZ0PXIuc2Nyb2xsT3V0c2lkZT9yLnNjcm9sbGJhcldpZHRoOjAsZXQ9ci5tYXJnaW4seXQ9ZihldFsxXStldFszXSkscHQ9ZihldFswXStldFsyXSksZCxodCx0dCxpdCxwLHksY3QsbHQsdyxnLGIscnQsb3QsdXQsYXQ7aWYodi5hZGQoaykuYWRkKGUpLndpZHRoKCJhdXRvIikuaGVpZ2h0KCJhdXRvIikucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LXRtcCIpLGQ9ZihrLm91dGVyV2lkdGgoITApLWsud2lkdGgoKSksaHQ9ZihrLm91dGVySGVpZ2h0KCEwKS1rLmhlaWdodCgpKSx0dD15dCtkLGl0PXB0K2h0LHA9bChuKT8obnQudy10dCkqZihuKS8xMDA6bix5PWwodCk/KG50LmgtaXQpKmYodCkvMTAwOnQsci50eXBlPT09ImlmcmFtZSIpe2lmKHV0PXIuY29udGVudCxyLmF1dG9IZWlnaHQmJnV0LmRhdGEoInJlYWR5Iik9PT0xKXRyeXt1dFswXS5jb250ZW50V2luZG93LmRvY3VtZW50LmxvY2F0aW9uJiYoZS53aWR0aChwKS5oZWlnaHQoOTk5OSksYXQ9dXQuY29udGVudHMoKS5maW5kKCJib2R5IiksZnQmJmF0LmNzcygib3ZlcmZsb3cteCIsImhpZGRlbiIpLHk9YXQub3V0ZXJIZWlnaHQoITApKX1jYXRjaChrdCl7fX1lbHNlKHIuYXV0b1dpZHRofHxyLmF1dG9IZWlnaHQpJiYoZS5hZGRDbGFzcygiZmFuY3lib3gtdG1wIiksci5hdXRvV2lkdGh8fGUud2lkdGgocCksci5hdXRvSGVpZ2h0fHxlLmhlaWdodCh5KSxyLmF1dG9XaWR0aCYmKHA9ZS53aWR0aCgpKSxyLmF1dG9IZWlnaHQmJih5PWUuaGVpZ2h0KCkpLGUucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LXRtcCIpKTtpZihuPWYocCksdD1mKHkpLHc9cC95LG89ZihsKG8pP2YobywidyIpLXR0Om8pLGM9ZihsKGMpP2YoYywidyIpLXR0OmMpLHM9ZihsKHMpP2YocywiaCIpLWl0OnMpLGE9ZihsKGEpP2YoYSwiaCIpLWl0OmEpLGN0PWMsbHQ9YSxyLmZpdFRvVmlldyYmKGM9TWF0aC5taW4obnQudy10dCxjKSxhPU1hdGgubWluKG50LmgtaXQsYSkpLHJ0PW50LncteXQsb3Q9bnQuaC1wdCxyLmFzcGVjdFJhdGlvPyhuPmMmJihuPWMsdD1mKG4vdykpLHQ+YSYmKHQ9YSxuPWYodCp3KSksbjxvJiYobj1vLHQ9ZihuL3cpKSx0PHMmJih0PXMsbj1mKHQqdykpKToobj1NYXRoLm1heChvLE1hdGgubWluKG4sYykpLHIuYXV0b0hlaWdodCYmci50eXBlIT09ImlmcmFtZSImJihlLndpZHRoKG4pLHQ9ZS5oZWlnaHQoKSksdD1NYXRoLm1heChzLE1hdGgubWluKHQsYSkpKSxyLmZpdFRvVmlldylpZihlLndpZHRoKG4pLmhlaWdodCh0KSx2LndpZHRoKG4rZCksZz12LndpZHRoKCksYj12LmhlaWdodCgpLHIuYXNwZWN0UmF0aW8pd2hpbGUoKGc+cnR8fGI+b3QpJiZuPm8mJnQ+cyl7aWYod3QrKz4xOSlicmVhazt0PU1hdGgubWF4KHMsTWF0aC5taW4oYSx0LTEwKSk7bj1mKHQqdyk7bjxvJiYobj1vLHQ9ZihuL3cpKTtuPmMmJihuPWMsdD1mKG4vdykpO2Uud2lkdGgobikuaGVpZ2h0KHQpO3Yud2lkdGgobitkKTtnPXYud2lkdGgoKTtiPXYuaGVpZ2h0KCl9ZWxzZSBuPU1hdGgubWF4KG8sTWF0aC5taW4obixuLShnLXJ0KSkpLHQ9TWF0aC5tYXgocyxNYXRoLm1pbih0LHQtKGItb3QpKSk7ZnQmJmJ0PT09ImF1dG8iJiZ0PHkmJm4rZCtmdDxydCYmKG4rPWZ0KTtlLndpZHRoKG4pLmhlaWdodCh0KTt2LndpZHRoKG4rZCk7Zz12LndpZHRoKCk7Yj12LmhlaWdodCgpO3Z0PShnPnJ0fHxiPm90KSYmbj5vJiZ0PnM7c3Q9ci5hc3BlY3RSYXRpbz9uPGN0JiZ0PGx0JiZuPHAmJnQ8eToobjxjdHx8dDxsdCkmJihuPHB8fHQ8eSk7aS5leHRlbmQocix7ZGltOnt3aWR0aDpoKGcpLGhlaWdodDpoKGIpfSxvcmlnV2lkdGg6cCxvcmlnSGVpZ2h0OnksY2FuU2hyaW5rOnZ0LGNhbkV4cGFuZDpzdCx3UGFkZGluZzpkLGhQYWRkaW5nOmh0LHdyYXBTcGFjZTpiLWsub3V0ZXJIZWlnaHQoITApLHNraW5TcGFjZTprLmhlaWdodCgpLXR9KTshdXQmJnIuYXV0b0hlaWdodCYmdD5zJiZ0PGEmJiFzdCYmZS5oZWlnaHQoImF1dG8iKX0sX2dldFBvc2l0aW9uOmZ1bmN0aW9uKG4pe3ZhciBpPXUuY3VycmVudCxyPXUuZ2V0Vmlld3BvcnQoKSxmPWkubWFyZ2luLGU9dS53cmFwLndpZHRoKCkrZlsxXStmWzNdLG89dS53cmFwLmhlaWdodCgpK2ZbMF0rZlsyXSx0PXtwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDpmWzBdLGxlZnQ6ZlszXX07cmV0dXJuIGkuYXV0b0NlbnRlciYmaS5maXhlZCYmIW4mJm88PXIuaCYmZTw9ci53P3QucG9zaXRpb249ImZpeGVkIjppLmxvY2tlZHx8KHQudG9wKz1yLnksdC5sZWZ0Kz1yLngpLHQudG9wPWgoTWF0aC5tYXgodC50b3AsdC50b3ArKHIuaC1vKSppLnRvcFJhdGlvKSksdC5sZWZ0PWgoTWF0aC5tYXgodC5sZWZ0LHQubGVmdCsoci53LWUpKmkubGVmdFJhdGlvKSksdH0sX2FmdGVyWm9vbUluOmZ1bmN0aW9uKCl7dmFyIG49dS5jdXJyZW50O24mJih1LmlzT3Blbj11LmlzT3BlbmVkPSEwLHUud3JhcC5jc3MoIm92ZXJmbG93IiwidmlzaWJsZSIpLmFkZENsYXNzKCJmYW5jeWJveC1vcGVuZWQiKSx1LnVwZGF0ZSgpLChuLmNsb3NlQ2xpY2t8fG4ubmV4dENsaWNrJiZ1Lmdyb3VwLmxlbmd0aD4xKSYmdS5pbm5lci5jc3MoImN1cnNvciIsInBvaW50ZXIiKS5iaW5kKCJjbGljay5mYiIsZnVuY3Rpb24odCl7aSh0LnRhcmdldCkuaXMoImEiKXx8aSh0LnRhcmdldCkucGFyZW50KCkuaXMoImEiKXx8KHQucHJldmVudERlZmF1bHQoKSx1W24uY2xvc2VDbGljaz8iY2xvc2UiOiJuZXh0Il0oKSl9KSxuLmNsb3NlQnRuJiZpKG4udHBsLmNsb3NlQnRuKS5hcHBlbmRUbyh1LnNraW4pLmJpbmQoImNsaWNrLmZiIixmdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCk7dS5jbG9zZSgpfSksbi5hcnJvd3MmJnUuZ3JvdXAubGVuZ3RoPjEmJigobi5sb29wfHxuLmluZGV4PjApJiZpKG4udHBsLnByZXYpLmFwcGVuZFRvKHUub3V0ZXIpLmJpbmQoImNsaWNrLmZiIix1LnByZXYpLChuLmxvb3B8fG4uaW5kZXg8dS5ncm91cC5sZW5ndGgtMSkmJmkobi50cGwubmV4dCkuYXBwZW5kVG8odS5vdXRlcikuYmluZCgiY2xpY2suZmIiLHUubmV4dCkpLHUudHJpZ2dlcigiYWZ0ZXJTaG93Iiksbi5sb29wfHxuLmluZGV4IT09bi5ncm91cC5sZW5ndGgtMT91Lm9wdHMuYXV0b1BsYXkmJiF1LnBsYXllci5pc0FjdGl2ZSYmKHUub3B0cy5hdXRvUGxheT0hMSx1LnBsYXkoKSk6dS5wbGF5KCExKSl9LF9hZnRlclpvb21PdXQ6ZnVuY3Rpb24obil7bj1ufHx1LmN1cnJlbnQ7aSgiLmZhbmN5Ym94LXdyYXAiKS50cmlnZ2VyKCJvblJlc2V0IikucmVtb3ZlKCk7aS5leHRlbmQodSx7Z3JvdXA6e30sb3B0czp7fSxyb3V0ZXI6ITEsY3VycmVudDpudWxsLGlzQWN0aXZlOiExLGlzT3BlbmVkOiExLGlzT3BlbjohMSxpc0Nsb3Npbmc6ITEsd3JhcDpudWxsLHNraW46bnVsbCxvdXRlcjpudWxsLGlubmVyOm51bGx9KTt1LnRyaWdnZXIoImFmdGVyQ2xvc2UiLG4pfX0pO3UudHJhbnNpdGlvbnM9e2dldE9yaWdQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBuPXUuY3VycmVudCxmPW4uZWxlbWVudCx0PW4ub3JpZyxpPXt9LGU9NTAsbz01MCxzPW4uaFBhZGRpbmcsYz1uLndQYWRkaW5nLHI9dS5nZXRWaWV3cG9ydCgpO3JldHVybiF0JiZuLmlzRG9tJiZmLmlzKCI6dmlzaWJsZSIpJiYodD1mLmZpbmQoImltZzpmaXJzdCIpLHQubGVuZ3RofHwodD1mKSksYSh0KT8oaT10Lm9mZnNldCgpLHQuaXMoImltZyIpJiYoZT10Lm91dGVyV2lkdGgoKSxvPXQub3V0ZXJIZWlnaHQoKSkpOihpLnRvcD1yLnkrKHIuaC1vKSpuLnRvcFJhdGlvLGkubGVmdD1yLngrKHIudy1lKSpuLmxlZnRSYXRpbyksKHUud3JhcC5jc3MoInBvc2l0aW9uIik9PT0iZml4ZWQifHxuLmxvY2tlZCkmJihpLnRvcC09ci55LGkubGVmdC09ci54KSx7dG9wOmgoaS50b3AtcypuLnRvcFJhdGlvKSxsZWZ0OmgoaS5sZWZ0LWMqbi5sZWZ0UmF0aW8pLHdpZHRoOmgoZStjKSxoZWlnaHQ6aChvK3MpfX0sc3RlcDpmdW5jdGlvbihuLHQpe3ZhciByLHMsZSxpPXQucHJvcCxvPXUuY3VycmVudCxoPW8ud3JhcFNwYWNlLGM9by5za2luU3BhY2U7KGk9PT0id2lkdGgifHxpPT09ImhlaWdodCIpJiYocj10LmVuZD09PXQuc3RhcnQ/MToobi10LnN0YXJ0KS8odC5lbmQtdC5zdGFydCksdS5pc0Nsb3NpbmcmJihyPTEtcikscz1pPT09IndpZHRoIj9vLndQYWRkaW5nOm8uaFBhZGRpbmcsZT1uLXMsdS5za2luW2ldKGYoaT09PSJ3aWR0aCI/ZTplLWgqcikpLHUuaW5uZXJbaV0oZihpPT09IndpZHRoIj9lOmUtaCpyLWMqcikpKX0sem9vbUluOmZ1bmN0aW9uKCl7dmFyIG49dS5jdXJyZW50LHQ9bi5wb3Mscj1uLm9wZW5FZmZlY3QsZj1yPT09ImVsYXN0aWMiLGU9aS5leHRlbmQoe29wYWNpdHk6MX0sdCk7ZGVsZXRlIGUucG9zaXRpb247Zj8odD10aGlzLmdldE9yaWdQb3NpdGlvbigpLG4ub3Blbk9wYWNpdHkmJih0Lm9wYWNpdHk9LjEpKTpyPT09ImZhZGUiJiYodC5vcGFjaXR5PS4xKTt1LndyYXAuY3NzKHQpLmFuaW1hdGUoZSx7ZHVyYXRpb246cj09PSJub25lIj8wOm4ub3BlblNwZWVkLGVhc2luZzpuLm9wZW5FYXNpbmcsc3RlcDpmP3RoaXMuc3RlcDpudWxsLGNvbXBsZXRlOnUuX2FmdGVyWm9vbUlufSl9LHpvb21PdXQ6ZnVuY3Rpb24oKXt2YXIgbj11LmN1cnJlbnQsaT1uLmNsb3NlRWZmZWN0LHI9aT09PSJlbGFzdGljIix0PXtvcGFjaXR5Oi4xfTtyJiYodD10aGlzLmdldE9yaWdQb3NpdGlvbigpLG4uY2xvc2VPcGFjaXR5JiYodC5vcGFjaXR5PS4xKSk7dS53cmFwLmFuaW1hdGUodCx7ZHVyYXRpb246aT09PSJub25lIj8wOm4uY2xvc2VTcGVlZCxlYXNpbmc6bi5jbG9zZUVhc2luZyxzdGVwOnI/dGhpcy5zdGVwOm51bGwsY29tcGxldGU6dS5fYWZ0ZXJab29tT3V0fSl9LGNoYW5nZUluOmZ1bmN0aW9uKCl7dmFyIGk9dS5jdXJyZW50LHM9aS5uZXh0RWZmZWN0LHQ9aS5wb3Msbz17b3BhY2l0eToxfSxyPXUuZGlyZWN0aW9uLGU9MjAwLG47dC5vcGFjaXR5PS4xO3M9PT0iZWxhc3RpYyImJihuPXI9PT0iZG93biJ8fHI9PT0idXAiPyJ0b3AiOiJsZWZ0IixyPT09ImRvd24ifHxyPT09InJpZ2h0Ij8odFtuXT1oKGYodFtuXSktZSksb1tuXT0iKz0iK2UrInB4Iik6KHRbbl09aChmKHRbbl0pK2UpLG9bbl09Ii09IitlKyJweCIpKTtzPT09Im5vbmUiP3UuX2FmdGVyWm9vbUluKCk6dS53cmFwLmNzcyh0KS5hbmltYXRlKG8se2R1cmF0aW9uOmkubmV4dFNwZWVkLGVhc2luZzppLm5leHRFYXNpbmcsY29tcGxldGU6dS5fYWZ0ZXJab29tSW59KX0sY2hhbmdlT3V0OmZ1bmN0aW9uKCl7dmFyIG49dS5wcmV2aW91cyxyPW4ucHJldkVmZmVjdCxmPXtvcGFjaXR5Oi4xfSx0PXUuZGlyZWN0aW9uO3I9PT0iZWxhc3RpYyImJihmW3Q9PT0iZG93biJ8fHQ9PT0idXAiPyJ0b3AiOiJsZWZ0Il09KHQ9PT0idXAifHx0PT09ImxlZnQiPyItIjoiKyIpKyI9MjAwcHgiKTtuLndyYXAuYW5pbWF0ZShmLHtkdXJhdGlvbjpyPT09Im5vbmUiPzA6bi5wcmV2U3BlZWQsZWFzaW5nOm4ucHJldkVhc2luZyxjb21wbGV0ZTpmdW5jdGlvbigpe2kodGhpcykudHJpZ2dlcigib25SZXNldCIpLnJlbW92ZSgpfX0pfX07dS5oZWxwZXJzLm92ZXJsYXk9e2RlZmF1bHRzOntjbG9zZUNsaWNrOiEwLHNwZWVkT3V0OjIwMCxzaG93RWFybHk6ITAsY3NzOnt9LGxvY2tlZDohcyxmaXhlZDohMH0sb3ZlcmxheTpudWxsLGZpeGVkOiExLGVsOmkoImh0bWwiKSxjcmVhdGU6ZnVuY3Rpb24obil7bj1pLmV4dGVuZCh7fSx0aGlzLmRlZmF1bHRzLG4pO3RoaXMub3ZlcmxheSYmdGhpcy5jbG9zZSgpO3RoaXMub3ZlcmxheT1pKCc8ZGl2IGNsYXNzPSJmYW5jeWJveC1vdmVybGF5Ij48XC9kaXY+JykuYXBwZW5kVG8odS5jb21pbmc/dS5jb21pbmcucGFyZW50Om4ucGFyZW50KTt0aGlzLmZpeGVkPSExO24uZml4ZWQmJnUuZGVmYXVsdHMuZml4ZWQmJih0aGlzLm92ZXJsYXkuYWRkQ2xhc3MoImZhbmN5Ym94LW92ZXJsYXktZml4ZWQiKSx0aGlzLmZpeGVkPSEwKX0sb3BlbjpmdW5jdGlvbihuKXt2YXIgdD10aGlzO249aS5leHRlbmQoe30sdGhpcy5kZWZhdWx0cyxuKTt0aGlzLm92ZXJsYXk/dGhpcy5vdmVybGF5LnVuYmluZCgiLm92ZXJsYXkiKS53aWR0aCgiYXV0byIpLmhlaWdodCgiYXV0byIpOnRoaXMuY3JlYXRlKG4pO3RoaXMuZml4ZWR8fChlLmJpbmQoInJlc2l6ZS5vdmVybGF5IixpLnByb3h5KHRoaXMudXBkYXRlLHRoaXMpKSx0aGlzLnVwZGF0ZSgpKTtuLmNsb3NlQ2xpY2smJnRoaXMub3ZlcmxheS5iaW5kKCJjbGljay5vdmVybGF5IixmdW5jdGlvbihuKXtpZihpKG4udGFyZ2V0KS5oYXNDbGFzcygiZmFuY3lib3gtb3ZlcmxheSIpKXJldHVybiB1LmlzQWN0aXZlP3UuY2xvc2UoKTp0LmNsb3NlKCksITF9KTt0aGlzLm92ZXJsYXkuY3NzKG4uY3NzKS5zaG93KCl9LGNsb3NlOmZ1bmN0aW9uKCl7dmFyIG4sdDtlLnVuYmluZCgicmVzaXplLm92ZXJsYXkiKTt0aGlzLmVsLmhhc0NsYXNzKCJmYW5jeWJveC1sb2NrIikmJihpKCIuZmFuY3lib3gtbWFyZ2luIikucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LW1hcmdpbiIpLG49ZS5zY3JvbGxUb3AoKSx0PWUuc2Nyb2xsTGVmdCgpLHRoaXMuZWwucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LWxvY2siKSxlLnNjcm9sbFRvcChuKS5zY3JvbGxMZWZ0KHQpKTtpKCIuZmFuY3lib3gtb3ZlcmxheSIpLnJlbW92ZSgpLmhpZGUoKTtpLmV4dGVuZCh0aGlzLHtvdmVybGF5Om51bGwsZml4ZWQ6ITF9KX0sdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIG49IjEwMCUiLGk7dGhpcy5vdmVybGF5LndpZHRoKG4pLmhlaWdodCgiMTAwJSIpO3k/KGk9TWF0aC5tYXgodC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0V2lkdGgsdC5ib2R5Lm9mZnNldFdpZHRoKSxvLndpZHRoKCk+aSYmKG49by53aWR0aCgpKSk6by53aWR0aCgpPmUud2lkdGgoKSYmKG49by53aWR0aCgpKTt0aGlzLm92ZXJsYXkud2lkdGgobikuaGVpZ2h0KG8uaGVpZ2h0KCkpfSxvblJlYWR5OmZ1bmN0aW9uKG4sdCl7dmFyIHI9dGhpcy5vdmVybGF5O2koIi5mYW5jeWJveC1vdmVybGF5Iikuc3RvcCghMCwhMCk7cnx8dGhpcy5jcmVhdGUobik7bi5sb2NrZWQmJnRoaXMuZml4ZWQmJnQuZml4ZWQmJihyfHwodGhpcy5tYXJnaW49by5oZWlnaHQoKT5lLmhlaWdodCgpP2koImh0bWwiKS5jc3MoIm1hcmdpbi1yaWdodCIpLnJlcGxhY2UoInB4IiwiIik6ITEpLHQubG9ja2VkPXRoaXMub3ZlcmxheS5hcHBlbmQodC53cmFwKSx0LmZpeGVkPSExKTtuLnNob3dFYXJseT09PSEwJiZ0aGlzLmJlZm9yZVNob3cuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxiZWZvcmVTaG93OmZ1bmN0aW9uKG4sdCl7dmFyIHIsdTt0LmxvY2tlZCYmKHRoaXMubWFyZ2luIT09ITEmJihpKCIqIikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIGkodGhpcykuY3NzKCJwb3NpdGlvbiIpPT09ImZpeGVkIiYmIWkodGhpcykuaGFzQ2xhc3MoImZhbmN5Ym94LW92ZXJsYXkiKSYmIWkodGhpcykuaGFzQ2xhc3MoImZhbmN5Ym94LXdyYXAiKX0pLmFkZENsYXNzKCJmYW5jeWJveC1tYXJnaW4iKSx0aGlzLmVsLmFkZENsYXNzKCJmYW5jeWJveC1tYXJnaW4iKSkscj1lLnNjcm9sbFRvcCgpLHU9ZS5zY3JvbGxMZWZ0KCksdGhpcy5lbC5hZGRDbGFzcygiZmFuY3lib3gtbG9jayIpLGUuc2Nyb2xsVG9wKHIpLnNjcm9sbExlZnQodSkpO3RoaXMub3BlbihuKX0sb25VcGRhdGU6ZnVuY3Rpb24oKXt0aGlzLmZpeGVkfHx0aGlzLnVwZGF0ZSgpfSxhZnRlckNsb3NlOmZ1bmN0aW9uKG4pe3RoaXMub3ZlcmxheSYmIXUuY29taW5nJiZ0aGlzLm92ZXJsYXkuZmFkZU91dChuLnNwZWVkT3V0LGkucHJveHkodGhpcy5jbG9zZSx0aGlzKSl9fTt1LmhlbHBlcnMudGl0bGU9e2RlZmF1bHRzOnt0eXBlOiJmbG9hdCIscG9zaXRpb246ImJvdHRvbSJ9LGJlZm9yZVNob3c6ZnVuY3Rpb24obil7dmFyIG89dS5jdXJyZW50LHI9by50aXRsZSxzPW4udHlwZSx0LGU7aWYoaS5pc0Z1bmN0aW9uKHIpJiYocj1yLmNhbGwoby5lbGVtZW50LG8pKSxjKHIpJiZpLnRyaW0ocikhPT0iIil7dD1pKCc8ZGl2IGNsYXNzPSJmYW5jeWJveC10aXRsZSBmYW5jeWJveC10aXRsZS0nK3MrJy13cmFwIj4nK3IrIjxcL2Rpdj4iKTtzd2l0Y2gocyl7Y2FzZSJpbnNpZGUiOmU9dS5za2luO2JyZWFrO2Nhc2Uib3V0c2lkZSI6ZT11LndyYXA7YnJlYWs7Y2FzZSJvdmVyIjplPXUuaW5uZXI7YnJlYWs7ZGVmYXVsdDplPXUuc2tpbjt0LmFwcGVuZFRvKCJib2R5Iik7eSYmdC53aWR0aCh0LndpZHRoKCkpO3Qud3JhcElubmVyKCc8c3BhbiBjbGFzcz0iY2hpbGQiPjxcL3NwYW4+Jyk7dS5jdXJyZW50Lm1hcmdpblsyXSs9TWF0aC5hYnMoZih0LmNzcygibWFyZ2luLWJvdHRvbSIpKSl9dFtuLnBvc2l0aW9uPT09InRvcCI/InByZXBlbmRUbyI6ImFwcGVuZFRvIl0oZSl9fX07aS5mbi5mYW5jeWJveD1mdW5jdGlvbihuKXt2YXIgcixmPWkodGhpcyksdD10aGlzLnNlbGVjdG9yfHwiIixlPWZ1bmN0aW9uKGUpe3ZhciBvPWkodGhpcykuYmx1cigpLGM9cixoLHM7ZS5jdHJsS2V5fHxlLmFsdEtleXx8ZS5zaGlmdEtleXx8ZS5tZXRhS2V5fHxvLmlzKCIuZmFuY3lib3gtd3JhcCIpfHwoaD1uLmdyb3VwQXR0cnx8ImRhdGEtZmFuY3lib3gtZ3JvdXAiLHM9by5hdHRyKGgpLHN8fChoPSJyZWwiLHM9by5nZXQoMClbaF0pLHMmJnMhPT0iIiYmcyE9PSJub2ZvbGxvdyImJihvPXQubGVuZ3RoP2kodCk6ZixvPW8uZmlsdGVyKCJbIitoKyc9IicrcysnIl0nKSxjPW8uaW5kZXgodGhpcykpLG4uaW5kZXg9Yyx1Lm9wZW4obyxuKSE9PSExJiZlLnByZXZlbnREZWZhdWx0KCkpfTtyZXR1cm4gbj1ufHx7fSxyPW4uaW5kZXh8fDAsdCYmbi5saXZlIT09ITE/by51bmRlbGVnYXRlKHQsImNsaWNrLmZiLXN0YXJ0IikuZGVsZWdhdGUodCsiOm5vdCgnLmZhbmN5Ym94LWl0ZW0sIC5mYW5jeWJveC1uYXYnKSIsImNsaWNrLmZiLXN0YXJ0IixlKTpmLnVuYmluZCgiY2xpY2suZmItc3RhcnQiKS5iaW5kKCJjbGljay5mYi1zdGFydCIsZSksdGhpcy5maWx0ZXIoIltkYXRhLWZhbmN5Ym94LXN0YXJ0PTFdIikudHJpZ2dlcigiY2xpY2siKSx0aGlzfTtvLnJlYWR5KGZ1bmN0aW9uKCl7dmFyIHQsZjtpLnNjcm9sbGJhcldpZHRoPT09ciYmKGkuc2Nyb2xsYmFyV2lkdGg9ZnVuY3Rpb24oKXt2YXIgbj1pKCc8ZGl2IHN0eWxlPSJ3aWR0aDo1MHB4O2hlaWdodDo1MHB4O292ZXJmbG93OmF1dG8iPjxkaXYvPjxcL2Rpdj4nKS5hcHBlbmRUbygiYm9keSIpLHQ9bi5jaGlsZHJlbigpLHI9dC5pbm5lcldpZHRoKCktdC5oZWlnaHQoOTkpLmlubmVyV2lkdGgoKTtyZXR1cm4gbi5yZW1vdmUoKSxyfSk7aS5zdXBwb3J0LmZpeGVkUG9zaXRpb249PT1yJiYoaS5zdXBwb3J0LmZpeGVkUG9zaXRpb249ZnVuY3Rpb24oKXt2YXIgbj1pKCc8ZGl2IHN0eWxlPSJwb3NpdGlvbjpmaXhlZDt0b3A6MjBweDsiPjxcL2Rpdj4nKS5hcHBlbmRUbygiYm9keSIpLHQ9blswXS5vZmZzZXRUb3A9PT0yMHx8blswXS5vZmZzZXRUb3A9PT0xNTtyZXR1cm4gbi5yZW1vdmUoKSx0fSgpKTtpLmV4dGVuZCh1LmRlZmF1bHRzLHtzY3JvbGxiYXJXaWR0aDppLnNjcm9sbGJhcldpZHRoKCksZml4ZWQ6aS5zdXBwb3J0LmZpeGVkUG9zaXRpb24scGFyZW50OmkoImJvZHkiKX0pO3Q9aShuKS53aWR0aCgpO3AuYWRkQ2xhc3MoImZhbmN5Ym94LWxvY2stdGVzdCIpO2Y9aShuKS53aWR0aCgpO3AucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LWxvY2stdGVzdCIpO2koIjxzdHlsZSB0eXBlPSd0ZXh0L2Nzcyc+LmZhbmN5Ym94LW1hcmdpbnttYXJnaW4tcmlnaHQ6IisoZi10KSsicHg7fTxcL3N0eWxlPiIpLmFwcGVuZFRvKCJoZWFkIil9KX0pKHdpbmRvdyxkb2N1bWVudCxqUXVlcnkpOwovKiEgQ29weXJpZ2h0IChjKSAyMDExIEJyYW5kb24gQWFyb24gKGh0dHA6Ly9icmFuZG9uYWFyb24ubmV0KQogKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKExJQ0VOU0UudHh0KS4KICoKICogVGhhbmtzIHRvOiBodHRwOi8vYWRvbWFzLm9yZy9qYXZhc2NyaXB0LW1vdXNlLXdoZWVsLyBmb3Igc29tZSBwb2ludGVycy4KICogVGhhbmtzIHRvOiBNYXRoaWFzIEJhbmsoaHR0cDovL3d3dy5tYXRoaWFzLWJhbmsuZGUpIGZvciBhIHNjb3BlIGJ1ZyBmaXguCiAqIFRoYW5rcyB0bzogU2VhbXVzIExlYWh5IGZvciBhZGRpbmcgZGVsdGFYIGFuZCBkZWx0YVkKICoKICogVmVyc2lvbjogMy4wLjYKICogCiAqIFJlcXVpcmVzOiAxLjIuMisKICovCihmdW5jdGlvbihuKXtmdW5jdGlvbiBpKHQpe3ZhciBpPXR8fHdpbmRvdy5ldmVudCxlPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLHI9MCxmPTAsdT0wLHQ9bi5ldmVudC5maXgoaSk7cmV0dXJuIHQudHlwZT0ibW91c2V3aGVlbCIsaS53aGVlbERlbHRhJiYocj1pLndoZWVsRGVsdGEvMTIwKSxpLmRldGFpbCYmKHI9LWkuZGV0YWlsLzMpLHU9cixpLmF4aXMhPT12b2lkIDAmJmkuYXhpcz09PWkuSE9SSVpPTlRBTF9BWElTJiYodT0wLGY9LTEqciksaS53aGVlbERlbHRhWSE9PXZvaWQgMCYmKHU9aS53aGVlbERlbHRhWS8xMjApLGkud2hlZWxEZWx0YVghPT12b2lkIDAmJihmPWkud2hlZWxEZWx0YVgvLTEyMCksZS51bnNoaWZ0KHQscixmLHUpLChuLmV2ZW50LmRpc3BhdGNofHxuLmV2ZW50LmhhbmRsZSkuYXBwbHkodGhpcyxlKX12YXIgdD1bIkRPTU1vdXNlU2Nyb2xsIiwibW91c2V3aGVlbCJdLHI7aWYobi5ldmVudC5maXhIb29rcylmb3Iocj10Lmxlbmd0aDtyOyluLmV2ZW50LmZpeEhvb2tzW3RbLS1yXV09bi5ldmVudC5tb3VzZUhvb2tzO24uZXZlbnQuc3BlY2lhbC5tb3VzZXdoZWVsPXtzZXR1cDpmdW5jdGlvbigpe2lmKHRoaXMuYWRkRXZlbnRMaXN0ZW5lcilmb3IodmFyIG49dC5sZW5ndGg7bjspdGhpcy5hZGRFdmVudExpc3RlbmVyKHRbLS1uXSxpLCExKTtlbHNlIHRoaXMub25tb3VzZXdoZWVsPWl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYodGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKWZvcih2YXIgbj10Lmxlbmd0aDtuOyl0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodFstLW5dLGksITEpO2Vsc2UgdGhpcy5vbm1vdXNld2hlZWw9bnVsbH19O24uZm4uZXh0ZW5kKHttb3VzZXdoZWVsOmZ1bmN0aW9uKG4pe3JldHVybiBuP3RoaXMuYmluZCgibW91c2V3aGVlbCIsbik6dGhpcy50cmlnZ2VyKCJtb3VzZXdoZWVsIil9LHVubW91c2V3aGVlbDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy51bmJpbmQoIm1vdXNld2hlZWwiLG4pfX0pfSkoalF1ZXJ5KSxmdW5jdGlvbihuKXt2YXIgdD17bW9kZToiaG9yaXpvbnRhbCIsc2xpZGVTZWxlY3RvcjoiIixpbmZpbml0ZUxvb3A6ITAsaGlkZUNvbnRyb2xPbkVuZDohMSxzcGVlZDo1MDAsZWFzaW5nOm51bGwsc2xpZGVNYXJnaW46MCxzdGFydFNsaWRlOjAscmFuZG9tU3RhcnQ6ITEsY2FwdGlvbnM6ITEsdGlja2VyOiExLHRpY2tlckhvdmVyOiExLGFkYXB0aXZlSGVpZ2h0OiExLGFkYXB0aXZlSGVpZ2h0U3BlZWQ6NTAwLHZpZGVvOiExLHVzZUNTUzohMCxwcmVsb2FkSW1hZ2VzOiJ2aXNpYmxlIixyZXNwb25zaXZlOiEwLHNsaWRlWkluZGV4OjUwLHdyYXBwZXJDbGFzczoiYngtd3JhcHBlciIsdG91Y2hFbmFibGVkOiEwLHN3aXBlVGhyZXNob2xkOjUwLG9uZVRvT25lVG91Y2g6ITAscHJldmVudERlZmF1bHRTd2lwZVg6ITAscHJldmVudERlZmF1bHRTd2lwZVk6ITEsYXJpYUxpdmU6ITAsYXJpYUhpZGRlbjohMCxrZXlib2FyZEVuYWJsZWQ6ITEscGFnZXI6ITAscGFnZXJUeXBlOiJmdWxsIixwYWdlclNob3J0U2VwYXJhdG9yOiIgLyAiLHBhZ2VyU2VsZWN0b3I6bnVsbCxidWlsZFBhZ2VyOm51bGwscGFnZXJDdXN0b206bnVsbCxjb250cm9sczohMCxuZXh0VGV4dDoiTmV4dCIscHJldlRleHQ6IlByZXYiLG5leHRTZWxlY3RvcjpudWxsLHByZXZTZWxlY3RvcjpudWxsLGF1dG9Db250cm9sczohMSxzdGFydFRleHQ6IlN0YXJ0IixzdG9wVGV4dDoiU3RvcCIsYXV0b0NvbnRyb2xzQ29tYmluZTohMSxhdXRvQ29udHJvbHNTZWxlY3RvcjpudWxsLGF1dG86ITEscGF1c2U6NGUzLGF1dG9TdGFydDohMCxhdXRvRGlyZWN0aW9uOiJuZXh0IixzdG9wQXV0b09uQ2xpY2s6ITEsYXV0b0hvdmVyOiExLGF1dG9EZWxheTowLGF1dG9TbGlkZUZvck9uZVBhZ2U6ITEsbWluU2xpZGVzOjEsbWF4U2xpZGVzOjEsbW92ZVNsaWRlczowLHNsaWRlV2lkdGg6MCxzaHJpbmtJdGVtczohMSxvblNsaWRlckxvYWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sb25TbGlkZUJlZm9yZTpmdW5jdGlvbigpe3JldHVybiEwfSxvblNsaWRlQWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sb25TbGlkZU5leHQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sb25TbGlkZVByZXY6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sb25TbGlkZXJSZXNpemU6ZnVuY3Rpb24oKXtyZXR1cm4hMH19O24uZm4uYnhTbGlkZXI9ZnVuY3Rpb24ocil7aWYodGhpcy5sZW5ndGg9PT0wKXJldHVybiB0aGlzO2lmKHRoaXMubGVuZ3RoPjEpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe24odGhpcykuYnhTbGlkZXIocil9KSx0aGlzO3ZhciB1PXt9LGY9dGhpcyxrPW4od2luZG93KS53aWR0aCgpLGQ9bih3aW5kb3cpLmhlaWdodCgpO2lmKCFuKGYpLmRhdGEoImJ4U2xpZGVyIikpe3ZhciBnPWZ1bmN0aW9uKCl7bihmKS5kYXRhKCJieFNsaWRlciIpfHwodS5zZXR0aW5ncz1uLmV4dGVuZCh7fSx0LHIpLHUuc2V0dGluZ3Muc2xpZGVXaWR0aD1wYXJzZUludCh1LnNldHRpbmdzLnNsaWRlV2lkdGgpLHUuY2hpbGRyZW49Zi5jaGlsZHJlbih1LnNldHRpbmdzLnNsaWRlU2VsZWN0b3IpLHUuY2hpbGRyZW4ubGVuZ3RoPHUuc2V0dGluZ3MubWluU2xpZGVzJiYodS5zZXR0aW5ncy5taW5TbGlkZXM9dS5jaGlsZHJlbi5sZW5ndGgpLHUuY2hpbGRyZW4ubGVuZ3RoPHUuc2V0dGluZ3MubWF4U2xpZGVzJiYodS5zZXR0aW5ncy5tYXhTbGlkZXM9dS5jaGlsZHJlbi5sZW5ndGgpLHUuc2V0dGluZ3MucmFuZG9tU3RhcnQmJih1LnNldHRpbmdzLnN0YXJ0U2xpZGU9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnUuY2hpbGRyZW4ubGVuZ3RoKSksdS5hY3RpdmU9e2luZGV4OnUuc2V0dGluZ3Muc3RhcnRTbGlkZX0sdS5jYXJvdXNlbD11LnNldHRpbmdzLm1pblNsaWRlcz4xfHx1LnNldHRpbmdzLm1heFNsaWRlcz4xPyEwOiExLHUuY2Fyb3VzZWwmJih1LnNldHRpbmdzLnByZWxvYWRJbWFnZXM9ImFsbCIpLHUubWluVGhyZXNob2xkPXUuc2V0dGluZ3MubWluU2xpZGVzKnUuc2V0dGluZ3Muc2xpZGVXaWR0aCsodS5zZXR0aW5ncy5taW5TbGlkZXMtMSkqdS5zZXR0aW5ncy5zbGlkZU1hcmdpbix1Lm1heFRocmVzaG9sZD11LnNldHRpbmdzLm1heFNsaWRlcyp1LnNldHRpbmdzLnNsaWRlV2lkdGgrKHUuc2V0dGluZ3MubWF4U2xpZGVzLTEpKnUuc2V0dGluZ3Muc2xpZGVNYXJnaW4sdS53b3JraW5nPSExLHUuY29udHJvbHM9e30sdS5pbnRlcnZhbD1udWxsLHUuYW5pbVByb3A9dS5zZXR0aW5ncy5tb2RlPT09InZlcnRpY2FsIj8idG9wIjoibGVmdCIsdS51c2luZ0NTUz11LnNldHRpbmdzLnVzZUNTUyYmdS5zZXR0aW5ncy5tb2RlIT09ImZhZGUiJiZmdW5jdGlvbigpe2Zvcih2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0PVsiV2Via2l0UGVyc3BlY3RpdmUiLCJNb3pQZXJzcGVjdGl2ZSIsIk9QZXJzcGVjdGl2ZSIsIm1zUGVyc3BlY3RpdmUiXSxuPTA7bjx0Lmxlbmd0aDtuKyspaWYoaS5zdHlsZVt0W25dXSE9PXVuZGVmaW5lZClyZXR1cm4gdS5jc3NQcmVmaXg9dFtuXS5yZXBsYWNlKCJQZXJzcGVjdGl2ZSIsIiIpLnRvTG93ZXJDYXNlKCksdS5hbmltUHJvcD0iLSIrdS5jc3NQcmVmaXgrIi10cmFuc2Zvcm0iLCEwO3JldHVybiExfSgpLHUuc2V0dGluZ3MubW9kZT09PSJ2ZXJ0aWNhbCImJih1LnNldHRpbmdzLm1heFNsaWRlcz11LnNldHRpbmdzLm1pblNsaWRlcyksZi5kYXRhKCJvcmlnU3R5bGUiLGYuYXR0cigic3R5bGUiKSksZi5jaGlsZHJlbih1LnNldHRpbmdzLnNsaWRlU2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLmRhdGEoIm9yaWdTdHlsZSIsbih0aGlzKS5hdHRyKCJzdHlsZSIpKX0pLGh0KCkpfSxodD1mdW5jdGlvbigpe3ZhciB0PXUuY2hpbGRyZW4uZXEodS5zZXR0aW5ncy5zdGFydFNsaWRlKTtmLndyYXAoJzxkaXYgY2xhc3M9IicrdS5zZXR0aW5ncy53cmFwcGVyQ2xhc3MrJyI+PGRpdiBjbGFzcz0iYngtdmlld3BvcnQiPjxcL2Rpdj48XC9kaXY+Jyk7dS52aWV3cG9ydD1mLnBhcmVudCgpO3Uuc2V0dGluZ3MuYXJpYUxpdmUmJiF1LnNldHRpbmdzLnRpY2tlciYmdS52aWV3cG9ydC5hdHRyKCJhcmlhLWxpdmUiLCJwb2xpdGUiKTt1LmxvYWRlcj1uKCc8ZGl2IGNsYXNzPSJieC1sb2FkaW5nIiAvPicpO3Uudmlld3BvcnQucHJlcGVuZCh1LmxvYWRlcik7Zi5jc3Moe3dpZHRoOnUuc2V0dGluZ3MubW9kZT09PSJob3Jpem9udGFsIj91LmNoaWxkcmVuLmxlbmd0aCoxZTMrMjE1KyIlIjoiYXV0byIscG9zaXRpb246InJlbGF0aXZlIn0pO3UudXNpbmdDU1MmJnUuc2V0dGluZ3MuZWFzaW5nP2YuY3NzKCItIit1LmNzc1ByZWZpeCsiLXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uIix1LnNldHRpbmdzLmVhc2luZyk6dS5zZXR0aW5ncy5lYXNpbmd8fCh1LnNldHRpbmdzLmVhc2luZz0ic3dpbmciKTt1LnZpZXdwb3J0LmNzcyh7d2lkdGg6IjEwMCUiLG92ZXJmbG93OiJoaWRkZW4iLHBvc2l0aW9uOiJyZWxhdGl2ZSJ9KTt1LnZpZXdwb3J0LnBhcmVudCgpLmNzcyh7bWF4V2lkdGg6YXQoKX0pO3Uuc2V0dGluZ3MucGFnZXJ8fHUuc2V0dGluZ3MuY29udHJvbHN8fHUudmlld3BvcnQucGFyZW50KCkuY3NzKHttYXJnaW46IjAgYXV0byAwcHgifSk7dS5jaGlsZHJlbi5jc3Moe2Zsb2F0OnUuc2V0dGluZ3MubW9kZT09PSJob3Jpem9udGFsIj8ibGVmdCI6Im5vbmUiLGxpc3RTdHlsZToibm9uZSIscG9zaXRpb246InJlbGF0aXZlIn0pO3UuY2hpbGRyZW4uY3NzKCJ3aWR0aCIsbnQoKSk7dS5zZXR0aW5ncy5tb2RlPT09Imhvcml6b250YWwiJiZ1LnNldHRpbmdzLnNsaWRlTWFyZ2luPjAmJnUuY2hpbGRyZW4uY3NzKCJtYXJnaW5SaWdodCIsdS5zZXR0aW5ncy5zbGlkZU1hcmdpbik7dS5zZXR0aW5ncy5tb2RlPT09InZlcnRpY2FsIiYmdS5zZXR0aW5ncy5zbGlkZU1hcmdpbj4wJiZ1LmNoaWxkcmVuLmNzcygibWFyZ2luQm90dG9tIix1LnNldHRpbmdzLnNsaWRlTWFyZ2luKTt1LnNldHRpbmdzLm1vZGU9PT0iZmFkZSImJih1LmNoaWxkcmVuLmNzcyh7cG9zaXRpb246ImFic29sdXRlIix6SW5kZXg6MCxkaXNwbGF5OiJub25lIn0pLHUuY2hpbGRyZW4uZXEodS5zZXR0aW5ncy5zdGFydFNsaWRlKS5jc3Moe3pJbmRleDp1LnNldHRpbmdzLnNsaWRlWkluZGV4LGRpc3BsYXk6ImJsb2NrIn0pKTt1LmNvbnRyb2xzLmVsPW4oJzxkaXYgY2xhc3M9ImJ4LWNvbnRyb2xzIiAvPicpO3Uuc2V0dGluZ3MuY2FwdGlvbnMmJnd0KCk7dS5hY3RpdmUubGFzdD11LnNldHRpbmdzLnN0YXJ0U2xpZGU9PT1vKCktMTt1LnNldHRpbmdzLnZpZGVvJiZmLmZpdFZpZHMoKTsodS5zZXR0aW5ncy5wcmVsb2FkSW1hZ2VzPT09ImFsbCJ8fHUuc2V0dGluZ3MudGlja2VyKSYmKHQ9dS5jaGlsZHJlbik7dS5zZXR0aW5ncy50aWNrZXI/dS5zZXR0aW5ncy5wYWdlcj0hMToodS5zZXR0aW5ncy5jb250cm9scyYmeXQoKSx1LnNldHRpbmdzLmF1dG8mJnUuc2V0dGluZ3MuYXV0b0NvbnRyb2xzJiZwdCgpLHUuc2V0dGluZ3MucGFnZXImJnZ0KCksKHUuc2V0dGluZ3MuY29udHJvbHN8fHUuc2V0dGluZ3MuYXV0b0NvbnRyb2xzfHx1LnNldHRpbmdzLnBhZ2VyKSYmdS52aWV3cG9ydC5hZnRlcih1LmNvbnRyb2xzLmVsKSk7Y3QodCxsdCl9LGN0PWZ1bmN0aW9uKHQsaSl7dmFyIHI9dC5maW5kKCdpbWc6bm90KFtzcmM9IiJdKSwgaWZyYW1lJykubGVuZ3RoLHU9MDtpZihyPT09MCl7aSgpO3JldHVybn10LmZpbmQoJ2ltZzpub3QoW3NyYz0iIl0pLCBpZnJhbWUnKS5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5vbmUoImxvYWQgZXJyb3IiLGZ1bmN0aW9uKCl7Kyt1PT09ciYmaSgpfSkuZWFjaChmdW5jdGlvbigpe3RoaXMuY29tcGxldGUmJm4odGhpcykubG9hZCgpfSl9KX0sbHQ9ZnVuY3Rpb24oKXtpZih1LnNldHRpbmdzLmluZmluaXRlTG9vcCYmdS5zZXR0aW5ncy5tb2RlIT09ImZhZGUiJiYhdS5zZXR0aW5ncy50aWNrZXIpe3ZhciB0PXUuc2V0dGluZ3MubW9kZT09PSJ2ZXJ0aWNhbCI/dS5zZXR0aW5ncy5taW5TbGlkZXM6dS5zZXR0aW5ncy5tYXhTbGlkZXMsaT11LmNoaWxkcmVuLnNsaWNlKDAsdCkuY2xvbmUoITApLmFkZENsYXNzKCJieC1jbG9uZSIpLHI9dS5jaGlsZHJlbi5zbGljZSgtdCkuY2xvbmUoITApLmFkZENsYXNzKCJieC1jbG9uZSIpO3Uuc2V0dGluZ3MuYXJpYUhpZGRlbiYmKGkuYXR0cigiYXJpYS1oaWRkZW4iLCEwKSxyLmF0dHIoImFyaWEtaGlkZGVuIiwhMCkpO2YuYXBwZW5kKGkpLnByZXBlbmQocil9dS5sb2FkZXIucmVtb3ZlKCk7dHQoKTt1LnNldHRpbmdzLm1vZGU9PT0idmVydGljYWwiJiYodS5zZXR0aW5ncy5hZGFwdGl2ZUhlaWdodD0hMCk7dS52aWV3cG9ydC5oZWlnaHQoYygpKTtmLnJlZHJhd1NsaWRlcigpO3Uuc2V0dGluZ3Mub25TbGlkZXJMb2FkLmNhbGwoZix1LmFjdGl2ZS5pbmRleCk7dS5pbml0aWFsaXplZD0hMDt1LnNldHRpbmdzLnJlc3BvbnNpdmUmJm4od2luZG93KS5iaW5kKCJyZXNpemUiLGIpO3Uuc2V0dGluZ3MuYXV0byYmdS5zZXR0aW5ncy5hdXRvU3RhcnQmJihvKCk+MXx8dS5zZXR0aW5ncy5hdXRvU2xpZGVGb3JPbmVQYWdlKSYmZ3QoKTt1LnNldHRpbmdzLnRpY2tlciYmbmkoKTt1LnNldHRpbmdzLnBhZ2VyJiZ2KHUuc2V0dGluZ3Muc3RhcnRTbGlkZSk7dS5zZXR0aW5ncy5jb250cm9scyYmZnQoKTt1LnNldHRpbmdzLnRvdWNoRW5hYmxlZCYmIXUuc2V0dGluZ3MudGlja2VyJiZpaSgpO3Uuc2V0dGluZ3Mua2V5Ym9hcmRFbmFibGVkJiYhdS5zZXR0aW5ncy50aWNrZXImJm4oZG9jdW1lbnQpLmtleWRvd24oZXQpfSxjPWZ1bmN0aW9uKCl7dmFyIHI9MCx0PW4oKSxmO2lmKHUuc2V0dGluZ3MubW9kZT09PSJ2ZXJ0aWNhbCJ8fHUuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHQpaWYodS5jYXJvdXNlbClmb3IoZj11LnNldHRpbmdzLm1vdmVTbGlkZXM9PT0xP3UuYWN0aXZlLmluZGV4OnUuYWN0aXZlLmluZGV4KnMoKSx0PXUuY2hpbGRyZW4uZXEoZiksaT0xO2k8PXUuc2V0dGluZ3MubWF4U2xpZGVzLTE7aSsrKXQ9ZitpPj11LmNoaWxkcmVuLmxlbmd0aD90LmFkZCh1LmNoaWxkcmVuLmVxKGktMSkpOnQuYWRkKHUuY2hpbGRyZW4uZXEoZitpKSk7ZWxzZSB0PXUuY2hpbGRyZW4uZXEodS5hY3RpdmUuaW5kZXgpO2Vsc2UgdD11LmNoaWxkcmVuO3JldHVybiB1LnNldHRpbmdzLm1vZGU9PT0idmVydGljYWwiPyh0LmVhY2goZnVuY3Rpb24oKXtyKz1uKHRoaXMpLm91dGVySGVpZ2h0KCl9KSx1LnNldHRpbmdzLnNsaWRlTWFyZ2luPjAmJihyKz11LnNldHRpbmdzLnNsaWRlTWFyZ2luKih1LnNldHRpbmdzLm1pblNsaWRlcy0xKSkpOnI9TWF0aC5tYXguYXBwbHkoTWF0aCx0Lm1hcChmdW5jdGlvbigpe3JldHVybiBuKHRoaXMpLm91dGVySGVpZ2h0KCExKX0pLmdldCgpKSx1LnZpZXdwb3J0LmNzcygiYm94LXNpemluZyIpPT09ImJvcmRlci1ib3giP3IrPXBhcnNlRmxvYXQodS52aWV3cG9ydC5jc3MoInBhZGRpbmctdG9wIikpK3BhcnNlRmxvYXQodS52aWV3cG9ydC5jc3MoInBhZGRpbmctYm90dG9tIikpK3BhcnNlRmxvYXQodS52aWV3cG9ydC5jc3MoImJvcmRlci10b3Atd2lkdGgiKSkrcGFyc2VGbG9hdCh1LnZpZXdwb3J0LmNzcygiYm9yZGVyLWJvdHRvbS13aWR0aCIpKTp1LnZpZXdwb3J0LmNzcygiYm94LXNpemluZyIpPT09InBhZGRpbmctYm94IiYmKHIrPXBhcnNlRmxvYXQodS52aWV3cG9ydC5jc3MoInBhZGRpbmctdG9wIikpK3BhcnNlRmxvYXQodS52aWV3cG9ydC5jc3MoInBhZGRpbmctYm90dG9tIikpKSxyfSxhdD1mdW5jdGlvbigpe3ZhciBuPSIxMDAlIjtyZXR1cm4gdS5zZXR0aW5ncy5zbGlkZVdpZHRoPjAmJihuPXUuc2V0dGluZ3MubW9kZT09PSJob3Jpem9udGFsIj91LnNldHRpbmdzLm1heFNsaWRlcyp1LnNldHRpbmdzLnNsaWRlV2lkdGgrKHUuc2V0dGluZ3MubWF4U2xpZGVzLTEpKnUuc2V0dGluZ3Muc2xpZGVNYXJnaW46dS5zZXR0aW5ncy5zbGlkZVdpZHRoKSxufSxudD1mdW5jdGlvbigpe3ZhciB0PXUuc2V0dGluZ3Muc2xpZGVXaWR0aCxuPXUudmlld3BvcnQud2lkdGgoKTtpZih1LnNldHRpbmdzLnNsaWRlV2lkdGg9PT0wfHx1LnNldHRpbmdzLnNsaWRlV2lkdGg+biYmIXUuY2Fyb3VzZWx8fHUuc2V0dGluZ3MubW9kZT09PSJ2ZXJ0aWNhbCIpdD1uO2Vsc2UgaWYodS5zZXR0aW5ncy5tYXhTbGlkZXM+MSYmdS5zZXR0aW5ncy5tb2RlPT09Imhvcml6b250YWwiKXtpZihuPnUubWF4VGhyZXNob2xkKXJldHVybiB0O248dS5taW5UaHJlc2hvbGQ/dD0obi11LnNldHRpbmdzLnNsaWRlTWFyZ2luKih1LnNldHRpbmdzLm1pblNsaWRlcy0xKSkvdS5zZXR0aW5ncy5taW5TbGlkZXM6dS5zZXR0aW5ncy5zaHJpbmtJdGVtcyYmKHQ9TWF0aC5mbG9vcigobit1LnNldHRpbmdzLnNsaWRlTWFyZ2luKS9NYXRoLmNlaWwoKG4rdS5zZXR0aW5ncy5zbGlkZU1hcmdpbikvKHQrdS5zZXR0aW5ncy5zbGlkZU1hcmdpbikpLXUuc2V0dGluZ3Muc2xpZGVNYXJnaW4pKX1yZXR1cm4gdH0saD1mdW5jdGlvbigpe3ZhciBuPTEsdD1udWxsO3JldHVybiB1LnNldHRpbmdzLm1vZGU9PT0iaG9yaXpvbnRhbCImJnUuc2V0dGluZ3Muc2xpZGVXaWR0aD4wP3Uudmlld3BvcnQud2lkdGgoKTx1Lm1pblRocmVzaG9sZD9uPXUuc2V0dGluZ3MubWluU2xpZGVzOnUudmlld3BvcnQud2lkdGgoKT51Lm1heFRocmVzaG9sZD9uPXUuc2V0dGluZ3MubWF4U2xpZGVzOih0PXUuY2hpbGRyZW4uZmlyc3QoKS53aWR0aCgpK3Uuc2V0dGluZ3Muc2xpZGVNYXJnaW4sbj1NYXRoLmZsb29yKCh1LnZpZXdwb3J0LndpZHRoKCkrdS5zZXR0aW5ncy5zbGlkZU1hcmdpbikvdCkpOnUuc2V0dGluZ3MubW9kZT09PSJ2ZXJ0aWNhbCImJihuPXUuc2V0dGluZ3MubWluU2xpZGVzKSxufSxvPWZ1bmN0aW9uKCl7dmFyIG49MCx0PTAsaT0wO2lmKHUuc2V0dGluZ3MubW92ZVNsaWRlcz4wKWlmKHUuc2V0dGluZ3MuaW5maW5pdGVMb29wKW49TWF0aC5jZWlsKHUuY2hpbGRyZW4ubGVuZ3RoL3MoKSk7ZWxzZSB3aGlsZSh0PHUuY2hpbGRyZW4ubGVuZ3RoKSsrbix0PWkraCgpLGkrPXUuc2V0dGluZ3MubW92ZVNsaWRlczw9aCgpP3Uuc2V0dGluZ3MubW92ZVNsaWRlczpoKCk7ZWxzZSBuPU1hdGguY2VpbCh1LmNoaWxkcmVuLmxlbmd0aC9oKCkpO3JldHVybiBufSxzPWZ1bmN0aW9uKCl7cmV0dXJuIHUuc2V0dGluZ3MubW92ZVNsaWRlcz4wJiZ1LnNldHRpbmdzLm1vdmVTbGlkZXM8PWgoKT91LnNldHRpbmdzLm1vdmVTbGlkZXM6aCgpfSx0dD1mdW5jdGlvbigpe3ZhciBuLHQsaTt1LmNoaWxkcmVuLmxlbmd0aD51LnNldHRpbmdzLm1heFNsaWRlcyYmdS5hY3RpdmUubGFzdCYmIXUuc2V0dGluZ3MuaW5maW5pdGVMb29wP3Uuc2V0dGluZ3MubW9kZT09PSJob3Jpem9udGFsIj8odD11LmNoaWxkcmVuLmxhc3QoKSxuPXQucG9zaXRpb24oKSxlKC0obi5sZWZ0LSh1LnZpZXdwb3J0LndpZHRoKCktdC5vdXRlcldpZHRoKCkpKSwicmVzZXQiLDApKTp1LnNldHRpbmdzLm1vZGU9PT0idmVydGljYWwiJiYoaT11LmNoaWxkcmVuLmxlbmd0aC11LnNldHRpbmdzLm1pblNsaWRlcyxuPXUuY2hpbGRyZW4uZXEoaSkucG9zaXRpb24oKSxlKC1uLnRvcCwicmVzZXQiLDApKToobj11LmNoaWxkcmVuLmVxKHUuYWN0aXZlLmluZGV4KnMoKSkucG9zaXRpb24oKSx1LmFjdGl2ZS5pbmRleD09PW8oKS0xJiYodS5hY3RpdmUubGFzdD0hMCksbiE9PXVuZGVmaW5lZCYmKHUuc2V0dGluZ3MubW9kZT09PSJob3Jpem9udGFsIj9lKC1uLmxlZnQsInJlc2V0IiwwKTp1LnNldHRpbmdzLm1vZGU9PT0idmVydGljYWwiJiZlKC1uLnRvcCwicmVzZXQiLDApKSl9LGU9ZnVuY3Rpb24odCxpLHIsbyl7dmFyIHMsaDt1LnVzaW5nQ1NTPyhoPXUuc2V0dGluZ3MubW9kZT09PSJ2ZXJ0aWNhbCI/InRyYW5zbGF0ZTNkKDAsICIrdCsicHgsIDApIjoidHJhbnNsYXRlM2QoIit0KyJweCwgMCwgMCkiLGYuY3NzKCItIit1LmNzc1ByZWZpeCsiLXRyYW5zaXRpb24tZHVyYXRpb24iLHIvMWUzKyJzIiksaT09PSJzbGlkZSI/KGYuY3NzKHUuYW5pbVByb3AsaCksciE9PTA/Zi5iaW5kKCJ0cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kIixmdW5jdGlvbih0KXtuKHQudGFyZ2V0KS5pcyhmKSYmKGYudW5iaW5kKCJ0cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kIiksYSgpKX0pOmEoKSk6aT09PSJyZXNldCI/Zi5jc3ModS5hbmltUHJvcCxoKTppPT09InRpY2tlciImJihmLmNzcygiLSIrdS5jc3NQcmVmaXgrIi10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbiIsImxpbmVhciIpLGYuY3NzKHUuYW5pbVByb3AsaCksciE9PTA/Zi5iaW5kKCJ0cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kIixmdW5jdGlvbih0KXtuKHQudGFyZ2V0KS5pcyhmKSYmKGYudW5iaW5kKCJ0cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kIiksZShvLnJlc2V0VmFsdWUsInJlc2V0IiwwKSxsKCkpfSk6KGUoby5yZXNldFZhbHVlLCJyZXNldCIsMCksbCgpKSkpOihzPXt9LHNbdS5hbmltUHJvcF09dCxpPT09InNsaWRlIj9mLmFuaW1hdGUocyxyLHUuc2V0dGluZ3MuZWFzaW5nLGZ1bmN0aW9uKCl7YSgpfSk6aT09PSJyZXNldCI/Zi5jc3ModS5hbmltUHJvcCx0KTppPT09InRpY2tlciImJmYuYW5pbWF0ZShzLHIsImxpbmVhciIsZnVuY3Rpb24oKXtlKG8ucmVzZXRWYWx1ZSwicmVzZXQiLDApO2woKX0pKX0saXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHI9IiIsaT0iIixmPW8oKSx0PTA7dDxmO3QrKylpPSIiLHUuc2V0dGluZ3MuYnVpbGRQYWdlciYmbi5pc0Z1bmN0aW9uKHUuc2V0dGluZ3MuYnVpbGRQYWdlcil8fHUuc2V0dGluZ3MucGFnZXJDdXN0b20/KGk9dS5zZXR0aW5ncy5idWlsZFBhZ2VyKHQpLHUucGFnZXJFbC5hZGRDbGFzcygiYngtY3VzdG9tLXBhZ2VyIikpOihpPXQrMSx1LnBhZ2VyRWwuYWRkQ2xhc3MoImJ4LWRlZmF1bHQtcGFnZXIiKSkscis9JzxkaXYgY2xhc3M9ImJ4LXBhZ2VyLWl0ZW0iPjxhIGhyZWY9IiIgZGF0YS1zbGlkZS1pbmRleD0iJyt0KyciIGNsYXNzPSJieC1wYWdlci1saW5rIj4nK2krIjxcL2E+PFwvZGl2PiI7dS5wYWdlckVsLmh0bWwocil9LHZ0PWZ1bmN0aW9uKCl7dS5zZXR0aW5ncy5wYWdlckN1c3RvbT91LnBhZ2VyRWw9bih1LnNldHRpbmdzLnBhZ2VyQ3VzdG9tKToodS5wYWdlckVsPW4oJzxkaXYgY2xhc3M9ImJ4LXBhZ2VyIiAvPicpLHUuc2V0dGluZ3MucGFnZXJTZWxlY3Rvcj9uKHUuc2V0dGluZ3MucGFnZXJTZWxlY3RvcikuaHRtbCh1LnBhZ2VyRWwpOnUuY29udHJvbHMuZWwuYWRkQ2xhc3MoImJ4LWhhcy1wYWdlciIpLmFwcGVuZCh1LnBhZ2VyRWwpLGl0KCkpO3UucGFnZXJFbC5vbigiY2xpY2sgdG91Y2hlbmQiLCJhIixkdCl9LHl0PWZ1bmN0aW9uKCl7dS5jb250cm9scy5uZXh0PW4oJzxhIGNsYXNzPSJieC1uZXh0IiBocmVmPSIiPicrdS5zZXR0aW5ncy5uZXh0VGV4dCsiPFwvYT4iKTt1LmNvbnRyb2xzLnByZXY9bignPGEgY2xhc3M9ImJ4LXByZXYiIGhyZWY9IiI+Jyt1LnNldHRpbmdzLnByZXZUZXh0KyI8XC9hPiIpO3UuY29udHJvbHMubmV4dC5iaW5kKCJjbGljayB0b3VjaGVuZCIscnQpO3UuY29udHJvbHMucHJldi5iaW5kKCJjbGljayB0b3VjaGVuZCIsdXQpO3Uuc2V0dGluZ3MubmV4dFNlbGVjdG9yJiZuKHUuc2V0dGluZ3MubmV4dFNlbGVjdG9yKS5hcHBlbmQodS5jb250cm9scy5uZXh0KTt1LnNldHRpbmdzLnByZXZTZWxlY3RvciYmbih1LnNldHRpbmdzLnByZXZTZWxlY3RvcikuYXBwZW5kKHUuY29udHJvbHMucHJldik7dS5zZXR0aW5ncy5uZXh0U2VsZWN0b3J8fHUuc2V0dGluZ3MucHJldlNlbGVjdG9yfHwodS5jb250cm9scy5kaXJlY3Rpb25FbD1uKCc8ZGl2IGNsYXNzPSJieC1jb250cm9scy1kaXJlY3Rpb24iIC8+JyksdS5jb250cm9scy5kaXJlY3Rpb25FbC5hcHBlbmQodS5jb250cm9scy5wcmV2KS5hcHBlbmQodS5jb250cm9scy5uZXh0KSx1LmNvbnRyb2xzLmVsLmFkZENsYXNzKCJieC1oYXMtY29udHJvbHMtZGlyZWN0aW9uIikuYXBwZW5kKHUuY29udHJvbHMuZGlyZWN0aW9uRWwpKX0scHQ9ZnVuY3Rpb24oKXt1LmNvbnRyb2xzLnN0YXJ0PW4oJzxkaXYgY2xhc3M9ImJ4LWNvbnRyb2xzLWF1dG8taXRlbSI+PGEgY2xhc3M9ImJ4LXN0YXJ0IiBocmVmPSIiPicrdS5zZXR0aW5ncy5zdGFydFRleHQrIjxcL2E+PFwvZGl2PiIpO3UuY29udHJvbHMuc3RvcD1uKCc8ZGl2IGNsYXNzPSJieC1jb250cm9scy1hdXRvLWl0ZW0iPjxhIGNsYXNzPSJieC1zdG9wIiBocmVmPSIiPicrdS5zZXR0aW5ncy5zdG9wVGV4dCsiPFwvYT48XC9kaXY+Iik7dS5jb250cm9scy5hdXRvRWw9bignPGRpdiBjbGFzcz0iYngtY29udHJvbHMtYXV0byIgLz4nKTt1LmNvbnRyb2xzLmF1dG9FbC5vbigiY2xpY2siLCIuYngtc3RhcnQiLGJ0KTt1LmNvbnRyb2xzLmF1dG9FbC5vbigiY2xpY2siLCIuYngtc3RvcCIsa3QpO3Uuc2V0dGluZ3MuYXV0b0NvbnRyb2xzQ29tYmluZT91LmNvbnRyb2xzLmF1dG9FbC5hcHBlbmQodS5jb250cm9scy5zdGFydCk6dS5jb250cm9scy5hdXRvRWwuYXBwZW5kKHUuY29udHJvbHMuc3RhcnQpLmFwcGVuZCh1LmNvbnRyb2xzLnN0b3ApO3Uuc2V0dGluZ3MuYXV0b0NvbnRyb2xzU2VsZWN0b3I/bih1LnNldHRpbmdzLmF1dG9Db250cm9sc1NlbGVjdG9yKS5odG1sKHUuY29udHJvbHMuYXV0b0VsKTp1LmNvbnRyb2xzLmVsLmFkZENsYXNzKCJieC1oYXMtY29udHJvbHMtYXV0byIpLmFwcGVuZCh1LmNvbnRyb2xzLmF1dG9FbCk7eSh1LnNldHRpbmdzLmF1dG9TdGFydD8ic3RvcCI6InN0YXJ0Iil9LHd0PWZ1bmN0aW9uKCl7dS5jaGlsZHJlbi5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5maW5kKCJpbWc6Zmlyc3QiKS5hdHRyKCJ0aXRsZSIpO3QhPT11bmRlZmluZWQmJigiIit0KS5sZW5ndGgmJm4odGhpcykuYXBwZW5kKCc8ZGl2IGNsYXNzPSJieC1jYXB0aW9uIj48c3Bhbj4nK3QrIjxcL3NwYW4+PFwvZGl2PiIpfSl9LHJ0PWZ1bmN0aW9uKG4peyhuLnByZXZlbnREZWZhdWx0KCksdS5jb250cm9scy5lbC5oYXNDbGFzcygiZGlzYWJsZWQiKSl8fCh1LnNldHRpbmdzLmF1dG8mJnUuc2V0dGluZ3Muc3RvcEF1dG9PbkNsaWNrJiZmLnN0b3BBdXRvKCksZi5nb1RvTmV4dFNsaWRlKCkpfSx1dD1mdW5jdGlvbihuKXsobi5wcmV2ZW50RGVmYXVsdCgpLHUuY29udHJvbHMuZWwuaGFzQ2xhc3MoImRpc2FibGVkIikpfHwodS5zZXR0aW5ncy5hdXRvJiZ1LnNldHRpbmdzLnN0b3BBdXRvT25DbGljayYmZi5zdG9wQXV0bygpLGYuZ29Ub1ByZXZTbGlkZSgpKX0sYnQ9ZnVuY3Rpb24obil7Zi5zdGFydEF1dG8oKTtuLnByZXZlbnREZWZhdWx0KCl9LGt0PWZ1bmN0aW9uKG4pe2Yuc3RvcEF1dG8oKTtuLnByZXZlbnREZWZhdWx0KCl9LGR0PWZ1bmN0aW9uKHQpe3ZhciBpLHI7KHQucHJldmVudERlZmF1bHQoKSx1LmNvbnRyb2xzLmVsLmhhc0NsYXNzKCJkaXNhYmxlZCIpKXx8KHUuc2V0dGluZ3MuYXV0byYmdS5zZXR0aW5ncy5zdG9wQXV0b09uQ2xpY2smJmYuc3RvcEF1dG8oKSxpPW4odC5jdXJyZW50VGFyZ2V0KSxpLmF0dHIoImRhdGEtc2xpZGUtaW5kZXgiKSE9PXVuZGVmaW5lZCYmKHI9cGFyc2VJbnQoaS5hdHRyKCJkYXRhLXNsaWRlLWluZGV4IikpLHIhPT11LmFjdGl2ZS5pbmRleCYmZi5nb1RvU2xpZGUocikpKX0sdj1mdW5jdGlvbih0KXt2YXIgaT11LmNoaWxkcmVuLmxlbmd0aDtpZih1LnNldHRpbmdzLnBhZ2VyVHlwZT09PSJzaG9ydCIpe3Uuc2V0dGluZ3MubWF4U2xpZGVzPjEmJihpPU1hdGguY2VpbCh1LmNoaWxkcmVuLmxlbmd0aC91LnNldHRpbmdzLm1heFNsaWRlcykpO3UucGFnZXJFbC5odG1sKHQrMSt1LnNldHRpbmdzLnBhZ2VyU2hvcnRTZXBhcmF0b3IraSk7cmV0dXJufXUucGFnZXJFbC5maW5kKCJhIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpO3UucGFnZXJFbC5lYWNoKGZ1bmN0aW9uKGkscil7bihyKS5maW5kKCJhIikuZXEodCkuYWRkQ2xhc3MoImFjdGl2ZSIpfSl9LGE9ZnVuY3Rpb24oKXtpZih1LnNldHRpbmdzLmluZmluaXRlTG9vcCl7dmFyIG49IiI7dS5hY3RpdmUuaW5kZXg9PT0wP249dS5jaGlsZHJlbi5lcSgwKS5wb3NpdGlvbigpOnUuYWN0aXZlLmluZGV4PT09bygpLTEmJnUuY2Fyb3VzZWw/bj11LmNoaWxkcmVuLmVxKChvKCktMSkqcygpKS5wb3NpdGlvbigpOnUuYWN0aXZlLmluZGV4PT09dS5jaGlsZHJlbi5sZW5ndGgtMSYmKG49dS5jaGlsZHJlbi5lcSh1LmNoaWxkcmVuLmxlbmd0aC0xKS5wb3NpdGlvbigpKTtuJiYodS5zZXR0aW5ncy5tb2RlPT09Imhvcml6b250YWwiP2UoLW4ubGVmdCwicmVzZXQiLDApOnUuc2V0dGluZ3MubW9kZT09PSJ2ZXJ0aWNhbCImJmUoLW4udG9wLCJyZXNldCIsMCkpfXUud29ya2luZz0hMTt1LnNldHRpbmdzLm9uU2xpZGVBZnRlci5jYWxsKGYsdS5jaGlsZHJlbi5lcSh1LmFjdGl2ZS5pbmRleCksdS5vbGRJbmRleCx1LmFjdGl2ZS5pbmRleCl9LHk9ZnVuY3Rpb24obil7dS5zZXR0aW5ncy5hdXRvQ29udHJvbHNDb21iaW5lP3UuY29udHJvbHMuYXV0b0VsLmh0bWwodS5jb250cm9sc1tuXSk6KHUuY29udHJvbHMuYXV0b0VsLmZpbmQoImEiKS5yZW1vdmVDbGFzcygiYWN0aXZlIiksdS5jb250cm9scy5hdXRvRWwuZmluZCgiYTpub3QoLmJ4LSIrbisiKSIpLmFkZENsYXNzKCJhY3RpdmUiKSl9LGZ0PWZ1bmN0aW9uKCl7bygpPT09MT8odS5jb250cm9scy5wcmV2LmFkZENsYXNzKCJkaXNhYmxlZCIpLHUuY29udHJvbHMubmV4dC5hZGRDbGFzcygiZGlzYWJsZWQiKSk6IXUuc2V0dGluZ3MuaW5maW5pdGVMb29wJiZ1LnNldHRpbmdzLmhpZGVDb250cm9sT25FbmQmJih1LmFjdGl2ZS5pbmRleD09PTA/KHUuY29udHJvbHMucHJldi5hZGRDbGFzcygiZGlzYWJsZWQiKSx1LmNvbnRyb2xzLm5leHQucmVtb3ZlQ2xhc3MoImRpc2FibGVkIikpOnUuYWN0aXZlLmluZGV4PT09bygpLTE/KHUuY29udHJvbHMubmV4dC5hZGRDbGFzcygiZGlzYWJsZWQiKSx1LmNvbnRyb2xzLnByZXYucmVtb3ZlQ2xhc3MoImRpc2FibGVkIikpOih1LmNvbnRyb2xzLnByZXYucmVtb3ZlQ2xhc3MoImRpc2FibGVkIiksdS5jb250cm9scy5uZXh0LnJlbW92ZUNsYXNzKCJkaXNhYmxlZCIpKSl9LGd0PWZ1bmN0aW9uKCl7aWYodS5zZXR0aW5ncy5hdXRvRGVsYXk+MCl2YXIgdD1zZXRUaW1lb3V0KGYuc3RhcnRBdXRvLHUuc2V0dGluZ3MuYXV0b0RlbGF5KTtlbHNlIGYuc3RhcnRBdXRvKCksbih3aW5kb3cpLmZvY3VzKGZ1bmN0aW9uKCl7Zi5zdGFydEF1dG8oKX0pLmJsdXIoZnVuY3Rpb24oKXtmLnN0b3BBdXRvKCl9KTt1LnNldHRpbmdzLmF1dG9Ib3ZlciYmZi5ob3ZlcihmdW5jdGlvbigpe3UuaW50ZXJ2YWwmJihmLnN0b3BBdXRvKCEwKSx1LmF1dG9QYXVzZWQ9ITApfSxmdW5jdGlvbigpe3UuYXV0b1BhdXNlZCYmKGYuc3RhcnRBdXRvKCEwKSx1LmF1dG9QYXVzZWQ9bnVsbCl9KX0sbmk9ZnVuY3Rpb24oKXt2YXIgYz0wLG8sYSxzLHYsaSxoLHIsdDt1LnNldHRpbmdzLmF1dG9EaXJlY3Rpb249PT0ibmV4dCI/Zi5hcHBlbmQodS5jaGlsZHJlbi5jbG9uZSgpLmFkZENsYXNzKCJieC1jbG9uZSIpKTooZi5wcmVwZW5kKHUuY2hpbGRyZW4uY2xvbmUoKS5hZGRDbGFzcygiYngtY2xvbmUiKSksbz11LmNoaWxkcmVuLmZpcnN0KCkucG9zaXRpb24oKSxjPXUuc2V0dGluZ3MubW9kZT09PSJob3Jpem9udGFsIj8tby5sZWZ0Oi1vLnRvcCk7ZShjLCJyZXNldCIsMCk7dS5zZXR0aW5ncy5wYWdlcj0hMTt1LnNldHRpbmdzLmNvbnRyb2xzPSExO3Uuc2V0dGluZ3MuYXV0b0NvbnRyb2xzPSExO3Uuc2V0dGluZ3MudGlja2VySG92ZXImJih1LnVzaW5nQ1NTPyh2PXUuc2V0dGluZ3MubW9kZT09PSJob3Jpem9udGFsIj80OjUsdS52aWV3cG9ydC5ob3ZlcihmdW5jdGlvbigpe2E9Zi5jc3MoIi0iK3UuY3NzUHJlZml4KyItdHJhbnNmb3JtIik7cz1wYXJzZUZsb2F0KGEuc3BsaXQoIiwiKVt2XSk7ZShzLCJyZXNldCIsMCl9LGZ1bmN0aW9uKCl7dD0wO3UuY2hpbGRyZW4uZWFjaChmdW5jdGlvbigpe3QrPXUuc2V0dGluZ3MubW9kZT09PSJob3Jpem9udGFsIj9uKHRoaXMpLm91dGVyV2lkdGgoITApOm4odGhpcykub3V0ZXJIZWlnaHQoITApfSk7aT11LnNldHRpbmdzLnNwZWVkL3Q7aD11LnNldHRpbmdzLm1vZGU9PT0iaG9yaXpvbnRhbCI/ImxlZnQiOiJ0b3AiO3I9aSoodC1NYXRoLmFicyhwYXJzZUludChzKSkpO2wocil9KSk6dS52aWV3cG9ydC5ob3ZlcihmdW5jdGlvbigpe2Yuc3RvcCgpfSxmdW5jdGlvbigpe3Q9MDt1LmNoaWxkcmVuLmVhY2goZnVuY3Rpb24oKXt0Kz11LnNldHRpbmdzLm1vZGU9PT0iaG9yaXpvbnRhbCI/bih0aGlzKS5vdXRlcldpZHRoKCEwKTpuKHRoaXMpLm91dGVySGVpZ2h0KCEwKX0pO2k9dS5zZXR0aW5ncy5zcGVlZC90O2g9dS5zZXR0aW5ncy5tb2RlPT09Imhvcml6b250YWwiPyJsZWZ0IjoidG9wIjtyPWkqKHQtTWF0aC5hYnMocGFyc2VJbnQoZi5jc3MoaCkpKSk7bChyKX0pKTtsKCl9LGw9ZnVuY3Rpb24obil7dmFyIGg9bj9uOnUuc2V0dGluZ3Muc3BlZWQsdD17bGVmdDowLHRvcDowfSxpPXtsZWZ0OjAsdG9wOjB9LHIsbyxzO3Uuc2V0dGluZ3MuYXV0b0RpcmVjdGlvbj09PSJuZXh0Ij90PWYuZmluZCgiLmJ4LWNsb25lIikuZmlyc3QoKS5wb3NpdGlvbigpOmk9dS5jaGlsZHJlbi5maXJzdCgpLnBvc2l0aW9uKCk7cj11LnNldHRpbmdzLm1vZGU9PT0iaG9yaXpvbnRhbCI/LXQubGVmdDotdC50b3A7bz11LnNldHRpbmdzLm1vZGU9PT0iaG9yaXpvbnRhbCI/LWkubGVmdDotaS50b3A7cz17cmVzZXRWYWx1ZTpvfTtlKHIsInRpY2tlciIsaCxzKX0sdGk9ZnVuY3Rpb24odCl7dmFyIHU9bih3aW5kb3cpLGk9e3RvcDp1LnNjcm9sbFRvcCgpLGxlZnQ6dS5zY3JvbGxMZWZ0KCl9LHI9dC5vZmZzZXQoKTtyZXR1cm4gaS5yaWdodD1pLmxlZnQrdS53aWR0aCgpLGkuYm90dG9tPWkudG9wK3UuaGVpZ2h0KCksci5yaWdodD1yLmxlZnQrdC5vdXRlcldpZHRoKCksci5ib3R0b209ci50b3ArdC5vdXRlckhlaWdodCgpLCEoaS5yaWdodDxyLmxlZnR8fGkubGVmdD5yLnJpZ2h0fHxpLmJvdHRvbTxyLnRvcHx8aS50b3A+ci5ib3R0b20pfSxldD1mdW5jdGlvbihuKXt2YXIgdD1kb2N1bWVudC5hY3RpdmVFbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSxpPW5ldyBSZWdFeHAodCxbImkiXSkscj1pLmV4ZWMoImlucHV0fHRleHRhcmVhIik7aWYocj09bnVsbCYmdGkoZikpe2lmKG4ua2V5Q29kZT09PTM5KXJldHVybiBydChuKSwhMTtpZihuLmtleUNvZGU9PT0zNylyZXR1cm4gdXQobiksITF9fSxpaT1mdW5jdGlvbigpe3UudG91Y2g9e3N0YXJ0Ont4OjAseTowfSxlbmQ6e3g6MCx5OjB9fTt1LnZpZXdwb3J0LmJpbmQoInRvdWNoc3RhcnQgTVNQb2ludGVyRG93biBwb2ludGVyZG93biIscmkpO3Uudmlld3BvcnQub24oImNsaWNrIiwiLmJ4c2xpZGVyIGEiLGZ1bmN0aW9uKG4pe3Uudmlld3BvcnQuaGFzQ2xhc3MoImNsaWNrLWRpc2FibGVkIikmJihuLnByZXZlbnREZWZhdWx0KCksdS52aWV3cG9ydC5yZW1vdmVDbGFzcygiY2xpY2stZGlzYWJsZWQiKSl9KX0scmk9ZnVuY3Rpb24obil7aWYodS5jb250cm9scy5lbC5hZGRDbGFzcygiZGlzYWJsZWQiKSx1Lndvcmtpbmcpbi5wcmV2ZW50RGVmYXVsdCgpLHUuY29udHJvbHMuZWwucmVtb3ZlQ2xhc3MoImRpc2FibGVkIik7ZWxzZXt1LnRvdWNoLm9yaWdpbmFsUG9zPWYucG9zaXRpb24oKTt2YXIgdD1uLm9yaWdpbmFsRXZlbnQsaT10eXBlb2YgdC5jaGFuZ2VkVG91Y2hlcyE9InVuZGVmaW5lZCI/dC5jaGFuZ2VkVG91Y2hlczpbdF07dS50b3VjaC5zdGFydC54PWlbMF0ucGFnZVg7dS50b3VjaC5zdGFydC55PWlbMF0ucGFnZVk7dS52aWV3cG9ydC5nZXQoMCkuc2V0UG9pbnRlckNhcHR1cmUmJih1LnBvaW50ZXJJZD10LnBvaW50ZXJJZCx1LnZpZXdwb3J0LmdldCgwKS5zZXRQb2ludGVyQ2FwdHVyZSh1LnBvaW50ZXJJZCkpO3Uudmlld3BvcnQuYmluZCgidG91Y2htb3ZlIE1TUG9pbnRlck1vdmUgcG9pbnRlcm1vdmUiLHApO3Uudmlld3BvcnQuYmluZCgidG91Y2hlbmQgTVNQb2ludGVyVXAgcG9pbnRlcnVwIix3KTt1LnZpZXdwb3J0LmJpbmQoIk1TUG9pbnRlckNhbmNlbCBwb2ludGVyY2FuY2VsIixvdCl9fSxvdD1mdW5jdGlvbigpe2UodS50b3VjaC5vcmlnaW5hbFBvcy5sZWZ0LCJyZXNldCIsMCk7dS5jb250cm9scy5lbC5yZW1vdmVDbGFzcygiZGlzYWJsZWQiKTt1LnZpZXdwb3J0LnVuYmluZCgiTVNQb2ludGVyQ2FuY2VsIHBvaW50ZXJjYW5jZWwiLG90KTt1LnZpZXdwb3J0LnVuYmluZCgidG91Y2htb3ZlIE1TUG9pbnRlck1vdmUgcG9pbnRlcm1vdmUiLHApO3Uudmlld3BvcnQudW5iaW5kKCJ0b3VjaGVuZCBNU1BvaW50ZXJVcCBwb2ludGVydXAiLHcpO3Uudmlld3BvcnQuZ2V0KDApLnJlbGVhc2VQb2ludGVyQ2FwdHVyZSYmdS52aWV3cG9ydC5nZXQoMCkucmVsZWFzZVBvaW50ZXJDYXB0dXJlKHUucG9pbnRlcklkKX0scD1mdW5jdGlvbihuKXt2YXIgcj1uLm9yaWdpbmFsRXZlbnQsdD10eXBlb2Ygci5jaGFuZ2VkVG91Y2hlcyE9InVuZGVmaW5lZCI/ci5jaGFuZ2VkVG91Y2hlczpbcl0sbz1NYXRoLmFicyh0WzBdLnBhZ2VYLXUudG91Y2guc3RhcnQueCkscz1NYXRoLmFicyh0WzBdLnBhZ2VZLXUudG91Y2guc3RhcnQueSksZj0wLGk9MDtvKjM+cyYmdS5zZXR0aW5ncy5wcmV2ZW50RGVmYXVsdFN3aXBlWD9uLnByZXZlbnREZWZhdWx0KCk6cyozPm8mJnUuc2V0dGluZ3MucHJldmVudERlZmF1bHRTd2lwZVkmJm4ucHJldmVudERlZmF1bHQoKTt1LnNldHRpbmdzLm1vZGUhPT0iZmFkZSImJnUuc2V0dGluZ3Mub25lVG9PbmVUb3VjaCYmKHUuc2V0dGluZ3MubW9kZT09PSJob3Jpem9udGFsIj8oaT10WzBdLnBhZ2VYLXUudG91Y2guc3RhcnQueCxmPXUudG91Y2gub3JpZ2luYWxQb3MubGVmdCtpKTooaT10WzBdLnBhZ2VZLXUudG91Y2guc3RhcnQueSxmPXUudG91Y2gub3JpZ2luYWxQb3MudG9wK2kpLGUoZiwicmVzZXQiLDApKX0sdz1mdW5jdGlvbihuKXt1LnZpZXdwb3J0LnVuYmluZCgidG91Y2htb3ZlIE1TUG9pbnRlck1vdmUgcG9pbnRlcm1vdmUiLHApO3UuY29udHJvbHMuZWwucmVtb3ZlQ2xhc3MoImRpc2FibGVkIik7dmFyIHI9bi5vcmlnaW5hbEV2ZW50LG89dHlwZW9mIHIuY2hhbmdlZFRvdWNoZXMhPSJ1bmRlZmluZWQiP3IuY2hhbmdlZFRvdWNoZXM6W3JdLGk9MCx0PTA7dS50b3VjaC5lbmQueD1vWzBdLnBhZ2VYO3UudG91Y2guZW5kLnk9b1swXS5wYWdlWTt1LnNldHRpbmdzLm1vZGU9PT0iZmFkZSI/KHQ9TWF0aC5hYnModS50b3VjaC5zdGFydC54LXUudG91Y2guZW5kLngpLHQ+PXUuc2V0dGluZ3Muc3dpcGVUaHJlc2hvbGQmJih1LnRvdWNoLnN0YXJ0Lng+dS50b3VjaC5lbmQueD9mLmdvVG9OZXh0U2xpZGUoKTpmLmdvVG9QcmV2U2xpZGUoKSxmLnN0b3BBdXRvKCkpKToodS5zZXR0aW5ncy5tb2RlPT09Imhvcml6b250YWwiPyh0PXUudG91Y2guZW5kLngtdS50b3VjaC5zdGFydC54LGk9dS50b3VjaC5vcmlnaW5hbFBvcy5sZWZ0KToodD11LnRvdWNoLmVuZC55LXUudG91Y2guc3RhcnQueSxpPXUudG91Y2gub3JpZ2luYWxQb3MudG9wKSwhdS5zZXR0aW5ncy5pbmZpbml0ZUxvb3AmJih1LmFjdGl2ZS5pbmRleD09PTAmJnQ+MHx8dS5hY3RpdmUubGFzdCYmdDwwKT9lKGksInJlc2V0IiwyMDApOk1hdGguYWJzKHQpPj11LnNldHRpbmdzLnN3aXBlVGhyZXNob2xkPyh0PDA/Zi5nb1RvTmV4dFNsaWRlKCk6Zi5nb1RvUHJldlNsaWRlKCksZi5zdG9wQXV0bygpKTplKGksInJlc2V0IiwyMDApKTt1LnZpZXdwb3J0LnVuYmluZCgidG91Y2hlbmQgTVNQb2ludGVyVXAgcG9pbnRlcnVwIix3KTt1LnZpZXdwb3J0LmdldCgwKS5yZWxlYXNlUG9pbnRlckNhcHR1cmUmJnUudmlld3BvcnQuZ2V0KDApLnJlbGVhc2VQb2ludGVyQ2FwdHVyZSh1LnBvaW50ZXJJZCl9LGI9ZnVuY3Rpb24oKXtpZih1LmluaXRpYWxpemVkKWlmKHUud29ya2luZyl3aW5kb3cuc2V0VGltZW91dChiLDEwKTtlbHNle3ZhciB0PW4od2luZG93KS53aWR0aCgpLGk9bih3aW5kb3cpLmhlaWdodCgpOyhrIT09dHx8ZCE9PWkpJiYoaz10LGQ9aSxmLnJlZHJhd1NsaWRlcigpLHUuc2V0dGluZ3Mub25TbGlkZXJSZXNpemUuY2FsbChmLHUuYWN0aXZlLmluZGV4KSl9fSxzdD1mdW5jdGlvbihuKXt2YXIgdD1oKCk7dS5zZXR0aW5ncy5hcmlhSGlkZGVuJiYhdS5zZXR0aW5ncy50aWNrZXImJih1LmNoaWxkcmVuLmF0dHIoImFyaWEtaGlkZGVuIiwidHJ1ZSIpLHUuY2hpbGRyZW4uc2xpY2UobixuK3QpLmF0dHIoImFyaWEtaGlkZGVuIiwiZmFsc2UiKSl9LHVpPWZ1bmN0aW9uKG4pe3JldHVybiBuPDA/dS5zZXR0aW5ncy5pbmZpbml0ZUxvb3A/bygpLTE6dS5hY3RpdmUuaW5kZXg6bj49bygpP3Uuc2V0dGluZ3MuaW5maW5pdGVMb29wPzA6dS5hY3RpdmUuaW5kZXg6bn07cmV0dXJuIGYuZ29Ub1NsaWRlPWZ1bmN0aW9uKHQsaSl7dmFyIGg9ITAseT0wLHI9e2xlZnQ6MCx0b3A6MH0sbD1udWxsLHAsdyxiLGs7aWYodS5vbGRJbmRleD11LmFjdGl2ZS5pbmRleCx1LmFjdGl2ZS5pbmRleD11aSh0KSwhdS53b3JraW5nJiZ1LmFjdGl2ZS5pbmRleCE9PXUub2xkSW5kZXgpe2lmKHUud29ya2luZz0hMCxoPXUuc2V0dGluZ3Mub25TbGlkZUJlZm9yZS5jYWxsKGYsdS5jaGlsZHJlbi5lcSh1LmFjdGl2ZS5pbmRleCksdS5vbGRJbmRleCx1LmFjdGl2ZS5pbmRleCksdHlwZW9mIGghPSJ1bmRlZmluZWQiJiYhaCl7dS5hY3RpdmUuaW5kZXg9dS5vbGRJbmRleDt1Lndvcmtpbmc9ITE7cmV0dXJufWk9PT0ibmV4dCI/dS5zZXR0aW5ncy5vblNsaWRlTmV4dC5jYWxsKGYsdS5jaGlsZHJlbi5lcSh1LmFjdGl2ZS5pbmRleCksdS5vbGRJbmRleCx1LmFjdGl2ZS5pbmRleCl8fChoPSExKTppPT09InByZXYiJiYodS5zZXR0aW5ncy5vblNsaWRlUHJldi5jYWxsKGYsdS5jaGlsZHJlbi5lcSh1LmFjdGl2ZS5pbmRleCksdS5vbGRJbmRleCx1LmFjdGl2ZS5pbmRleCl8fChoPSExKSk7dS5hY3RpdmUubGFzdD11LmFjdGl2ZS5pbmRleD49bygpLTE7KHUuc2V0dGluZ3MucGFnZXJ8fHUuc2V0dGluZ3MucGFnZXJDdXN0b20pJiZ2KHUuYWN0aXZlLmluZGV4KTt1LnNldHRpbmdzLmNvbnRyb2xzJiZmdCgpO3Uuc2V0dGluZ3MubW9kZT09PSJmYWRlIj8odS5zZXR0aW5ncy5hZGFwdGl2ZUhlaWdodCYmdS52aWV3cG9ydC5oZWlnaHQoKSE9PWMoKSYmdS52aWV3cG9ydC5hbmltYXRlKHtoZWlnaHQ6YygpfSx1LnNldHRpbmdzLmFkYXB0aXZlSGVpZ2h0U3BlZWQpLHUuY2hpbGRyZW4uZmlsdGVyKCI6dmlzaWJsZSIpLmZhZGVPdXQodS5zZXR0aW5ncy5zcGVlZCkuY3NzKHt6SW5kZXg6MH0pLHUuY2hpbGRyZW4uZXEodS5hY3RpdmUuaW5kZXgpLmNzcygiekluZGV4Iix1LnNldHRpbmdzLnNsaWRlWkluZGV4KzEpLmZhZGVJbih1LnNldHRpbmdzLnNwZWVkLGZ1bmN0aW9uKCl7bih0aGlzKS5jc3MoInpJbmRleCIsdS5zZXR0aW5ncy5zbGlkZVpJbmRleCk7YSgpfSkpOih1LnNldHRpbmdzLmFkYXB0aXZlSGVpZ2h0JiZ1LnZpZXdwb3J0LmhlaWdodCgpIT09YygpJiZ1LnZpZXdwb3J0LmFuaW1hdGUoe2hlaWdodDpjKCl9LHUuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHRTcGVlZCksIXUuc2V0dGluZ3MuaW5maW5pdGVMb29wJiZ1LmNhcm91c2VsJiZ1LmFjdGl2ZS5sYXN0P3Uuc2V0dGluZ3MubW9kZT09PSJob3Jpem9udGFsIj8obD11LmNoaWxkcmVuLmVxKHUuY2hpbGRyZW4ubGVuZ3RoLTEpLHI9bC5wb3NpdGlvbigpLHk9dS52aWV3cG9ydC53aWR0aCgpLWwub3V0ZXJXaWR0aCgpKToocD11LmNoaWxkcmVuLmxlbmd0aC11LnNldHRpbmdzLm1pblNsaWRlcyxyPXUuY2hpbGRyZW4uZXEocCkucG9zaXRpb24oKSk6dS5jYXJvdXNlbCYmdS5hY3RpdmUubGFzdCYmaT09PSJwcmV2Ij8odz11LnNldHRpbmdzLm1vdmVTbGlkZXM9PT0xP3Uuc2V0dGluZ3MubWF4U2xpZGVzLXMoKToobygpLTEpKnMoKS0odS5jaGlsZHJlbi5sZW5ndGgtdS5zZXR0aW5ncy5tYXhTbGlkZXMpLGw9Zi5jaGlsZHJlbigiLmJ4LWNsb25lIikuZXEodykscj1sLnBvc2l0aW9uKCkpOmk9PT0ibmV4dCImJnUuYWN0aXZlLmluZGV4PT09MD8ocj1mLmZpbmQoIj4gLmJ4LWNsb25lIikuZXEodS5zZXR0aW5ncy5tYXhTbGlkZXMpLnBvc2l0aW9uKCksdS5hY3RpdmUubGFzdD0hMSk6dD49MCYmKGs9dCpwYXJzZUludChzKCkpLHI9dS5jaGlsZHJlbi5lcShrKS5wb3NpdGlvbigpKSx0eXBlb2YgciE9InVuZGVmaW5lZCI/KGI9dS5zZXR0aW5ncy5tb2RlPT09Imhvcml6b250YWwiPy0oci5sZWZ0LXkpOi1yLnRvcCxlKGIsInNsaWRlIix1LnNldHRpbmdzLnNwZWVkKSk6dS53b3JraW5nPSExKTt1LnNldHRpbmdzLmFyaWFIaWRkZW4mJnN0KHUuYWN0aXZlLmluZGV4KnMoKSl9fSxmLmdvVG9OZXh0U2xpZGU9ZnVuY3Rpb24oKXtpZih1LnNldHRpbmdzLmluZmluaXRlTG9vcHx8IXUuYWN0aXZlLmxhc3Qpe3ZhciBuPXBhcnNlSW50KHUuYWN0aXZlLmluZGV4KSsxO2YuZ29Ub1NsaWRlKG4sIm5leHQiKX19LGYuZ29Ub1ByZXZTbGlkZT1mdW5jdGlvbigpe2lmKHUuc2V0dGluZ3MuaW5maW5pdGVMb29wfHx1LmFjdGl2ZS5pbmRleCE9PTApe3ZhciBuPXBhcnNlSW50KHUuYWN0aXZlLmluZGV4KS0xO2YuZ29Ub1NsaWRlKG4sInByZXYiKX19LGYuc3RhcnRBdXRvPWZ1bmN0aW9uKG4pe3UuaW50ZXJ2YWx8fCh1LmludGVydmFsPXNldEludGVydmFsKGZ1bmN0aW9uKCl7dS5zZXR0aW5ncy5hdXRvRGlyZWN0aW9uPT09Im5leHQiP2YuZ29Ub05leHRTbGlkZSgpOmYuZ29Ub1ByZXZTbGlkZSgpfSx1LnNldHRpbmdzLnBhdXNlKSx1LnNldHRpbmdzLmF1dG9Db250cm9scyYmbiE9PSEwJiZ5KCJzdG9wIikpfSxmLnN0b3BBdXRvPWZ1bmN0aW9uKG4pe3UuaW50ZXJ2YWwmJihjbGVhckludGVydmFsKHUuaW50ZXJ2YWwpLHUuaW50ZXJ2YWw9bnVsbCx1LnNldHRpbmdzLmF1dG9Db250cm9scyYmbiE9PSEwJiZ5KCJzdGFydCIpKX0sZi5nZXRDdXJyZW50U2xpZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdS5hY3RpdmUuaW5kZXh9LGYuZ2V0Q3VycmVudFNsaWRlRWxlbWVudD1mdW5jdGlvbigpe3JldHVybiB1LmNoaWxkcmVuLmVxKHUuYWN0aXZlLmluZGV4KX0sZi5nZXRTbGlkZUVsZW1lbnQ9ZnVuY3Rpb24obil7cmV0dXJuIHUuY2hpbGRyZW4uZXEobil9LGYuZ2V0U2xpZGVDb3VudD1mdW5jdGlvbigpe3JldHVybiB1LmNoaWxkcmVuLmxlbmd0aH0sZi5pc1dvcmtpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdS53b3JraW5nfSxmLnJlZHJhd1NsaWRlcj1mdW5jdGlvbigpe3UuY2hpbGRyZW4uYWRkKGYuZmluZCgiLmJ4LWNsb25lIikpLm91dGVyV2lkdGgobnQoKSk7dS52aWV3cG9ydC5jc3MoImhlaWdodCIsYygpKTt1LnNldHRpbmdzLnRpY2tlcnx8dHQoKTt1LmFjdGl2ZS5sYXN0JiYodS5hY3RpdmUuaW5kZXg9bygpLTEpO3UuYWN0aXZlLmluZGV4Pj1vKCkmJih1LmFjdGl2ZS5sYXN0PSEwKTt1LnNldHRpbmdzLnBhZ2VyJiYhdS5zZXR0aW5ncy5wYWdlckN1c3RvbSYmKGl0KCksdih1LmFjdGl2ZS5pbmRleCkpO3Uuc2V0dGluZ3MuYXJpYUhpZGRlbiYmc3QodS5hY3RpdmUuaW5kZXgqcygpKX0sZi5kZXN0cm95U2xpZGVyPWZ1bmN0aW9uKCl7dS5pbml0aWFsaXplZCYmKHUuaW5pdGlhbGl6ZWQ9ITEsbigiLmJ4LWNsb25lIix0aGlzKS5yZW1vdmUoKSx1LmNoaWxkcmVuLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLmRhdGEoIm9yaWdTdHlsZSIpIT09dW5kZWZpbmVkP24odGhpcykuYXR0cigic3R5bGUiLG4odGhpcykuZGF0YSgib3JpZ1N0eWxlIikpOm4odGhpcykucmVtb3ZlQXR0cigic3R5bGUiKX0pLG4odGhpcykuZGF0YSgib3JpZ1N0eWxlIikhPT11bmRlZmluZWQ/dGhpcy5hdHRyKCJzdHlsZSIsbih0aGlzKS5kYXRhKCJvcmlnU3R5bGUiKSk6bih0aGlzKS5yZW1vdmVBdHRyKCJzdHlsZSIpLG4odGhpcykudW53cmFwKCkudW53cmFwKCksdS5jb250cm9scy5lbCYmdS5jb250cm9scy5lbC5yZW1vdmUoKSx1LmNvbnRyb2xzLm5leHQmJnUuY29udHJvbHMubmV4dC5yZW1vdmUoKSx1LmNvbnRyb2xzLnByZXYmJnUuY29udHJvbHMucHJldi5yZW1vdmUoKSx1LnBhZ2VyRWwmJnUuc2V0dGluZ3MuY29udHJvbHMmJiF1LnNldHRpbmdzLnBhZ2VyQ3VzdG9tJiZ1LnBhZ2VyRWwucmVtb3ZlKCksbigiLmJ4LWNhcHRpb24iLHRoaXMpLnJlbW92ZSgpLHUuY29udHJvbHMuYXV0b0VsJiZ1LmNvbnRyb2xzLmF1dG9FbC5yZW1vdmUoKSxjbGVhckludGVydmFsKHUuaW50ZXJ2YWwpLHUuc2V0dGluZ3MucmVzcG9uc2l2ZSYmbih3aW5kb3cpLnVuYmluZCgicmVzaXplIixiKSx1LnNldHRpbmdzLmtleWJvYXJkRW5hYmxlZCYmbihkb2N1bWVudCkudW5iaW5kKCJrZXlkb3duIixldCksbih0aGlzKS5yZW1vdmVEYXRhKCJieFNsaWRlciIpKX0sZi5yZWxvYWRTbGlkZXI9ZnVuY3Rpb24odCl7dCE9PXVuZGVmaW5lZCYmKHI9dCk7Zi5kZXN0cm95U2xpZGVyKCk7ZygpO24oZikuZGF0YSgiYnhTbGlkZXIiLHRoaXMpfSxnKCksbihmKS5kYXRhKCJieFNsaWRlciIsdGhpcyksdGhpc319fShqUXVlcnkp","CacheKey":"oaIeY282om_Z9FJFabHs0MzBu8s"}