{"Headers":{"Last-Modified":"Tue, 20 Nov 2018 21:52:03 GMT","X-Content-Type-Options":"nosniff"},"Body":"LyohCiAqIEJvb3RzdHJhcCB2NC4wLjAtYWxwaGEuNiAoaHR0cHM6Ly9nZXRib290c3RyYXAuY29tKQogKiBDb3B5cmlnaHQgMjAxMS0yMDE3IFRoZSBCb290c3RyYXAgQXV0aG9ycyAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2dyYXBocy9jb250cmlidXRvcnMpCiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpCiAqLwppZih0eXBlb2YgalF1ZXJ5PT0idW5kZWZpbmVkIil0aHJvdyBuZXcgRXJyb3IoIkJvb3RzdHJhcCdzIEphdmFTY3JpcHQgcmVxdWlyZXMgalF1ZXJ5LiBqUXVlcnkgbXVzdCBiZSBpbmNsdWRlZCBiZWZvcmUgQm9vdHN0cmFwJ3MgSmF2YVNjcmlwdC4iKTsrZnVuY3Rpb24obil7dmFyIHQ9bi5mbi5qcXVlcnkuc3BsaXQoIiAiKVswXS5zcGxpdCgiLiIpO2lmKHRbMF08MiYmdFsxXTw5fHx0WzBdPT0xJiZ0WzFdPT05JiZ0WzJdPDF8fHRbMF0+PTQpdGhyb3cgbmV3IEVycm9yKCJCb290c3RyYXAncyBKYXZhU2NyaXB0IHJlcXVpcmVzIGF0IGxlYXN0IGpRdWVyeSB2MS45LjEgYnV0IGxlc3MgdGhhbiB2NC4wLjAiKTt9KGpRdWVyeSk7K2Z1bmN0aW9uKCl7ZnVuY3Rpb24gZihuLHQpe2lmKCFuKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcigidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkIik7cmV0dXJuIHQmJih0eXBlb2YgdD09Im9iamVjdCJ8fHR5cGVvZiB0PT0iZnVuY3Rpb24iKT90Om59ZnVuY3Rpb24gZShuLHQpe2lmKHR5cGVvZiB0IT0iZnVuY3Rpb24iJiZ0IT09bnVsbCl0aHJvdyBuZXcgVHlwZUVycm9yKCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90ICIrdHlwZW9mIHQpO24ucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodCYmdC5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpuLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pO3QmJihPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKG4sdCk6bi5fX3Byb3RvX189dCl9ZnVuY3Rpb24gaShuLHQpe2lmKCEobiBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpO312YXIgcj10eXBlb2YgU3ltYm9sPT0iZnVuY3Rpb24iJiZ0eXBlb2YgU3ltYm9sLml0ZXJhdG9yPT0ic3ltYm9sIj9mdW5jdGlvbihuKXtyZXR1cm4gdHlwZW9mIG59OmZ1bmN0aW9uKG4pe3JldHVybiBuJiZ0eXBlb2YgU3ltYm9sPT0iZnVuY3Rpb24iJiZuLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZuIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2Ygbn0sdD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obix0KXtmb3IodmFyIGkscj0wO3I8dC5sZW5ndGg7cisrKWk9dFtyXSxpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLGkua2V5LGkpfXJldHVybiBmdW5jdGlvbih0LGkscil7cmV0dXJuIGkmJm4odC5wcm90b3R5cGUsaSksciYmbih0LHIpLHR9fSgpLG49ZnVuY3Rpb24obil7ZnVuY3Rpb24gZihuKXtyZXR1cm57fS50b1N0cmluZy5jYWxsKG4pLm1hdGNoKC9ccyhbYS16QS1aXSspLylbMV0udG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBlKG4pe3JldHVybihuWzBdfHxuKS5ub2RlVHlwZX1mdW5jdGlvbiBvKCl7cmV0dXJue2JpbmRUeXBlOnQuZW5kLGRlbGVnYXRlVHlwZTp0LmVuZCxoYW5kbGU6ZnVuY3Rpb24odCl7cmV0dXJuIG4odC50YXJnZXQpLmlzKHRoaXMpP3QuaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpOnVuZGVmaW5lZH19fWZ1bmN0aW9uIHMoKXt2YXIgdCxuO2lmKHdpbmRvdy5RVW5pdClyZXR1cm4hMTt0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJvb3RzdHJhcCIpO2ZvcihuIGluIHIpaWYodC5zdHlsZVtuXSE9PXVuZGVmaW5lZClyZXR1cm57ZW5kOnJbbl19O3JldHVybiExfWZ1bmN0aW9uIGgodCl7dmFyIHU9dGhpcyxyPSExO24odGhpcykub25lKGkuVFJBTlNJVElPTl9FTkQsZnVuY3Rpb24oKXtyPSEwfSk7cmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyfHxpLnRyaWdnZXJUcmFuc2l0aW9uRW5kKHUpfSx0KSx0aGlzfWZ1bmN0aW9uIGMoKXt0PXMoKTtuLmZuLmVtdWxhdGVUcmFuc2l0aW9uRW5kPWg7aS5zdXBwb3J0c1RyYW5zaXRpb25FbmQoKSYmKG4uZXZlbnQuc3BlY2lhbFtpLlRSQU5TSVRJT05fRU5EXT1vKCkpfXZhciB0PSExLHU9MWU2LHI9e1dlYmtpdFRyYW5zaXRpb246IndlYmtpdFRyYW5zaXRpb25FbmQiLE1velRyYW5zaXRpb246InRyYW5zaXRpb25lbmQiLE9UcmFuc2l0aW9uOiJvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCIsdHJhbnNpdGlvbjoidHJhbnNpdGlvbmVuZCJ9LGk9e1RSQU5TSVRJT05fRU5EOiJic1RyYW5zaXRpb25FbmQiLGdldFVJRDpmdW5jdGlvbihuKXtkbyBuKz1+fihNYXRoLnJhbmRvbSgpKnUpO3doaWxlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG4pKTtyZXR1cm4gbn0sZ2V0U2VsZWN0b3JGcm9tRWxlbWVudDpmdW5jdGlvbihuKXt2YXIgdD1uLmdldEF0dHJpYnV0ZSgiZGF0YS10YXJnZXQiKTtyZXR1cm4gdHx8KHQ9bi5nZXRBdHRyaWJ1dGUoImhyZWYiKXx8IiIsdD0vXiNbYS16XS9pLnRlc3QodCk/dDpudWxsKSx0fSxyZWZsb3c6ZnVuY3Rpb24obil7cmV0dXJuIG4ub2Zmc2V0SGVpZ2h0fSx0cmlnZ2VyVHJhbnNpdGlvbkVuZDpmdW5jdGlvbihpKXtuKGkpLnRyaWdnZXIodC5lbmQpfSxzdXBwb3J0c1RyYW5zaXRpb25FbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbih0KX0sdHlwZUNoZWNrQ29uZmlnOmZ1bmN0aW9uKG4sdCxpKXtmb3IodmFyIHIgaW4gaSlpZihpLmhhc093blByb3BlcnR5KHIpKXt2YXIgbz1pW3JdLHU9dFtyXSxzPXUmJmUodSk/ImVsZW1lbnQiOmYodSk7aWYoIW5ldyBSZWdFeHAobykudGVzdChzKSl0aHJvdyBuZXcgRXJyb3Iobi50b1VwcGVyQ2FzZSgpKyI6ICIrKCdPcHRpb24gIicrcisnIiBwcm92aWRlZCB0eXBlICInK3MrJyIgJykrKCdidXQgZXhwZWN0ZWQgdHlwZSAiJytvKyciLicpKTt9fX07cmV0dXJuIGMoKSxpfShqUXVlcnkpLG89ZnVuY3Rpb24ocil7dmFyIGY9ImFsZXJ0IixjPSI0LjAuMC1hbHBoYS42IixlPSJicy5hbGVydCIsbz0iLiIrZSxsPXIuZm5bZl0sYT0xNTAscz17Q0xPU0U6ImNsb3NlIitvLENMT1NFRDoiY2xvc2VkIitvLENMSUNLX0RBVEFfQVBJOiJjbGljayIrbysiLmRhdGEtYXBpIn0saD17QUxFUlQ6ImFsZXJ0IixGQURFOiJmYWRlIixTSE9XOiJzaG93In0sdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHUobil7aSh0aGlzLHUpO3RoaXMuX2VsZW1lbnQ9bn1yZXR1cm4gdS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24obil7bj1ufHx0aGlzLl9lbGVtZW50O3ZhciB0PXRoaXMuX2dldFJvb3RFbGVtZW50KG4pLGk9dGhpcy5fdHJpZ2dlckNsb3NlRXZlbnQodCk7aS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8dGhpcy5fcmVtb3ZlRWxlbWVudCh0KX0sdS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3IucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LGUpO3RoaXMuX2VsZW1lbnQ9bnVsbH0sdS5wcm90b3R5cGUuX2dldFJvb3RFbGVtZW50PWZ1bmN0aW9uKHQpe3ZhciB1PW4uZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0KSxpPSExO3JldHVybiB1JiYoaT1yKHUpWzBdKSxpfHwoaT1yKHQpLmNsb3Nlc3QoIi4iK2guQUxFUlQpWzBdKSxpfSx1LnByb3RvdHlwZS5fdHJpZ2dlckNsb3NlRXZlbnQ9ZnVuY3Rpb24obil7dmFyIHQ9ci5FdmVudChzLkNMT1NFKTtyZXR1cm4gcihuKS50cmlnZ2VyKHQpLHR9LHUucHJvdG90eXBlLl9yZW1vdmVFbGVtZW50PWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXM7aWYocih0KS5yZW1vdmVDbGFzcyhoLlNIT1cpLCFuLnN1cHBvcnRzVHJhbnNpdGlvbkVuZCgpfHwhcih0KS5oYXNDbGFzcyhoLkZBREUpKXt0aGlzLl9kZXN0cm95RWxlbWVudCh0KTtyZXR1cm59cih0KS5vbmUobi5UUkFOU0lUSU9OX0VORCxmdW5jdGlvbihuKXtyZXR1cm4gaS5fZGVzdHJveUVsZW1lbnQodCxuKX0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGEpfSx1LnByb3RvdHlwZS5fZGVzdHJveUVsZW1lbnQ9ZnVuY3Rpb24obil7cihuKS5kZXRhY2goKS50cmlnZ2VyKHMuQ0xPU0VEKS5yZW1vdmUoKX0sdS5falF1ZXJ5SW50ZXJmYWNlPWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1yKHRoaXMpLHQ9aS5kYXRhKGUpO3R8fCh0PW5ldyB1KHRoaXMpLGkuZGF0YShlLHQpKTtuPT09ImNsb3NlIiYmdFtuXSh0aGlzKX0pfSx1Ll9oYW5kbGVEaXNtaXNzPWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0KXt0JiZ0LnByZXZlbnREZWZhdWx0KCk7bi5jbG9zZSh0aGlzKX19LHQodSxudWxsLFt7a2V5OiJWRVJTSU9OIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gY319XSksdX0oKTtyKGRvY3VtZW50KS5vbihzLkNMSUNLX0RBVEFfQVBJLHtESVNNSVNTOidbZGF0YS1kaXNtaXNzPSJhbGVydCJdJ30uRElTTUlTUyx1Ll9oYW5kbGVEaXNtaXNzKG5ldyB1KSk7cmV0dXJuIHIuZm5bZl09dS5falF1ZXJ5SW50ZXJmYWNlLHIuZm5bZl0uQ29uc3RydWN0b3I9dSxyLmZuW2ZdLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gci5mbltmXT1sLHUuX2pRdWVyeUludGVyZmFjZX0sdX0oalF1ZXJ5KSxzPWZ1bmN0aW9uKG4pe3ZhciBmPSJidXR0b24iLGw9IjQuMC4wLWFscGhhLjYiLG89ImJzLmJ1dHRvbiIscz0iLiIrbyxoPSIuZGF0YS1hcGkiLGE9bi5mbltmXSxyPXtBQ1RJVkU6ImFjdGl2ZSIsQlVUVE9OOiJidG4iLEZPQ1VTOiJmb2N1cyJ9LHU9e0RBVEFfVE9HR0xFX0NBUlJPVDonW2RhdGEtdG9nZ2xlXj0iYnV0dG9uIl0nLERBVEFfVE9HR0xFOidbZGF0YS10b2dnbGU9ImJ1dHRvbnMiXScsSU5QVVQ6ImlucHV0IixBQ1RJVkU6Ii5hY3RpdmUiLEJVVFRPTjoiLmJ0biJ9LGM9e0NMSUNLX0RBVEFfQVBJOiJjbGljayIrcytoLEZPQ1VTX0JMVVJfREFUQV9BUEk6ImZvY3VzIitzK2grIiAiKygiYmx1ciIrcytoKX0sZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGYobil7aSh0aGlzLGYpO3RoaXMuX2VsZW1lbnQ9bn1yZXR1cm4gZi5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKCl7dmFyIGk9ITAsZT1uKHRoaXMuX2VsZW1lbnQpLmNsb3Nlc3QodS5EQVRBX1RPR0dMRSlbMF0sdCxmO2UmJih0PW4odGhpcy5fZWxlbWVudCkuZmluZCh1LklOUFVUKVswXSx0JiYodC50eXBlPT09InJhZGlvIiYmKHQuY2hlY2tlZCYmbih0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhyLkFDVElWRSk/aT0hMTooZj1uKGUpLmZpbmQodS5BQ1RJVkUpWzBdLGYmJm4oZikucmVtb3ZlQ2xhc3Moci5BQ1RJVkUpKSksaSYmKHQuY2hlY2tlZD0hbih0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhyLkFDVElWRSksbih0KS50cmlnZ2VyKCJjaGFuZ2UiKSksdC5mb2N1cygpKSk7dGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoImFyaWEtcHJlc3NlZCIsIW4odGhpcy5fZWxlbWVudCkuaGFzQ2xhc3Moci5BQ1RJVkUpKTtpJiZuKHRoaXMuX2VsZW1lbnQpLnRvZ2dsZUNsYXNzKHIuQUNUSVZFKX0sZi5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe24ucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LG8pO3RoaXMuX2VsZW1lbnQ9bnVsbH0sZi5falF1ZXJ5SW50ZXJmYWNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1uKHRoaXMpLmRhdGEobyk7aXx8KGk9bmV3IGYodGhpcyksbih0aGlzKS5kYXRhKG8saSkpO3Q9PT0idG9nZ2xlIiYmaVt0XSgpfSl9LHQoZixudWxsLFt7a2V5OiJWRVJTSU9OIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbH19XSksZn0oKTtuKGRvY3VtZW50KS5vbihjLkNMSUNLX0RBVEFfQVBJLHUuREFUQV9UT0dHTEVfQ0FSUk9ULGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt2YXIgaT10LnRhcmdldDtuKGkpLmhhc0NsYXNzKHIuQlVUVE9OKXx8KGk9bihpKS5jbG9zZXN0KHUuQlVUVE9OKSk7ZS5falF1ZXJ5SW50ZXJmYWNlLmNhbGwobihpKSwidG9nZ2xlIil9KS5vbihjLkZPQ1VTX0JMVVJfREFUQV9BUEksdS5EQVRBX1RPR0dMRV9DQVJST1QsZnVuY3Rpb24odCl7dmFyIGk9bih0LnRhcmdldCkuY2xvc2VzdCh1LkJVVFRPTilbMF07bihpKS50b2dnbGVDbGFzcyhyLkZPQ1VTLC9eZm9jdXMoaW4pPyQvLnRlc3QodC50eXBlKSl9KTtyZXR1cm4gbi5mbltmXT1lLl9qUXVlcnlJbnRlcmZhY2Usbi5mbltmXS5Db25zdHJ1Y3Rvcj1lLG4uZm5bZl0ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBuLmZuW2ZdPWEsZS5falF1ZXJ5SW50ZXJmYWNlfSxlfShqUXVlcnkpLGg9ZnVuY3Rpb24odSl7dmFyIGM9ImNhcm91c2VsIixwPSI0LjAuMC1hbHBoYS42IixhPSJicy5jYXJvdXNlbCIsbz0iLiIrYSx5PSIuZGF0YS1hcGkiLHc9dS5mbltjXSxiPTYwMCxrPTM3LGQ9Mzksdj17aW50ZXJ2YWw6NWUzLGtleWJvYXJkOiEwLHNsaWRlOiExLHBhdXNlOiJob3ZlciIsd3JhcDohMH0sZz17aW50ZXJ2YWw6IihudW1iZXJ8Ym9vbGVhbikiLGtleWJvYXJkOiJib29sZWFuIixzbGlkZToiKGJvb2xlYW58c3RyaW5nKSIscGF1c2U6IihzdHJpbmd8Ym9vbGVhbikiLHdyYXA6ImJvb2xlYW4ifSxlPXtORVhUOiJuZXh0IixQUkVWOiJwcmV2IixMRUZUOiJsZWZ0IixSSUdIVDoicmlnaHQifSxzPXtTTElERToic2xpZGUiK28sU0xJRDoic2xpZCIrbyxLRVlET1dOOiJrZXlkb3duIitvLE1PVVNFRU5URVI6Im1vdXNlZW50ZXIiK28sTU9VU0VMRUFWRToibW91c2VsZWF2ZSIrbyxMT0FEX0RBVEFfQVBJOiJsb2FkIitvK3ksQ0xJQ0tfREFUQV9BUEk6ImNsaWNrIitvK3l9LGY9e0NBUk9VU0VMOiJjYXJvdXNlbCIsQUNUSVZFOiJhY3RpdmUiLFNMSURFOiJzbGlkZSIsUklHSFQ6ImNhcm91c2VsLWl0ZW0tcmlnaHQiLExFRlQ6ImNhcm91c2VsLWl0ZW0tbGVmdCIsTkVYVDoiY2Fyb3VzZWwtaXRlbS1uZXh0IixQUkVWOiJjYXJvdXNlbC1pdGVtLXByZXYiLElURU06ImNhcm91c2VsLWl0ZW0ifSxoPXtBQ1RJVkU6Ii5hY3RpdmUiLEFDVElWRV9JVEVNOiIuYWN0aXZlLmNhcm91c2VsLWl0ZW0iLElURU06Ii5jYXJvdXNlbC1pdGVtIixORVhUX1BSRVY6Ii5jYXJvdXNlbC1pdGVtLW5leHQsIC5jYXJvdXNlbC1pdGVtLXByZXYiLElORElDQVRPUlM6Ii5jYXJvdXNlbC1pbmRpY2F0b3JzIixEQVRBX1NMSURFOiJbZGF0YS1zbGlkZV0sIFtkYXRhLXNsaWRlLXRvXSIsREFUQV9SSURFOidbZGF0YS1yaWRlPSJjYXJvdXNlbCJdJ30sbD1mdW5jdGlvbigpe2Z1bmN0aW9uIGwobix0KXtpKHRoaXMsbCk7dGhpcy5faXRlbXM9bnVsbDt0aGlzLl9pbnRlcnZhbD1udWxsO3RoaXMuX2FjdGl2ZUVsZW1lbnQ9bnVsbDt0aGlzLl9pc1BhdXNlZD0hMTt0aGlzLl9pc1NsaWRpbmc9ITE7dGhpcy5fY29uZmlnPXRoaXMuX2dldENvbmZpZyh0KTt0aGlzLl9lbGVtZW50PXUobilbMF07dGhpcy5faW5kaWNhdG9yc0VsZW1lbnQ9dSh0aGlzLl9lbGVtZW50KS5maW5kKGguSU5ESUNBVE9SUylbMF07dGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKX1yZXR1cm4gbC5wcm90b3R5cGUubmV4dD1mdW5jdGlvbigpe2lmKHRoaXMuX2lzU2xpZGluZyl0aHJvdyBuZXcgRXJyb3IoIkNhcm91c2VsIGlzIHNsaWRpbmciKTt0aGlzLl9zbGlkZShlLk5FWFQpfSxsLnByb3RvdHlwZS5uZXh0V2hlblZpc2libGU9ZnVuY3Rpb24oKXtkb2N1bWVudC5oaWRkZW58fHRoaXMubmV4dCgpfSxsLnByb3RvdHlwZS5wcmV2PWZ1bmN0aW9uKCl7aWYodGhpcy5faXNTbGlkaW5nKXRocm93IG5ldyBFcnJvcigiQ2Fyb3VzZWwgaXMgc2xpZGluZyIpO3RoaXMuX3NsaWRlKGUuUFJFVklPVVMpfSxsLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbih0KXt0fHwodGhpcy5faXNQYXVzZWQ9ITApO3UodGhpcy5fZWxlbWVudCkuZmluZChoLk5FWFRfUFJFVilbMF0mJm4uc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkmJihuLnRyaWdnZXJUcmFuc2l0aW9uRW5kKHRoaXMuX2VsZW1lbnQpLHRoaXMuY3ljbGUoITApKTtjbGVhckludGVydmFsKHRoaXMuX2ludGVydmFsKTt0aGlzLl9pbnRlcnZhbD1udWxsfSxsLnByb3RvdHlwZS5jeWNsZT1mdW5jdGlvbihuKXtufHwodGhpcy5faXNQYXVzZWQ9ITEpO3RoaXMuX2ludGVydmFsJiYoY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbCksdGhpcy5faW50ZXJ2YWw9bnVsbCk7dGhpcy5fY29uZmlnLmludGVydmFsJiYhdGhpcy5faXNQYXVzZWQmJih0aGlzLl9pbnRlcnZhbD1zZXRJbnRlcnZhbCgoZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlP3RoaXMubmV4dFdoZW5WaXNpYmxlOnRoaXMubmV4dCkuYmluZCh0aGlzKSx0aGlzLl9jb25maWcuaW50ZXJ2YWwpKX0sbC5wcm90b3R5cGUudG89ZnVuY3Rpb24obil7dmFyIHI9dGhpcyx0LGk7aWYodGhpcy5fYWN0aXZlRWxlbWVudD11KHRoaXMuX2VsZW1lbnQpLmZpbmQoaC5BQ1RJVkVfSVRFTSlbMF0sdD10aGlzLl9nZXRJdGVtSW5kZXgodGhpcy5fYWN0aXZlRWxlbWVudCksIShuPnRoaXMuX2l0ZW1zLmxlbmd0aC0xKSYmIShuPDApKXtpZih0aGlzLl9pc1NsaWRpbmcpe3UodGhpcy5fZWxlbWVudCkub25lKHMuU0xJRCxmdW5jdGlvbigpe3JldHVybiByLnRvKG4pfSk7cmV0dXJufWlmKHQ9PT1uKXt0aGlzLnBhdXNlKCk7dGhpcy5jeWNsZSgpO3JldHVybn1pPW4+dD9lLk5FWFQ6ZS5QUkVWSU9VUzt0aGlzLl9zbGlkZShpLHRoaXMuX2l0ZW1zW25dKX19LGwucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt1KHRoaXMuX2VsZW1lbnQpLm9mZihvKTt1LnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCxhKTt0aGlzLl9pdGVtcz1udWxsO3RoaXMuX2NvbmZpZz1udWxsO3RoaXMuX2VsZW1lbnQ9bnVsbDt0aGlzLl9pbnRlcnZhbD1udWxsO3RoaXMuX2lzUGF1c2VkPW51bGw7dGhpcy5faXNTbGlkaW5nPW51bGw7dGhpcy5fYWN0aXZlRWxlbWVudD1udWxsO3RoaXMuX2luZGljYXRvcnNFbGVtZW50PW51bGx9LGwucHJvdG90eXBlLl9nZXRDb25maWc9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dS5leHRlbmQoe30sdix0KSxuLnR5cGVDaGVja0NvbmZpZyhjLHQsZyksdH0sbC5wcm90b3R5cGUuX2FkZEV2ZW50TGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIG49dGhpcztpZih0aGlzLl9jb25maWcua2V5Ym9hcmQpdSh0aGlzLl9lbGVtZW50KS5vbihzLktFWURPV04sZnVuY3Rpb24odCl7cmV0dXJuIG4uX2tleWRvd24odCl9KTtpZih0aGlzLl9jb25maWcucGF1c2U9PT0iaG92ZXIiJiYhKCJvbnRvdWNoc3RhcnQiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSl1KHRoaXMuX2VsZW1lbnQpLm9uKHMuTU9VU0VFTlRFUixmdW5jdGlvbih0KXtyZXR1cm4gbi5wYXVzZSh0KX0pLm9uKHMuTU9VU0VMRUFWRSxmdW5jdGlvbih0KXtyZXR1cm4gbi5jeWNsZSh0KX0pfSxsLnByb3RvdHlwZS5fa2V5ZG93bj1mdW5jdGlvbihuKXtpZighL2lucHV0fHRleHRhcmVhL2kudGVzdChuLnRhcmdldC50YWdOYW1lKSlzd2l0Y2gobi53aGljaCl7Y2FzZSBrOm4ucHJldmVudERlZmF1bHQoKTt0aGlzLnByZXYoKTticmVhaztjYXNlIGQ6bi5wcmV2ZW50RGVmYXVsdCgpO3RoaXMubmV4dCgpO2JyZWFrO2RlZmF1bHQ6cmV0dXJufX0sbC5wcm90b3R5cGUuX2dldEl0ZW1JbmRleD1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5faXRlbXM9dS5tYWtlQXJyYXkodShuKS5wYXJlbnQoKS5maW5kKGguSVRFTSkpLHRoaXMuX2l0ZW1zLmluZGV4T2Yobil9LGwucHJvdG90eXBlLl9nZXRJdGVtQnlEaXJlY3Rpb249ZnVuY3Rpb24obix0KXt2YXIgZj1uPT09ZS5ORVhULG89bj09PWUuUFJFVklPVVMsaT10aGlzLl9nZXRJdGVtSW5kZXgodCkscz10aGlzLl9pdGVtcy5sZW5ndGgtMSxoPW8mJmk9PT0wfHxmJiZpPT09cyx1LHI7cmV0dXJuIGgmJiF0aGlzLl9jb25maWcud3JhcD90Oih1PW49PT1lLlBSRVZJT1VTPy0xOjEscj0oaSt1KSV0aGlzLl9pdGVtcy5sZW5ndGgscj09PS0xP3RoaXMuX2l0ZW1zW3RoaXMuX2l0ZW1zLmxlbmd0aC0xXTp0aGlzLl9pdGVtc1tyXSl9LGwucHJvdG90eXBlLl90cmlnZ2VyU2xpZGVFdmVudD1mdW5jdGlvbihuLHQpe3ZhciBpPXUuRXZlbnQocy5TTElERSx7cmVsYXRlZFRhcmdldDpuLGRpcmVjdGlvbjp0fSk7cmV0dXJuIHUodGhpcy5fZWxlbWVudCkudHJpZ2dlcihpKSxpfSxsLnByb3RvdHlwZS5fc2V0QWN0aXZlSW5kaWNhdG9yRWxlbWVudD1mdW5jdGlvbihuKXtpZih0aGlzLl9pbmRpY2F0b3JzRWxlbWVudCl7dSh0aGlzLl9pbmRpY2F0b3JzRWxlbWVudCkuZmluZChoLkFDVElWRSkucmVtb3ZlQ2xhc3MoZi5BQ1RJVkUpO3ZhciB0PXRoaXMuX2luZGljYXRvcnNFbGVtZW50LmNoaWxkcmVuW3RoaXMuX2dldEl0ZW1JbmRleChuKV07dCYmdSh0KS5hZGRDbGFzcyhmLkFDVElWRSl9fSxsLnByb3RvdHlwZS5fc2xpZGU9ZnVuY3Rpb24odCxpKXt2YXIgeT10aGlzLG89dSh0aGlzLl9lbGVtZW50KS5maW5kKGguQUNUSVZFX0lURU0pWzBdLHI9aXx8byYmdGhpcy5fZ2V0SXRlbUJ5RGlyZWN0aW9uKHQsbykscD1Cb29sZWFuKHRoaXMuX2ludGVydmFsKSxjPXZvaWQgMCxsPXZvaWQgMCxhPXZvaWQgMCx3LHY7aWYodD09PWUuTkVYVD8oYz1mLkxFRlQsbD1mLk5FWFQsYT1lLkxFRlQpOihjPWYuUklHSFQsbD1mLlBSRVYsYT1lLlJJR0hUKSxyJiZ1KHIpLmhhc0NsYXNzKGYuQUNUSVZFKSl7dGhpcy5faXNTbGlkaW5nPSExO3JldHVybn0odz10aGlzLl90cmlnZ2VyU2xpZGVFdmVudChyLGEpLHcuaXNEZWZhdWx0UHJldmVudGVkKCkpfHxvJiZyJiYodGhpcy5faXNTbGlkaW5nPSEwLHAmJnRoaXMucGF1c2UoKSx0aGlzLl9zZXRBY3RpdmVJbmRpY2F0b3JFbGVtZW50KHIpLHY9dS5FdmVudChzLlNMSUQse3JlbGF0ZWRUYXJnZXQ6cixkaXJlY3Rpb246YX0pLG4uc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkmJnUodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoZi5TTElERSk/KHUocikuYWRkQ2xhc3MobCksbi5yZWZsb3cociksdShvKS5hZGRDbGFzcyhjKSx1KHIpLmFkZENsYXNzKGMpLHUobykub25lKG4uVFJBTlNJVElPTl9FTkQsZnVuY3Rpb24oKXt1KHIpLnJlbW92ZUNsYXNzKGMrIiAiK2wpLmFkZENsYXNzKGYuQUNUSVZFKTt1KG8pLnJlbW92ZUNsYXNzKGYuQUNUSVZFKyIgIitsKyIgIitjKTt5Ll9pc1NsaWRpbmc9ITE7c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiB1KHkuX2VsZW1lbnQpLnRyaWdnZXIodil9LDApfSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoYikpOih1KG8pLnJlbW92ZUNsYXNzKGYuQUNUSVZFKSx1KHIpLmFkZENsYXNzKGYuQUNUSVZFKSx0aGlzLl9pc1NsaWRpbmc9ITEsdSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKHYpKSxwJiZ0aGlzLmN5Y2xlKCkpfSxsLl9qUXVlcnlJbnRlcmZhY2U9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PXUodGhpcykuZGF0YShhKSxmPXUuZXh0ZW5kKHt9LHYsdSh0aGlzKS5kYXRhKCkpLGk7aWYoKHR5cGVvZiBuPT0idW5kZWZpbmVkIj8idW5kZWZpbmVkIjpyKG4pKT09PSJvYmplY3QiJiZ1LmV4dGVuZChmLG4pLGk9dHlwZW9mIG49PSJzdHJpbmciP246Zi5zbGlkZSx0fHwodD1uZXcgbCh0aGlzLGYpLHUodGhpcykuZGF0YShhLHQpKSx0eXBlb2Ygbj09Im51bWJlciIpdC50byhuKTtlbHNlIGlmKHR5cGVvZiBpPT0ic3RyaW5nIil7aWYodFtpXT09PXVuZGVmaW5lZCl0aHJvdyBuZXcgRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCAiJytpKyciJyk7dFtpXSgpfWVsc2UgZi5pbnRlcnZhbCYmKHQucGF1c2UoKSx0LmN5Y2xlKCkpfSl9LGwuX2RhdGFBcGlDbGlja0hhbmRsZXI9ZnVuY3Rpb24odCl7dmFyIG89bi5nZXRTZWxlY3RvckZyb21FbGVtZW50KHRoaXMpLGksZSxyO28mJihpPXUobylbMF0saSYmdShpKS5oYXNDbGFzcyhmLkNBUk9VU0VMKSkmJihlPXUuZXh0ZW5kKHt9LHUoaSkuZGF0YSgpLHUodGhpcykuZGF0YSgpKSxyPXRoaXMuZ2V0QXR0cmlidXRlKCJkYXRhLXNsaWRlLXRvIiksciYmKGUuaW50ZXJ2YWw9ITEpLGwuX2pRdWVyeUludGVyZmFjZS5jYWxsKHUoaSksZSksciYmdShpKS5kYXRhKGEpLnRvKHIpLHQucHJldmVudERlZmF1bHQoKSl9LHQobCxudWxsLFt7a2V5OiJWRVJTSU9OIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcH19LHtrZXk6IkRlZmF1bHQiLGdldDpmdW5jdGlvbigpe3JldHVybiB2fX1dKSxsfSgpO3UoZG9jdW1lbnQpLm9uKHMuQ0xJQ0tfREFUQV9BUEksaC5EQVRBX1NMSURFLGwuX2RhdGFBcGlDbGlja0hhbmRsZXIpO3Uod2luZG93KS5vbihzLkxPQURfREFUQV9BUEksZnVuY3Rpb24oKXt1KGguREFUQV9SSURFKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49dSh0aGlzKTtsLl9qUXVlcnlJbnRlcmZhY2UuY2FsbChuLG4uZGF0YSgpKX0pfSk7cmV0dXJuIHUuZm5bY109bC5falF1ZXJ5SW50ZXJmYWNlLHUuZm5bY10uQ29uc3RydWN0b3I9bCx1LmZuW2NdLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdS5mbltjXT13LGwuX2pRdWVyeUludGVyZmFjZX0sbH0oalF1ZXJ5KSxjPWZ1bmN0aW9uKHUpe3ZhciBvPSJjb2xsYXBzZSIscD0iNC4wLjAtYWxwaGEuNiIsZT0iYnMuY29sbGFwc2UiLGg9Ii4iK2Usdz11LmZuW29dLHY9NjAwLGE9e3RvZ2dsZTohMCxwYXJlbnQ6IiJ9LGI9e3RvZ2dsZToiYm9vbGVhbiIscGFyZW50OiJzdHJpbmcifSxjPXtTSE9XOiJzaG93IitoLFNIT1dOOiJzaG93biIraCxISURFOiJoaWRlIitoLEhJRERFTjoiaGlkZGVuIitoLENMSUNLX0RBVEFfQVBJOiJjbGljayIraCsiLmRhdGEtYXBpIn0sZj17U0hPVzoic2hvdyIsQ09MTEFQU0U6ImNvbGxhcHNlIixDT0xMQVBTSU5HOiJjb2xsYXBzaW5nIixDT0xMQVBTRUQ6ImNvbGxhcHNlZCJ9LGw9e1dJRFRIOiJ3aWR0aCIsSEVJR0hUOiJoZWlnaHQifSx5PXtBQ1RJVkVTOiIuY2FyZCA+IC5zaG93LCAuY2FyZCA+IC5jb2xsYXBzaW5nIixEQVRBX1RPR0dMRTonW2RhdGEtdG9nZ2xlPSJjb2xsYXBzZSJdJ30scz1mdW5jdGlvbigpe2Z1bmN0aW9uIHMobix0KXtpKHRoaXMscyk7dGhpcy5faXNUcmFuc2l0aW9uaW5nPSExO3RoaXMuX2VsZW1lbnQ9bjt0aGlzLl9jb25maWc9dGhpcy5fZ2V0Q29uZmlnKHQpO3RoaXMuX3RyaWdnZXJBcnJheT11Lm1ha2VBcnJheSh1KCdbZGF0YS10b2dnbGU9ImNvbGxhcHNlIl1baHJlZj0iIycrbi5pZCsnIl0sJysoJ1tkYXRhLXRvZ2dsZT0iY29sbGFwc2UiXVtkYXRhLXRhcmdldD0iIycrbi5pZCsnIl0nKSkpO3RoaXMuX3BhcmVudD10aGlzLl9jb25maWcucGFyZW50P3RoaXMuX2dldFBhcmVudCgpOm51bGw7dGhpcy5fY29uZmlnLnBhcmVudHx8dGhpcy5fYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKHRoaXMuX2VsZW1lbnQsdGhpcy5fdHJpZ2dlckFycmF5KTt0aGlzLl9jb25maWcudG9nZ2xlJiZ0aGlzLnRvZ2dsZSgpfXJldHVybiBzLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24oKXt1KHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKGYuU0hPVyk/dGhpcy5oaWRlKCk6dGhpcy5zaG93KCl9LHMucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt2YXIgbz10aGlzLHQscixoLGksbCxhLHA7aWYodGhpcy5faXNUcmFuc2l0aW9uaW5nKXRocm93IG5ldyBFcnJvcigiQ29sbGFwc2UgaXMgdHJhbnNpdGlvbmluZyIpO2lmKCF1KHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKGYuU0hPVykmJih0PXZvaWQgMCxyPXZvaWQgMCx0aGlzLl9wYXJlbnQmJih0PXUubWFrZUFycmF5KHUodGhpcy5fcGFyZW50KS5maW5kKHkuQUNUSVZFUykpLHQubGVuZ3RofHwodD1udWxsKSksIXR8fChyPXUodCkuZGF0YShlKSwhcnx8IXIuX2lzVHJhbnNpdGlvbmluZykpJiYoaD11LkV2ZW50KGMuU0hPVyksdSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKGgpLCFoLmlzRGVmYXVsdFByZXZlbnRlZCgpKSl7aWYodCYmKHMuX2pRdWVyeUludGVyZmFjZS5jYWxsKHUodCksImhpZGUiKSxyfHx1KHQpLmRhdGEoZSxudWxsKSksaT10aGlzLl9nZXREaW1lbnNpb24oKSx1KHRoaXMuX2VsZW1lbnQpLnJlbW92ZUNsYXNzKGYuQ09MTEFQU0UpLmFkZENsYXNzKGYuQ09MTEFQU0lORyksdGhpcy5fZWxlbWVudC5zdHlsZVtpXT0wLHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCJhcmlhLWV4cGFuZGVkIiwhMCksdGhpcy5fdHJpZ2dlckFycmF5Lmxlbmd0aCYmdSh0aGlzLl90cmlnZ2VyQXJyYXkpLnJlbW92ZUNsYXNzKGYuQ09MTEFQU0VEKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMCksdGhpcy5zZXRUcmFuc2l0aW9uaW5nKCEwKSxsPWZ1bmN0aW9uKCl7dShvLl9lbGVtZW50KS5yZW1vdmVDbGFzcyhmLkNPTExBUFNJTkcpLmFkZENsYXNzKGYuQ09MTEFQU0UpLmFkZENsYXNzKGYuU0hPVyk7by5fZWxlbWVudC5zdHlsZVtpXT0iIjtvLnNldFRyYW5zaXRpb25pbmcoITEpO3Uoby5fZWxlbWVudCkudHJpZ2dlcihjLlNIT1dOKX0sIW4uc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkpe2woKTtyZXR1cm59YT1pWzBdLnRvVXBwZXJDYXNlKCkraS5zbGljZSgxKTtwPSJzY3JvbGwiK2E7dSh0aGlzLl9lbGVtZW50KS5vbmUobi5UUkFOU0lUSU9OX0VORCxsKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh2KTt0aGlzLl9lbGVtZW50LnN0eWxlW2ldPXRoaXMuX2VsZW1lbnRbcF0rInB4In19LHMucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGksdCxvLHI7aWYodGhpcy5faXNUcmFuc2l0aW9uaW5nKXRocm93IG5ldyBFcnJvcigiQ29sbGFwc2UgaXMgdHJhbnNpdGlvbmluZyIpO2lmKHUodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoZi5TSE9XKSYmKGk9dS5FdmVudChjLkhJREUpLHUodGhpcy5fZWxlbWVudCkudHJpZ2dlcihpKSwhaS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkpe2lmKHQ9dGhpcy5fZ2V0RGltZW5zaW9uKCksbz10PT09bC5XSURUSD8ib2Zmc2V0V2lkdGgiOiJvZmZzZXRIZWlnaHQiLHRoaXMuX2VsZW1lbnQuc3R5bGVbdF09dGhpcy5fZWxlbWVudFtvXSsicHgiLG4ucmVmbG93KHRoaXMuX2VsZW1lbnQpLHUodGhpcy5fZWxlbWVudCkuYWRkQ2xhc3MoZi5DT0xMQVBTSU5HKS5yZW1vdmVDbGFzcyhmLkNPTExBUFNFKS5yZW1vdmVDbGFzcyhmLlNIT1cpLHRoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCJhcmlhLWV4cGFuZGVkIiwhMSksdGhpcy5fdHJpZ2dlckFycmF5Lmxlbmd0aCYmdSh0aGlzLl90cmlnZ2VyQXJyYXkpLmFkZENsYXNzKGYuQ09MTEFQU0VEKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMSksdGhpcy5zZXRUcmFuc2l0aW9uaW5nKCEwKSxyPWZ1bmN0aW9uKCl7ZS5zZXRUcmFuc2l0aW9uaW5nKCExKTt1KGUuX2VsZW1lbnQpLnJlbW92ZUNsYXNzKGYuQ09MTEFQU0lORykuYWRkQ2xhc3MoZi5DT0xMQVBTRSkudHJpZ2dlcihjLkhJRERFTil9LHRoaXMuX2VsZW1lbnQuc3R5bGVbdF09IiIsIW4uc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkpe3IoKTtyZXR1cm59dSh0aGlzLl9lbGVtZW50KS5vbmUobi5UUkFOU0lUSU9OX0VORCxyKS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh2KX19LHMucHJvdG90eXBlLnNldFRyYW5zaXRpb25pbmc9ZnVuY3Rpb24obil7dGhpcy5faXNUcmFuc2l0aW9uaW5nPW59LHMucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt1LnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCxlKTt0aGlzLl9jb25maWc9bnVsbDt0aGlzLl9wYXJlbnQ9bnVsbDt0aGlzLl9lbGVtZW50PW51bGw7dGhpcy5fdHJpZ2dlckFycmF5PW51bGw7dGhpcy5faXNUcmFuc2l0aW9uaW5nPW51bGx9LHMucHJvdG90eXBlLl9nZXRDb25maWc9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dS5leHRlbmQoe30sYSx0KSx0LnRvZ2dsZT1Cb29sZWFuKHQudG9nZ2xlKSxuLnR5cGVDaGVja0NvbmZpZyhvLHQsYiksdH0scy5wcm90b3R5cGUuX2dldERpbWVuc2lvbj1mdW5jdGlvbigpe3ZhciBuPXUodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MobC5XSURUSCk7cmV0dXJuIG4/bC5XSURUSDpsLkhFSUdIVH0scy5wcm90b3R5cGUuX2dldFBhcmVudD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsbj11KHRoaXMuX2NvbmZpZy5wYXJlbnQpWzBdLGk9J1tkYXRhLXRvZ2dsZT0iY29sbGFwc2UiXVtkYXRhLXBhcmVudD0iJyt0aGlzLl9jb25maWcucGFyZW50KyciXSc7cmV0dXJuIHUobikuZmluZChpKS5lYWNoKGZ1bmN0aW9uKG4saSl7dC5fYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKHMuX2dldFRhcmdldEZyb21FbGVtZW50KGkpLFtpXSl9KSxufSxzLnByb3RvdHlwZS5fYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzPWZ1bmN0aW9uKG4sdCl7aWYobil7dmFyIGk9dShuKS5oYXNDbGFzcyhmLlNIT1cpO24uc2V0QXR0cmlidXRlKCJhcmlhLWV4cGFuZGVkIixpKTt0Lmxlbmd0aCYmdSh0KS50b2dnbGVDbGFzcyhmLkNPTExBUFNFRCwhaSkuYXR0cigiYXJpYS1leHBhbmRlZCIsaSl9fSxzLl9nZXRUYXJnZXRGcm9tRWxlbWVudD1mdW5jdGlvbih0KXt2YXIgaT1uLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQodCk7cmV0dXJuIGk/dShpKVswXTpudWxsfSxzLl9qUXVlcnlJbnRlcmZhY2U9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpPXUodGhpcyksdD1pLmRhdGEoZSksZj11LmV4dGVuZCh7fSxhLGkuZGF0YSgpLCh0eXBlb2Ygbj09InVuZGVmaW5lZCI/InVuZGVmaW5lZCI6cihuKSk9PT0ib2JqZWN0IiYmbik7aWYoIXQmJmYudG9nZ2xlJiYvc2hvd3xoaWRlLy50ZXN0KG4pJiYoZi50b2dnbGU9ITEpLHR8fCh0PW5ldyBzKHRoaXMsZiksaS5kYXRhKGUsdCkpLHR5cGVvZiBuPT0ic3RyaW5nIil7aWYodFtuXT09PXVuZGVmaW5lZCl0aHJvdyBuZXcgRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCAiJytuKyciJyk7dFtuXSgpfX0pfSx0KHMsbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHB9fSx7a2V5OiJEZWZhdWx0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYX19XSksc30oKTt1KGRvY3VtZW50KS5vbihjLkNMSUNLX0RBVEFfQVBJLHkuREFUQV9UT0dHTEUsZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpO3ZhciB0PXMuX2dldFRhcmdldEZyb21FbGVtZW50KHRoaXMpLGk9dSh0KS5kYXRhKGUpLHI9aT8idG9nZ2xlIjp1KHRoaXMpLmRhdGEoKTtzLl9qUXVlcnlJbnRlcmZhY2UuY2FsbCh1KHQpLHIpfSk7cmV0dXJuIHUuZm5bb109cy5falF1ZXJ5SW50ZXJmYWNlLHUuZm5bb10uQ29uc3RydWN0b3I9cyx1LmZuW29dLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdS5mbltvXT13LHMuX2pRdWVyeUludGVyZmFjZX0sc30oalF1ZXJ5KSxsPWZ1bmN0aW9uKHIpe3ZhciBoPSJkcm9wZG93biIsdj0iNC4wLjAtYWxwaGEuNiIsYz0iYnMuZHJvcGRvd24iLGU9Ii4iK2MsbD0iLmRhdGEtYXBpIix5PXIuZm5baF0sYT0yNyxwPTM4LHc9NDAsYj0zLHU9e0hJREU6ImhpZGUiK2UsSElEREVOOiJoaWRkZW4iK2UsU0hPVzoic2hvdyIrZSxTSE9XTjoic2hvd24iK2UsQ0xJQ0s6ImNsaWNrIitlLENMSUNLX0RBVEFfQVBJOiJjbGljayIrZStsLEZPQ1VTSU5fREFUQV9BUEk6ImZvY3VzaW4iK2UrbCxLRVlET1dOX0RBVEFfQVBJOiJrZXlkb3duIitlK2x9LHM9e0JBQ0tEUk9QOiJkcm9wZG93bi1iYWNrZHJvcCIsRElTQUJMRUQ6ImRpc2FibGVkIixTSE9XOiJzaG93In0sZj17QkFDS0RST1A6Ii5kcm9wZG93bi1iYWNrZHJvcCIsREFUQV9UT0dHTEU6J1tkYXRhLXRvZ2dsZT0iZHJvcGRvd24iXScsRk9STV9DSElMRDoiLmRyb3Bkb3duIGZvcm0iLFJPTEVfTUVOVTonW3JvbGU9Im1lbnUiXScsUk9MRV9MSVNUQk9YOidbcm9sZT0ibGlzdGJveCJdJyxOQVZCQVJfTkFWOiIubmF2YmFyLW5hdiIsVklTSUJMRV9JVEVNUzonW3JvbGU9Im1lbnUiXSBsaTpub3QoLmRpc2FibGVkKSBhLCBbcm9sZT0ibGlzdGJveCJdIGxpOm5vdCguZGlzYWJsZWQpIGEnfSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbyhuKXtpKHRoaXMsbyk7dGhpcy5fZWxlbWVudD1uO3RoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCl9cmV0dXJuIG8ucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbigpe3ZhciBuLGgsdCxpLGU7aWYodGhpcy5kaXNhYmxlZHx8cih0aGlzKS5oYXNDbGFzcyhzLkRJU0FCTEVEKXx8KG49by5fZ2V0UGFyZW50RnJvbUVsZW1lbnQodGhpcyksaD1yKG4pLmhhc0NsYXNzKHMuU0hPVyksby5fY2xlYXJNZW51cygpLGgpKXJldHVybiExO2lmKCJvbnRvdWNoc3RhcnQiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiYhcihuKS5jbG9zZXN0KGYuTkFWQkFSX05BVikubGVuZ3RoKXt0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3QuY2xhc3NOYW1lPXMuQkFDS0RST1A7cih0KS5pbnNlcnRCZWZvcmUodGhpcyk7cih0KS5vbigiY2xpY2siLG8uX2NsZWFyTWVudXMpfXJldHVybihpPXtyZWxhdGVkVGFyZ2V0OnRoaXN9LGU9ci5FdmVudCh1LlNIT1csaSkscihuKS50cmlnZ2VyKGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCkpPyExOih0aGlzLmZvY3VzKCksdGhpcy5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCEwKSxyKG4pLnRvZ2dsZUNsYXNzKHMuU0hPVykscihuKS50cmlnZ2VyKHIuRXZlbnQodS5TSE9XTixpKSksITEpfSxvLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7ci5yZW1vdmVEYXRhKHRoaXMuX2VsZW1lbnQsYyk7cih0aGlzLl9lbGVtZW50KS5vZmYoZSk7dGhpcy5fZWxlbWVudD1udWxsfSxvLnByb3RvdHlwZS5fYWRkRXZlbnRMaXN0ZW5lcnM9ZnVuY3Rpb24oKXtyKHRoaXMuX2VsZW1lbnQpLm9uKHUuQ0xJQ0ssdGhpcy50b2dnbGUpfSxvLl9qUXVlcnlJbnRlcmZhY2U9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PXIodGhpcykuZGF0YShjKTtpZih0fHwodD1uZXcgbyh0aGlzKSxyKHRoaXMpLmRhdGEoYyx0KSksdHlwZW9mIG49PSJzdHJpbmciKXtpZih0W25dPT09dW5kZWZpbmVkKXRocm93IG5ldyBFcnJvcignTm8gbWV0aG9kIG5hbWVkICInK24rJyInKTt0W25dLmNhbGwodGhpcyl9fSl9LG8uX2NsZWFyTWVudXM9ZnVuY3Rpb24obil7dmFyIGgsaSx0LGUsYyxsO2lmKCFufHxuLndoaWNoIT09Yilmb3IoaD1yKGYuQkFDS0RST1ApWzBdLGgmJmgucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChoKSxpPXIubWFrZUFycmF5KHIoZi5EQVRBX1RPR0dMRSkpLHQ9MDt0PGkubGVuZ3RoO3QrKykoZT1vLl9nZXRQYXJlbnRGcm9tRWxlbWVudChpW3RdKSxjPXtyZWxhdGVkVGFyZ2V0OmlbdF19LHIoZSkuaGFzQ2xhc3Mocy5TSE9XKSkmJihuJiYobi50eXBlPT09ImNsaWNrIiYmL2lucHV0fHRleHRhcmVhL2kudGVzdChuLnRhcmdldC50YWdOYW1lKXx8bi50eXBlPT09ImZvY3VzaW4iKSYmci5jb250YWlucyhlLG4udGFyZ2V0KXx8KGw9ci5FdmVudCh1LkhJREUsYykscihlKS50cmlnZ2VyKGwpLGwuaXNEZWZhdWx0UHJldmVudGVkKCkpfHwoaVt0XS5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCJmYWxzZSIpLHIoZSkucmVtb3ZlQ2xhc3Mocy5TSE9XKS50cmlnZ2VyKHIuRXZlbnQodS5ISURERU4sYykpKSl9LG8uX2dldFBhcmVudEZyb21FbGVtZW50PWZ1bmN0aW9uKHQpe3ZhciBpPXZvaWQgMCx1PW4uZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0KTtyZXR1cm4gdSYmKGk9cih1KVswXSksaXx8dC5wYXJlbnROb2RlfSxvLl9kYXRhQXBpS2V5ZG93bkhhbmRsZXI9ZnVuY3Rpb24obil7dmFyIHUsZSxoLGksdDtpZigvKDM4fDQwfDI3fDMyKS8udGVzdChuLndoaWNoKSYmIS9pbnB1dHx0ZXh0YXJlYS9pLnRlc3Qobi50YXJnZXQudGFnTmFtZSkmJihuLnByZXZlbnREZWZhdWx0KCksbi5zdG9wUHJvcGFnYXRpb24oKSwhdGhpcy5kaXNhYmxlZCYmIXIodGhpcykuaGFzQ2xhc3Mocy5ESVNBQkxFRCkpKXtpZih1PW8uX2dldFBhcmVudEZyb21FbGVtZW50KHRoaXMpLGU9cih1KS5oYXNDbGFzcyhzLlNIT1cpLCFlJiZuLndoaWNoIT09YXx8ZSYmbi53aGljaD09PWEpe24ud2hpY2g9PT1hJiYoaD1yKHUpLmZpbmQoZi5EQVRBX1RPR0dMRSlbMF0scihoKS50cmlnZ2VyKCJmb2N1cyIpKTtyKHRoaXMpLnRyaWdnZXIoImNsaWNrIik7cmV0dXJufShpPXIodSkuZmluZChmLlZJU0lCTEVfSVRFTVMpLmdldCgpLGkubGVuZ3RoKSYmKHQ9aS5pbmRleE9mKG4udGFyZ2V0KSxuLndoaWNoPT09cCYmdD4wJiZ0LS0sbi53aGljaD09PXcmJnQ8aS5sZW5ndGgtMSYmdCsrLHQ8MCYmKHQ9MCksaVt0XS5mb2N1cygpKX19LHQobyxudWxsLFt7a2V5OiJWRVJTSU9OIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdn19XSksb30oKTtyKGRvY3VtZW50KS5vbih1LktFWURPV05fREFUQV9BUEksZi5EQVRBX1RPR0dMRSxvLl9kYXRhQXBpS2V5ZG93bkhhbmRsZXIpLm9uKHUuS0VZRE9XTl9EQVRBX0FQSSxmLlJPTEVfTUVOVSxvLl9kYXRhQXBpS2V5ZG93bkhhbmRsZXIpLm9uKHUuS0VZRE9XTl9EQVRBX0FQSSxmLlJPTEVfTElTVEJPWCxvLl9kYXRhQXBpS2V5ZG93bkhhbmRsZXIpLm9uKHUuQ0xJQ0tfREFUQV9BUEkrIiAiK3UuRk9DVVNJTl9EQVRBX0FQSSxvLl9jbGVhck1lbnVzKS5vbih1LkNMSUNLX0RBVEFfQVBJLGYuREFUQV9UT0dHTEUsby5wcm90b3R5cGUudG9nZ2xlKS5vbih1LkNMSUNLX0RBVEFfQVBJLGYuRk9STV9DSElMRCxmdW5jdGlvbihuKXtuLnN0b3BQcm9wYWdhdGlvbigpfSk7cmV0dXJuIHIuZm5baF09by5falF1ZXJ5SW50ZXJmYWNlLHIuZm5baF0uQ29uc3RydWN0b3I9byxyLmZuW2hdLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gci5mbltoXT15LG8uX2pRdWVyeUludGVyZmFjZX0sb30oalF1ZXJ5KSxhPWZ1bmN0aW9uKHUpe3ZhciBzPSJtb2RhbCIscD0iNC4wLjAtYWxwaGEuNiIsaD0iYnMubW9kYWwiLG89Ii4iK2gsdz11LmZuW3NdLGE9MzAwLHY9MTUwLGI9MjcseT17YmFja2Ryb3A6ITAsa2V5Ym9hcmQ6ITAsZm9jdXM6ITAsc2hvdzohMH0saz17YmFja2Ryb3A6Iihib29sZWFufHN0cmluZykiLGtleWJvYXJkOiJib29sZWFuIixmb2N1czoiYm9vbGVhbiIsc2hvdzoiYm9vbGVhbiJ9LGY9e0hJREU6ImhpZGUiK28sSElEREVOOiJoaWRkZW4iK28sU0hPVzoic2hvdyIrbyxTSE9XTjoic2hvd24iK28sRk9DVVNJTjoiZm9jdXNpbiIrbyxSRVNJWkU6InJlc2l6ZSIrbyxDTElDS19ESVNNSVNTOiJjbGljay5kaXNtaXNzIitvLEtFWURPV05fRElTTUlTUzoia2V5ZG93bi5kaXNtaXNzIitvLE1PVVNFVVBfRElTTUlTUzoibW91c2V1cC5kaXNtaXNzIitvLE1PVVNFRE9XTl9ESVNNSVNTOiJtb3VzZWRvd24uZGlzbWlzcyIrbyxDTElDS19EQVRBX0FQSToiY2xpY2siK28rIi5kYXRhLWFwaSJ9LGU9e1NDUk9MTEJBUl9NRUFTVVJFUjoibW9kYWwtc2Nyb2xsYmFyLW1lYXN1cmUiLEJBQ0tEUk9QOiJtb2RhbC1iYWNrZHJvcCIsT1BFTjoibW9kYWwtb3BlbiIsRkFERToiZmFkZSIsU0hPVzoic2hvdyJ9LGw9e0RJQUxPRzoiLm1vZGFsLWRpYWxvZyIsREFUQV9UT0dHTEU6J1tkYXRhLXRvZ2dsZT0ibW9kYWwiXScsREFUQV9ESVNNSVNTOidbZGF0YS1kaXNtaXNzPSJtb2RhbCJdJyxGSVhFRF9DT05URU5UOiIuZml4ZWQtdG9wLCAuZml4ZWQtYm90dG9tLCAuaXMtZml4ZWQsIC5zdGlja3ktdG9wIn0sYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGMobix0KXtpKHRoaXMsYyk7dGhpcy5fY29uZmlnPXRoaXMuX2dldENvbmZpZyh0KTt0aGlzLl9lbGVtZW50PW47dGhpcy5fZGlhbG9nPXUobikuZmluZChsLkRJQUxPRylbMF07dGhpcy5fYmFja2Ryb3A9bnVsbDt0aGlzLl9pc1Nob3duPSExO3RoaXMuX2lzQm9keU92ZXJmbG93aW5nPSExO3RoaXMuX2lnbm9yZUJhY2tkcm9wQ2xpY2s9ITE7dGhpcy5faXNUcmFuc2l0aW9uaW5nPSExO3RoaXMuX29yaWdpbmFsQm9keVBhZGRpbmc9MDt0aGlzLl9zY3JvbGxiYXJXaWR0aD0wfXJldHVybiBjLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2lzU2hvd24/dGhpcy5oaWRlKCk6dGhpcy5zaG93KG4pfSxjLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKHQpe3ZhciBpPXRoaXMscjtpZih0aGlzLl9pc1RyYW5zaXRpb25pbmcpdGhyb3cgbmV3IEVycm9yKCJNb2RhbCBpcyB0cmFuc2l0aW9uaW5nIik7aWYobi5zdXBwb3J0c1RyYW5zaXRpb25FbmQoKSYmdSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhlLkZBREUpJiYodGhpcy5faXNUcmFuc2l0aW9uaW5nPSEwKSxyPXUuRXZlbnQoZi5TSE9XLHtyZWxhdGVkVGFyZ2V0OnR9KSx1KHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIociksIXRoaXMuX2lzU2hvd24mJiFyLmlzRGVmYXVsdFByZXZlbnRlZCgpKXt0aGlzLl9pc1Nob3duPSEwO3RoaXMuX2NoZWNrU2Nyb2xsYmFyKCk7dGhpcy5fc2V0U2Nyb2xsYmFyKCk7dShkb2N1bWVudC5ib2R5KS5hZGRDbGFzcyhlLk9QRU4pO3RoaXMuX3NldEVzY2FwZUV2ZW50KCk7dGhpcy5fc2V0UmVzaXplRXZlbnQoKTt1KHRoaXMuX2VsZW1lbnQpLm9uKGYuQ0xJQ0tfRElTTUlTUyxsLkRBVEFfRElTTUlTUyxmdW5jdGlvbihuKXtyZXR1cm4gaS5oaWRlKG4pfSk7dSh0aGlzLl9kaWFsb2cpLm9uKGYuTU9VU0VET1dOX0RJU01JU1MsZnVuY3Rpb24oKXt1KGkuX2VsZW1lbnQpLm9uZShmLk1PVVNFVVBfRElTTUlTUyxmdW5jdGlvbihuKXt1KG4udGFyZ2V0KS5pcyhpLl9lbGVtZW50KSYmKGkuX2lnbm9yZUJhY2tkcm9wQ2xpY2s9ITApfSl9KTt0aGlzLl9zaG93QmFja2Ryb3AoZnVuY3Rpb24oKXtyZXR1cm4gaS5fc2hvd0VsZW1lbnQodCl9KX19LGMucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24odCl7dmFyIG89dGhpcyxpLHI7aWYodCYmdC5wcmV2ZW50RGVmYXVsdCgpLHRoaXMuX2lzVHJhbnNpdGlvbmluZyl0aHJvdyBuZXcgRXJyb3IoIk1vZGFsIGlzIHRyYW5zaXRpb25pbmciKTsoaT1uLnN1cHBvcnRzVHJhbnNpdGlvbkVuZCgpJiZ1KHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKGUuRkFERSksaSYmKHRoaXMuX2lzVHJhbnNpdGlvbmluZz0hMCkscj11LkV2ZW50KGYuSElERSksdSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKHIpLHRoaXMuX2lzU2hvd24mJiFyLmlzRGVmYXVsdFByZXZlbnRlZCgpKSYmKHRoaXMuX2lzU2hvd249ITEsdGhpcy5fc2V0RXNjYXBlRXZlbnQoKSx0aGlzLl9zZXRSZXNpemVFdmVudCgpLHUoZG9jdW1lbnQpLm9mZihmLkZPQ1VTSU4pLHUodGhpcy5fZWxlbWVudCkucmVtb3ZlQ2xhc3MoZS5TSE9XKSx1KHRoaXMuX2VsZW1lbnQpLm9mZihmLkNMSUNLX0RJU01JU1MpLHUodGhpcy5fZGlhbG9nKS5vZmYoZi5NT1VTRURPV05fRElTTUlTUyksaT91KHRoaXMuX2VsZW1lbnQpLm9uZShuLlRSQU5TSVRJT05fRU5ELGZ1bmN0aW9uKG4pe3JldHVybiBvLl9oaWRlTW9kYWwobil9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZChhKTp0aGlzLl9oaWRlTW9kYWwoKSl9LGMucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt1LnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCxoKTt1KHdpbmRvdyxkb2N1bWVudCx0aGlzLl9lbGVtZW50LHRoaXMuX2JhY2tkcm9wKS5vZmYobyk7dGhpcy5fY29uZmlnPW51bGw7dGhpcy5fZWxlbWVudD1udWxsO3RoaXMuX2RpYWxvZz1udWxsO3RoaXMuX2JhY2tkcm9wPW51bGw7dGhpcy5faXNTaG93bj1udWxsO3RoaXMuX2lzQm9keU92ZXJmbG93aW5nPW51bGw7dGhpcy5faWdub3JlQmFja2Ryb3BDbGljaz1udWxsO3RoaXMuX29yaWdpbmFsQm9keVBhZGRpbmc9bnVsbDt0aGlzLl9zY3JvbGxiYXJXaWR0aD1udWxsfSxjLnByb3RvdHlwZS5fZ2V0Q29uZmlnPWZ1bmN0aW9uKHQpe3JldHVybiB0PXUuZXh0ZW5kKHt9LHksdCksbi50eXBlQ2hlY2tDb25maWcocyx0LGspLHR9LGMucHJvdG90eXBlLl9zaG93RWxlbWVudD1mdW5jdGlvbih0KXt2YXIgaT10aGlzLG89bi5zdXBwb3J0c1RyYW5zaXRpb25FbmQoKSYmdSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhlLkZBREUpLHMscjt0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUmJnRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFfHxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMuX2VsZW1lbnQpO3RoaXMuX2VsZW1lbnQuc3R5bGUuZGlzcGxheT0iYmxvY2siO3RoaXMuX2VsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCJhcmlhLWhpZGRlbiIpO3RoaXMuX2VsZW1lbnQuc2Nyb2xsVG9wPTA7byYmbi5yZWZsb3codGhpcy5fZWxlbWVudCk7dSh0aGlzLl9lbGVtZW50KS5hZGRDbGFzcyhlLlNIT1cpO3RoaXMuX2NvbmZpZy5mb2N1cyYmdGhpcy5fZW5mb3JjZUZvY3VzKCk7cz11LkV2ZW50KGYuU0hPV04se3JlbGF0ZWRUYXJnZXQ6dH0pO3I9ZnVuY3Rpb24oKXtpLl9jb25maWcuZm9jdXMmJmkuX2VsZW1lbnQuZm9jdXMoKTtpLl9pc1RyYW5zaXRpb25pbmc9ITE7dShpLl9lbGVtZW50KS50cmlnZ2VyKHMpfTtvP3UodGhpcy5fZGlhbG9nKS5vbmUobi5UUkFOU0lUSU9OX0VORCxyKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChhKTpyKCl9LGMucHJvdG90eXBlLl9lbmZvcmNlRm9jdXM9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3UoZG9jdW1lbnQpLm9mZihmLkZPQ1VTSU4pLm9uKGYuRk9DVVNJTixmdW5jdGlvbih0KXtkb2N1bWVudD09PXQudGFyZ2V0fHxuLl9lbGVtZW50PT09dC50YXJnZXR8fHUobi5fZWxlbWVudCkuaGFzKHQudGFyZ2V0KS5sZW5ndGh8fG4uX2VsZW1lbnQuZm9jdXMoKX0pfSxjLnByb3RvdHlwZS5fc2V0RXNjYXBlRXZlbnQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO2lmKHRoaXMuX2lzU2hvd24mJnRoaXMuX2NvbmZpZy5rZXlib2FyZCl1KHRoaXMuX2VsZW1lbnQpLm9uKGYuS0VZRE9XTl9ESVNNSVNTLGZ1bmN0aW9uKHQpe3Qud2hpY2g9PT1iJiZuLmhpZGUoKX0pO2Vsc2UgdGhpcy5faXNTaG93bnx8dSh0aGlzLl9lbGVtZW50KS5vZmYoZi5LRVlET1dOX0RJU01JU1MpfSxjLnByb3RvdHlwZS5fc2V0UmVzaXplRXZlbnQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO2lmKHRoaXMuX2lzU2hvd24pdSh3aW5kb3cpLm9uKGYuUkVTSVpFLGZ1bmN0aW9uKHQpe3JldHVybiBuLl9oYW5kbGVVcGRhdGUodCl9KTtlbHNlIHUod2luZG93KS5vZmYoZi5SRVNJWkUpfSxjLnByb3RvdHlwZS5faGlkZU1vZGFsPWZ1bmN0aW9uKCl7dmFyIG49dGhpczt0aGlzLl9lbGVtZW50LnN0eWxlLmRpc3BsYXk9Im5vbmUiO3RoaXMuX2VsZW1lbnQuc2V0QXR0cmlidXRlKCJhcmlhLWhpZGRlbiIsInRydWUiKTt0aGlzLl9pc1RyYW5zaXRpb25pbmc9ITE7dGhpcy5fc2hvd0JhY2tkcm9wKGZ1bmN0aW9uKCl7dShkb2N1bWVudC5ib2R5KS5yZW1vdmVDbGFzcyhlLk9QRU4pO24uX3Jlc2V0QWRqdXN0bWVudHMoKTtuLl9yZXNldFNjcm9sbGJhcigpO3Uobi5fZWxlbWVudCkudHJpZ2dlcihmLkhJRERFTil9KX0sYy5wcm90b3R5cGUuX3JlbW92ZUJhY2tkcm9wPWZ1bmN0aW9uKCl7dGhpcy5fYmFja2Ryb3AmJih1KHRoaXMuX2JhY2tkcm9wKS5yZW1vdmUoKSx0aGlzLl9iYWNrZHJvcD1udWxsKX0sYy5wcm90b3R5cGUuX3Nob3dCYWNrZHJvcD1mdW5jdGlvbih0KXt2YXIgaT10aGlzLHI9dSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhlLkZBREUpP2UuRkFERToiIixvLHM7aWYodGhpcy5faXNTaG93biYmdGhpcy5fY29uZmlnLmJhY2tkcm9wKXtvPW4uc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkmJnI7dGhpcy5fYmFja2Ryb3A9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dGhpcy5fYmFja2Ryb3AuY2xhc3NOYW1lPWUuQkFDS0RST1A7ciYmdSh0aGlzLl9iYWNrZHJvcCkuYWRkQ2xhc3Mocik7dSh0aGlzLl9iYWNrZHJvcCkuYXBwZW5kVG8oZG9jdW1lbnQuYm9keSk7dSh0aGlzLl9lbGVtZW50KS5vbihmLkNMSUNLX0RJU01JU1MsZnVuY3Rpb24obil7aWYoaS5faWdub3JlQmFja2Ryb3BDbGljayl7aS5faWdub3JlQmFja2Ryb3BDbGljaz0hMTtyZXR1cm59bi50YXJnZXQ9PT1uLmN1cnJlbnRUYXJnZXQmJihpLl9jb25maWcuYmFja2Ryb3A9PT0ic3RhdGljIj9pLl9lbGVtZW50LmZvY3VzKCk6aS5oaWRlKCkpfSk7aWYobyYmbi5yZWZsb3codGhpcy5fYmFja2Ryb3ApLHUodGhpcy5fYmFja2Ryb3ApLmFkZENsYXNzKGUuU0hPVyksIXQpcmV0dXJuO2lmKCFvKXt0KCk7cmV0dXJufXUodGhpcy5fYmFja2Ryb3ApLm9uZShuLlRSQU5TSVRJT05fRU5ELHQpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHYpfWVsc2UhdGhpcy5faXNTaG93biYmdGhpcy5fYmFja2Ryb3A/KHUodGhpcy5fYmFja2Ryb3ApLnJlbW92ZUNsYXNzKGUuU0hPVykscz1mdW5jdGlvbigpe2kuX3JlbW92ZUJhY2tkcm9wKCk7dCYmdCgpfSxuLnN1cHBvcnRzVHJhbnNpdGlvbkVuZCgpJiZ1KHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKGUuRkFERSk/dSh0aGlzLl9iYWNrZHJvcCkub25lKG4uVFJBTlNJVElPTl9FTkQscykuZW11bGF0ZVRyYW5zaXRpb25FbmQodik6cygpKTp0JiZ0KCl9LGMucHJvdG90eXBlLl9oYW5kbGVVcGRhdGU9ZnVuY3Rpb24oKXt0aGlzLl9hZGp1c3REaWFsb2coKX0sYy5wcm90b3R5cGUuX2FkanVzdERpYWxvZz1mdW5jdGlvbigpe3ZhciBuPXRoaXMuX2VsZW1lbnQuc2Nyb2xsSGVpZ2h0PmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7IXRoaXMuX2lzQm9keU92ZXJmbG93aW5nJiZuJiYodGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nTGVmdD10aGlzLl9zY3JvbGxiYXJXaWR0aCsicHgiKTt0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyYmIW4mJih0aGlzLl9lbGVtZW50LnN0eWxlLnBhZGRpbmdSaWdodD10aGlzLl9zY3JvbGxiYXJXaWR0aCsicHgiKX0sYy5wcm90b3R5cGUuX3Jlc2V0QWRqdXN0bWVudHM9ZnVuY3Rpb24oKXt0aGlzLl9lbGVtZW50LnN0eWxlLnBhZGRpbmdMZWZ0PSIiO3RoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ1JpZ2h0PSIifSxjLnByb3RvdHlwZS5fY2hlY2tTY3JvbGxiYXI9ZnVuY3Rpb24oKXt0aGlzLl9pc0JvZHlPdmVyZmxvd2luZz1kb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoPHdpbmRvdy5pbm5lcldpZHRoO3RoaXMuX3Njcm9sbGJhcldpZHRoPXRoaXMuX2dldFNjcm9sbGJhcldpZHRoKCl9LGMucHJvdG90eXBlLl9zZXRTY3JvbGxiYXI9ZnVuY3Rpb24oKXt2YXIgbj1wYXJzZUludCh1KGwuRklYRURfQ09OVEVOVCkuY3NzKCJwYWRkaW5nLXJpZ2h0Iil8fDAsMTApO3RoaXMuX29yaWdpbmFsQm9keVBhZGRpbmc9ZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHR8fCIiO3RoaXMuX2lzQm9keU92ZXJmbG93aW5nJiYoZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQ9bit0aGlzLl9zY3JvbGxiYXJXaWR0aCsicHgiKX0sYy5wcm90b3R5cGUuX3Jlc2V0U2Nyb2xsYmFyPWZ1bmN0aW9uKCl7ZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQ9dGhpcy5fb3JpZ2luYWxCb2R5UGFkZGluZ30sYy5wcm90b3R5cGUuX2dldFNjcm9sbGJhcldpZHRoPWZ1bmN0aW9uKCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdDtyZXR1cm4gbi5jbGFzc05hbWU9ZS5TQ1JPTExCQVJfTUVBU1VSRVIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChuKSx0PW4ub2Zmc2V0V2lkdGgtbi5jbGllbnRXaWR0aCxkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG4pLHR9LGMuX2pRdWVyeUludGVyZmFjZT1mdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaT11KHRoaXMpLmRhdGEoaCksZj11LmV4dGVuZCh7fSxjLkRlZmF1bHQsdSh0aGlzKS5kYXRhKCksKHR5cGVvZiBuPT0idW5kZWZpbmVkIj8idW5kZWZpbmVkIjpyKG4pKT09PSJvYmplY3QiJiZuKTtpZihpfHwoaT1uZXcgYyh0aGlzLGYpLHUodGhpcykuZGF0YShoLGkpKSx0eXBlb2Ygbj09InN0cmluZyIpe2lmKGlbbl09PT11bmRlZmluZWQpdGhyb3cgbmV3IEVycm9yKCdObyBtZXRob2QgbmFtZWQgIicrbisnIicpO2lbbl0odCl9ZWxzZSBmLnNob3cmJmkuc2hvdyh0KX0pfSx0KGMsbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHB9fSx7a2V5OiJEZWZhdWx0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4geX19XSksY30oKTt1KGRvY3VtZW50KS5vbihmLkNMSUNLX0RBVEFfQVBJLGwuREFUQV9UT0dHTEUsZnVuY3Rpb24odCl7dmFyIHI9dGhpcyxpPXZvaWQgMCxlPW4uZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0aGlzKSxvLHM7ZSYmKGk9dShlKVswXSk7bz11KGkpLmRhdGEoaCk/InRvZ2dsZSI6dS5leHRlbmQoe30sdShpKS5kYXRhKCksdSh0aGlzKS5kYXRhKCkpOyh0aGlzLnRhZ05hbWU9PT0iQSJ8fHRoaXMudGFnTmFtZT09PSJBUkVBIikmJnQucHJldmVudERlZmF1bHQoKTtzPXUoaSkub25lKGYuU0hPVyxmdW5jdGlvbihuKXtpZighbi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlzLm9uZShmLkhJRERFTixmdW5jdGlvbigpe3UocikuaXMoIjp2aXNpYmxlIikmJnIuZm9jdXMoKX0pfSk7Yy5falF1ZXJ5SW50ZXJmYWNlLmNhbGwodShpKSxvLHRoaXMpfSk7cmV0dXJuIHUuZm5bc109Yy5falF1ZXJ5SW50ZXJmYWNlLHUuZm5bc10uQ29uc3RydWN0b3I9Yyx1LmZuW3NdLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdS5mbltzXT13LGMuX2pRdWVyeUludGVyZmFjZX0sY30oalF1ZXJ5KSx2PWZ1bmN0aW9uKHUpe3ZhciBlPSJzY3JvbGxzcHkiLHk9IjQuMC4wLWFscGhhLjYiLGg9ImJzLnNjcm9sbHNweSIsYz0iLiIraCxwPXUuZm5bZV0sdj17b2Zmc2V0OjEwLG1ldGhvZDoiYXV0byIsdGFyZ2V0OiIifSx3PXtvZmZzZXQ6Im51bWJlciIsbWV0aG9kOiJzdHJpbmciLHRhcmdldDoiKHN0cmluZ3xlbGVtZW50KSJ9LGw9e0FDVElWQVRFOiJhY3RpdmF0ZSIrYyxTQ1JPTEw6InNjcm9sbCIrYyxMT0FEX0RBVEFfQVBJOiJsb2FkIitjKyIuZGF0YS1hcGkifSxvPXtEUk9QRE9XTl9JVEVNOiJkcm9wZG93bi1pdGVtIixEUk9QRE9XTl9NRU5VOiJkcm9wZG93bi1tZW51IixOQVZfTElOSzoibmF2LWxpbmsiLE5BVjoibmF2IixBQ1RJVkU6ImFjdGl2ZSJ9LGY9e0RBVEFfU1BZOidbZGF0YS1zcHk9InNjcm9sbCJdJyxBQ1RJVkU6Ii5hY3RpdmUiLExJU1RfSVRFTToiLmxpc3QtaXRlbSIsTEk6ImxpIixMSV9EUk9QRE9XTjoibGkuZHJvcGRvd24iLE5BVl9MSU5LUzoiLm5hdi1saW5rIixEUk9QRE9XTjoiLmRyb3Bkb3duIixEUk9QRE9XTl9JVEVNUzoiLmRyb3Bkb3duLWl0ZW0iLERST1BET1dOX1RPR0dMRToiLmRyb3Bkb3duLXRvZ2dsZSJ9LGE9e09GRlNFVDoib2Zmc2V0IixQT1NJVElPTjoicG9zaXRpb24ifSxzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcyhuLHQpe3ZhciByPXRoaXM7aSh0aGlzLHMpO3RoaXMuX2VsZW1lbnQ9bjt0aGlzLl9zY3JvbGxFbGVtZW50PW4udGFnTmFtZT09PSJCT0RZIj93aW5kb3c6bjt0aGlzLl9jb25maWc9dGhpcy5fZ2V0Q29uZmlnKHQpO3RoaXMuX3NlbGVjdG9yPXRoaXMuX2NvbmZpZy50YXJnZXQrIiAiK2YuTkFWX0xJTktTKyIsIisodGhpcy5fY29uZmlnLnRhcmdldCsiICIrZi5EUk9QRE9XTl9JVEVNUyk7dGhpcy5fb2Zmc2V0cz1bXTt0aGlzLl90YXJnZXRzPVtdO3RoaXMuX2FjdGl2ZVRhcmdldD1udWxsO3RoaXMuX3Njcm9sbEhlaWdodD0wO3UodGhpcy5fc2Nyb2xsRWxlbWVudCkub24obC5TQ1JPTEwsZnVuY3Rpb24obil7cmV0dXJuIHIuX3Byb2Nlc3Mobil9KTt0aGlzLnJlZnJlc2goKTt0aGlzLl9wcm9jZXNzKCl9cmV0dXJuIHMucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGY9dGhpcy5fc2Nyb2xsRWxlbWVudCE9PXRoaXMuX3Njcm9sbEVsZW1lbnQud2luZG93P2EuUE9TSVRJT046YS5PRkZTRVQsaT10aGlzLl9jb25maWcubWV0aG9kPT09ImF1dG8iP2Y6dGhpcy5fY29uZmlnLm1ldGhvZCxlPWk9PT1hLlBPU0lUSU9OP3RoaXMuX2dldFNjcm9sbFRvcCgpOjAscjt0aGlzLl9vZmZzZXRzPVtdO3RoaXMuX3RhcmdldHM9W107dGhpcy5fc2Nyb2xsSGVpZ2h0PXRoaXMuX2dldFNjcm9sbEhlaWdodCgpO3I9dS5tYWtlQXJyYXkodSh0aGlzLl9zZWxlY3RvcikpO3IubWFwKGZ1bmN0aW9uKHQpe3ZhciByPXZvaWQgMCxmPW4uZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0KTtyZXR1cm4oZiYmKHI9dShmKVswXSksciYmKHIub2Zmc2V0V2lkdGh8fHIub2Zmc2V0SGVpZ2h0KSk/W3UocilbaV0oKS50b3ArZSxmXTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKG4pe3JldHVybiBufSkuc29ydChmdW5jdGlvbihuLHQpe3JldHVybiBuWzBdLXRbMF19KS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3QuX29mZnNldHMucHVzaChuWzBdKTt0Ll90YXJnZXRzLnB1c2goblsxXSl9KX0scy5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3UucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LGgpO3UodGhpcy5fc2Nyb2xsRWxlbWVudCkub2ZmKGMpO3RoaXMuX2VsZW1lbnQ9bnVsbDt0aGlzLl9zY3JvbGxFbGVtZW50PW51bGw7dGhpcy5fY29uZmlnPW51bGw7dGhpcy5fc2VsZWN0b3I9bnVsbDt0aGlzLl9vZmZzZXRzPW51bGw7dGhpcy5fdGFyZ2V0cz1udWxsO3RoaXMuX2FjdGl2ZVRhcmdldD1udWxsO3RoaXMuX3Njcm9sbEhlaWdodD1udWxsfSxzLnByb3RvdHlwZS5fZ2V0Q29uZmlnPWZ1bmN0aW9uKHQpe2lmKHQ9dS5leHRlbmQoe30sdix0KSx0eXBlb2YgdC50YXJnZXQhPSJzdHJpbmciKXt2YXIgaT11KHQudGFyZ2V0KS5hdHRyKCJpZCIpO2l8fChpPW4uZ2V0VUlEKGUpLHUodC50YXJnZXQpLmF0dHIoImlkIixpKSk7dC50YXJnZXQ9IiMiK2l9cmV0dXJuIG4udHlwZUNoZWNrQ29uZmlnKGUsdCx3KSx0fSxzLnByb3RvdHlwZS5fZ2V0U2Nyb2xsVG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Njcm9sbEVsZW1lbnQ9PT13aW5kb3c/dGhpcy5fc2Nyb2xsRWxlbWVudC5wYWdlWU9mZnNldDp0aGlzLl9zY3JvbGxFbGVtZW50LnNjcm9sbFRvcH0scy5wcm90b3R5cGUuX2dldFNjcm9sbEhlaWdodD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zY3JvbGxFbGVtZW50LnNjcm9sbEhlaWdodHx8TWF0aC5tYXgoZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQsZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCl9LHMucHJvdG90eXBlLl9nZXRPZmZzZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2Nyb2xsRWxlbWVudD09PXdpbmRvdz93aW5kb3cuaW5uZXJIZWlnaHQ6dGhpcy5fc2Nyb2xsRWxlbWVudC5vZmZzZXRIZWlnaHR9LHMucHJvdG90eXBlLl9wcm9jZXNzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0U2Nyb2xsVG9wKCkrdGhpcy5fY29uZmlnLm9mZnNldCxyPXRoaXMuX2dldFNjcm9sbEhlaWdodCgpLGY9dGhpcy5fY29uZmlnLm9mZnNldCtyLXRoaXMuX2dldE9mZnNldEhlaWdodCgpLGksbix1O2lmKHRoaXMuX3Njcm9sbEhlaWdodCE9PXImJnRoaXMucmVmcmVzaCgpLHQ+PWYpe2k9dGhpcy5fdGFyZ2V0c1t0aGlzLl90YXJnZXRzLmxlbmd0aC0xXTt0aGlzLl9hY3RpdmVUYXJnZXQhPT1pJiZ0aGlzLl9hY3RpdmF0ZShpKTtyZXR1cm59aWYodGhpcy5fYWN0aXZlVGFyZ2V0JiZ0PHRoaXMuX29mZnNldHNbMF0mJnRoaXMuX29mZnNldHNbMF0+MCl7dGhpcy5fYWN0aXZlVGFyZ2V0PW51bGw7dGhpcy5fY2xlYXIoKTtyZXR1cm59Zm9yKG49dGhpcy5fb2Zmc2V0cy5sZW5ndGg7bi0tOyl1PXRoaXMuX2FjdGl2ZVRhcmdldCE9PXRoaXMuX3RhcmdldHNbbl0mJnQ+PXRoaXMuX29mZnNldHNbbl0mJih0aGlzLl9vZmZzZXRzW24rMV09PT11bmRlZmluZWR8fHQ8dGhpcy5fb2Zmc2V0c1tuKzFdKSx1JiZ0aGlzLl9hY3RpdmF0ZSh0aGlzLl90YXJnZXRzW25dKX0scy5wcm90b3R5cGUuX2FjdGl2YXRlPWZ1bmN0aW9uKG4pe3ZhciBpLHQ7dGhpcy5fYWN0aXZlVGFyZ2V0PW47dGhpcy5fY2xlYXIoKTtpPXRoaXMuX3NlbGVjdG9yLnNwbGl0KCIsIik7aT1pLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdCsnW2RhdGEtdGFyZ2V0PSInK24rJyJdLCcrKHQrJ1tocmVmPSInK24rJyJdJyl9KTt0PXUoaS5qb2luKCIsIikpO3QuaGFzQ2xhc3Moby5EUk9QRE9XTl9JVEVNKT8odC5jbG9zZXN0KGYuRFJPUERPV04pLmZpbmQoZi5EUk9QRE9XTl9UT0dHTEUpLmFkZENsYXNzKG8uQUNUSVZFKSx0LmFkZENsYXNzKG8uQUNUSVZFKSk6dC5wYXJlbnRzKGYuTEkpLmZpbmQoIj4gIitmLk5BVl9MSU5LUykuYWRkQ2xhc3Moby5BQ1RJVkUpO3UodGhpcy5fc2Nyb2xsRWxlbWVudCkudHJpZ2dlcihsLkFDVElWQVRFLHtyZWxhdGVkVGFyZ2V0Om59KX0scy5wcm90b3R5cGUuX2NsZWFyPWZ1bmN0aW9uKCl7dSh0aGlzLl9zZWxlY3RvcikuZmlsdGVyKGYuQUNUSVZFKS5yZW1vdmVDbGFzcyhvLkFDVElWRSl9LHMuX2pRdWVyeUludGVyZmFjZT1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9dSh0aGlzKS5kYXRhKGgpLGk9KHR5cGVvZiBuPT0idW5kZWZpbmVkIj8idW5kZWZpbmVkIjpyKG4pKT09PSJvYmplY3QiJiZuO2lmKHR8fCh0PW5ldyBzKHRoaXMsaSksdSh0aGlzKS5kYXRhKGgsdCkpLHR5cGVvZiBuPT0ic3RyaW5nIil7aWYodFtuXT09PXVuZGVmaW5lZCl0aHJvdyBuZXcgRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCAiJytuKyciJyk7dFtuXSgpfX0pfSx0KHMsbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHl9fSx7a2V5OiJEZWZhdWx0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdn19XSksc30oKTt1KHdpbmRvdykub24obC5MT0FEX0RBVEFfQVBJLGZ1bmN0aW9uKCl7Zm9yKHZhciBuLHQ9dS5tYWtlQXJyYXkodShmLkRBVEFfU1BZKSksaT10Lmxlbmd0aDtpLS07KW49dSh0W2ldKSxzLl9qUXVlcnlJbnRlcmZhY2UuY2FsbChuLG4uZGF0YSgpKX0pO3JldHVybiB1LmZuW2VdPXMuX2pRdWVyeUludGVyZmFjZSx1LmZuW2VdLkNvbnN0cnVjdG9yPXMsdS5mbltlXS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHUuZm5bZV09cCxzLl9qUXVlcnlJbnRlcmZhY2V9LHN9KGpRdWVyeSkseT1mdW5jdGlvbihyKXt2YXIgZT0idGFiIixsPSI0LjAuMC1hbHBoYS42IixjPSJicy50YWIiLG89Ii4iK2MsYT1yLmZuW2VdLHY9MTUwLHM9e0hJREU6ImhpZGUiK28sSElEREVOOiJoaWRkZW4iK28sU0hPVzoic2hvdyIrbyxTSE9XTjoic2hvd24iK28sQ0xJQ0tfREFUQV9BUEk6ImNsaWNrIitvKyIuZGF0YS1hcGkifSx1PXtEUk9QRE9XTl9NRU5VOiJkcm9wZG93bi1tZW51IixBQ1RJVkU6ImFjdGl2ZSIsRElTQUJMRUQ6ImRpc2FibGVkIixGQURFOiJmYWRlIixTSE9XOiJzaG93In0sZj17QToiYSIsTEk6ImxpIixEUk9QRE9XTjoiLmRyb3Bkb3duIixMSVNUOiJ1bDpub3QoLmRyb3Bkb3duLW1lbnUpLCBvbDpub3QoLmRyb3Bkb3duLW1lbnUpLCBuYXY6bm90KC5kcm9wZG93bi1tZW51KSIsRkFERV9DSElMRDoiPiAubmF2LWl0ZW0gLmZhZGUsID4gLmZhZGUiLEFDVElWRToiLmFjdGl2ZSIsQUNUSVZFX0NISUxEOiI+IC5uYXYtaXRlbSA+IC5hY3RpdmUsID4gLmFjdGl2ZSIsREFUQV9UT0dHTEU6J1tkYXRhLXRvZ2dsZT0idGFiIl0sIFtkYXRhLXRvZ2dsZT0icGlsbCJdJyxEUk9QRE9XTl9UT0dHTEU6Ii5kcm9wZG93bi10b2dnbGUiLERST1BET1dOX0FDVElWRV9DSElMRDoiPiAuZHJvcGRvd24tbWVudSAuYWN0aXZlIn0saD1mdW5jdGlvbigpe2Z1bmN0aW9uIGUobil7aSh0aGlzLGUpO3RoaXMuX2VsZW1lbnQ9bn1yZXR1cm4gZS5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3ZhciBsPXRoaXMsbyxoLGM7aWYoKCF0aGlzLl9lbGVtZW50LnBhcmVudE5vZGV8fHRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZS5ub2RlVHlwZSE9PU5vZGUuRUxFTUVOVF9OT0RFfHwhcih0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyh1LkFDVElWRSkpJiYhcih0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyh1LkRJU0FCTEVEKSl7dmFyIGk9dm9pZCAwLHQ9dm9pZCAwLGU9cih0aGlzLl9lbGVtZW50KS5jbG9zZXN0KGYuTElTVClbMF0sYT1uLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7KGUmJih0PXIubWFrZUFycmF5KHIoZSkuZmluZChmLkFDVElWRSkpLHQ9dFt0Lmxlbmd0aC0xXSksbz1yLkV2ZW50KHMuSElERSx7cmVsYXRlZFRhcmdldDp0aGlzLl9lbGVtZW50fSksaD1yLkV2ZW50KHMuU0hPVyx7cmVsYXRlZFRhcmdldDp0fSksdCYmcih0KS50cmlnZ2VyKG8pLHIodGhpcy5fZWxlbWVudCkudHJpZ2dlcihoKSxoLmlzRGVmYXVsdFByZXZlbnRlZCgpfHxvLmlzRGVmYXVsdFByZXZlbnRlZCgpKXx8KGEmJihpPXIoYSlbMF0pLHRoaXMuX2FjdGl2YXRlKHRoaXMuX2VsZW1lbnQsZSksYz1mdW5jdGlvbigpe3ZhciBuPXIuRXZlbnQocy5ISURERU4se3JlbGF0ZWRUYXJnZXQ6bC5fZWxlbWVudH0pLGk9ci5FdmVudChzLlNIT1dOLHtyZWxhdGVkVGFyZ2V0OnR9KTtyKHQpLnRyaWdnZXIobik7cihsLl9lbGVtZW50KS50cmlnZ2VyKGkpfSxpP3RoaXMuX2FjdGl2YXRlKGksaS5wYXJlbnROb2RlLGMpOmMoKSl9fSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7ci5yZW1vdmVDbGFzcyh0aGlzLl9lbGVtZW50LGMpO3RoaXMuX2VsZW1lbnQ9bnVsbH0sZS5wcm90b3R5cGUuX2FjdGl2YXRlPWZ1bmN0aW9uKHQsaSxlKXt2YXIgYz10aGlzLG89cihpKS5maW5kKGYuQUNUSVZFX0NISUxEKVswXSxzPWUmJm4uc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkmJihvJiZyKG8pLmhhc0NsYXNzKHUuRkFERSl8fEJvb2xlYW4ocihpKS5maW5kKGYuRkFERV9DSElMRClbMF0pKSxoPWZ1bmN0aW9uKCl7cmV0dXJuIGMuX3RyYW5zaXRpb25Db21wbGV0ZSh0LG8scyxlKX07byYmcz9yKG8pLm9uZShuLlRSQU5TSVRJT05fRU5ELGgpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHYpOmgoKTtvJiZyKG8pLnJlbW92ZUNsYXNzKHUuU0hPVyl9LGUucHJvdG90eXBlLl90cmFuc2l0aW9uQ29tcGxldGU9ZnVuY3Rpb24odCxpLGUsbyl7dmFyIHMsaDtpJiYocihpKS5yZW1vdmVDbGFzcyh1LkFDVElWRSkscz1yKGkucGFyZW50Tm9kZSkuZmluZChmLkRST1BET1dOX0FDVElWRV9DSElMRClbMF0scyYmcihzKS5yZW1vdmVDbGFzcyh1LkFDVElWRSksaS5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCExKSk7cih0KS5hZGRDbGFzcyh1LkFDVElWRSk7dC5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCEwKTtlPyhuLnJlZmxvdyh0KSxyKHQpLmFkZENsYXNzKHUuU0hPVykpOnIodCkucmVtb3ZlQ2xhc3ModS5GQURFKTt0LnBhcmVudE5vZGUmJnIodC5wYXJlbnROb2RlKS5oYXNDbGFzcyh1LkRST1BET1dOX01FTlUpJiYoaD1yKHQpLmNsb3Nlc3QoZi5EUk9QRE9XTilbMF0saCYmcihoKS5maW5kKGYuRFJPUERPV05fVE9HR0xFKS5hZGRDbGFzcyh1LkFDVElWRSksdC5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCEwKSk7byYmbygpfSxlLl9qUXVlcnlJbnRlcmZhY2U9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpPXIodGhpcyksdD1pLmRhdGEoYyk7aWYodHx8KHQ9bmV3IGUodGhpcyksaS5kYXRhKGMsdCkpLHR5cGVvZiBuPT0ic3RyaW5nIil7aWYodFtuXT09PXVuZGVmaW5lZCl0aHJvdyBuZXcgRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCAiJytuKyciJyk7dFtuXSgpfX0pfSx0KGUsbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGx9fV0pLGV9KCk7cihkb2N1bWVudCkub24ocy5DTElDS19EQVRBX0FQSSxmLkRBVEFfVE9HR0xFLGZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKTtoLl9qUXVlcnlJbnRlcmZhY2UuY2FsbChyKHRoaXMpLCJzaG93Iil9KTtyZXR1cm4gci5mbltlXT1oLl9qUXVlcnlJbnRlcmZhY2Usci5mbltlXS5Db25zdHJ1Y3Rvcj1oLHIuZm5bZV0ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiByLmZuW2VdPWEsaC5falF1ZXJ5SW50ZXJmYWNlfSxofShqUXVlcnkpLHU9ZnVuY3Rpb24odSl7aWYodHlwZW9mIFRldGhlcj09InVuZGVmaW5lZCIpdGhyb3cgbmV3IEVycm9yKCJCb290c3RyYXAgdG9vbHRpcHMgcmVxdWlyZSBUZXRoZXIgKGh0dHA6Ly90ZXRoZXIuaW8vKSIpO3ZhciBoPSJ0b29sdGlwIixhPSI0LjAuMC1hbHBoYS42IixjPSJicy50b29sdGlwIixmPSIuIitjLHY9dS5mbltoXSx5PTE1MCxwPSJicy10ZXRoZXIiLHc9e2FuaW1hdGlvbjohMCx0ZW1wbGF0ZTonPGRpdiBjbGFzcz0idG9vbHRpcCIgcm9sZT0idG9vbHRpcCI+PGRpdiBjbGFzcz0idG9vbHRpcC1pbm5lciI+PFwvZGl2PjxcL2Rpdj4nLHRyaWdnZXI6ImhvdmVyIGZvY3VzIix0aXRsZToiIixkZWxheTowLGh0bWw6ITEsc2VsZWN0b3I6ITEscGxhY2VtZW50OiJ0b3AiLG9mZnNldDoiMCAwIixjb25zdHJhaW50czpbXSxjb250YWluZXI6ITF9LGI9e2FuaW1hdGlvbjoiYm9vbGVhbiIsdGVtcGxhdGU6InN0cmluZyIsdGl0bGU6IihzdHJpbmd8ZWxlbWVudHxmdW5jdGlvbikiLHRyaWdnZXI6InN0cmluZyIsZGVsYXk6IihudW1iZXJ8b2JqZWN0KSIsaHRtbDoiYm9vbGVhbiIsc2VsZWN0b3I6IihzdHJpbmd8Ym9vbGVhbikiLHBsYWNlbWVudDoiKHN0cmluZ3xmdW5jdGlvbikiLG9mZnNldDoic3RyaW5nIixjb25zdHJhaW50czoiYXJyYXkiLGNvbnRhaW5lcjoiKHN0cmluZ3xlbGVtZW50fGJvb2xlYW4pIn0saz17VE9QOiJib3R0b20gY2VudGVyIixSSUdIVDoibWlkZGxlIGxlZnQiLEJPVFRPTToidG9wIGNlbnRlciIsTEVGVDoibWlkZGxlIHJpZ2h0In0scz17U0hPVzoic2hvdyIsT1VUOiJvdXQifSxkPXtISURFOiJoaWRlIitmLEhJRERFTjoiaGlkZGVuIitmLFNIT1c6InNob3ciK2YsU0hPV046InNob3duIitmLElOU0VSVEVEOiJpbnNlcnRlZCIrZixDTElDSzoiY2xpY2siK2YsRk9DVVNJTjoiZm9jdXNpbiIrZixGT0NVU09VVDoiZm9jdXNvdXQiK2YsTU9VU0VFTlRFUjoibW91c2VlbnRlciIrZixNT1VTRUxFQVZFOiJtb3VzZWxlYXZlIitmfSxvPXtGQURFOiJmYWRlIixTSE9XOiJzaG93In0sZz17VE9PTFRJUDoiLnRvb2x0aXAiLFRPT0xUSVBfSU5ORVI6Ii50b29sdGlwLWlubmVyIn0sbnQ9e2VsZW1lbnQ6ITEsZW5hYmxlZDohMX0sZT17SE9WRVI6ImhvdmVyIixGT0NVUzoiZm9jdXMiLENMSUNLOiJjbGljayIsTUFOVUFMOiJtYW51YWwifSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbChuLHQpe2kodGhpcyxsKTt0aGlzLl9pc0VuYWJsZWQ9ITA7dGhpcy5fdGltZW91dD0wO3RoaXMuX2hvdmVyU3RhdGU9IiI7dGhpcy5fYWN0aXZlVHJpZ2dlcj17fTt0aGlzLl9pc1RyYW5zaXRpb25pbmc9ITE7dGhpcy5fdGV0aGVyPW51bGw7dGhpcy5lbGVtZW50PW47dGhpcy5jb25maWc9dGhpcy5fZ2V0Q29uZmlnKHQpO3RoaXMudGlwPW51bGw7dGhpcy5fc2V0TGlzdGVuZXJzKCl9cmV0dXJuIGwucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3RoaXMuX2lzRW5hYmxlZD0hMH0sbC5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuX2lzRW5hYmxlZD0hMX0sbC5wcm90b3R5cGUudG9nZ2xlRW5hYmxlZD1mdW5jdGlvbigpe3RoaXMuX2lzRW5hYmxlZD0hdGhpcy5faXNFbmFibGVkfSxsLnByb3RvdHlwZS50b2dnbGU9ZnVuY3Rpb24obil7aWYobil7dmFyIGk9dGhpcy5jb25zdHJ1Y3Rvci5EQVRBX0tFWSx0PXUobi5jdXJyZW50VGFyZ2V0KS5kYXRhKGkpO3R8fCh0PW5ldyB0aGlzLmNvbnN0cnVjdG9yKG4uY3VycmVudFRhcmdldCx0aGlzLl9nZXREZWxlZ2F0ZUNvbmZpZygpKSx1KG4uY3VycmVudFRhcmdldCkuZGF0YShpLHQpKTt0Ll9hY3RpdmVUcmlnZ2VyLmNsaWNrPSF0Ll9hY3RpdmVUcmlnZ2VyLmNsaWNrO3QuX2lzV2l0aEFjdGl2ZVRyaWdnZXIoKT90Ll9lbnRlcihudWxsLHQpOnQuX2xlYXZlKG51bGwsdCl9ZWxzZXtpZih1KHRoaXMuZ2V0VGlwRWxlbWVudCgpKS5oYXNDbGFzcyhvLlNIT1cpKXt0aGlzLl9sZWF2ZShudWxsLHRoaXMpO3JldHVybn10aGlzLl9lbnRlcihudWxsLHRoaXMpfX0sbC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl90aW1lb3V0KTt0aGlzLmNsZWFudXBUZXRoZXIoKTt1LnJlbW92ZURhdGEodGhpcy5lbGVtZW50LHRoaXMuY29uc3RydWN0b3IuREFUQV9LRVkpO3UodGhpcy5lbGVtZW50KS5vZmYodGhpcy5jb25zdHJ1Y3Rvci5FVkVOVF9LRVkpO3UodGhpcy5lbGVtZW50KS5jbG9zZXN0KCIubW9kYWwiKS5vZmYoImhpZGUuYnMubW9kYWwiKTt0aGlzLnRpcCYmdSh0aGlzLnRpcCkucmVtb3ZlKCk7dGhpcy5faXNFbmFibGVkPW51bGw7dGhpcy5fdGltZW91dD1udWxsO3RoaXMuX2hvdmVyU3RhdGU9bnVsbDt0aGlzLl9hY3RpdmVUcmlnZ2VyPW51bGw7dGhpcy5fdGV0aGVyPW51bGw7dGhpcy5lbGVtZW50PW51bGw7dGhpcy5jb25maWc9bnVsbDt0aGlzLnRpcD1udWxsfSxsLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dmFyIGk9dGhpcyxyLGgsdCxmLGU7aWYodSh0aGlzLmVsZW1lbnQpLmNzcygiZGlzcGxheSIpPT09Im5vbmUiKXRocm93IG5ldyBFcnJvcigiUGxlYXNlIHVzZSBzaG93IG9uIHZpc2libGUgZWxlbWVudHMiKTtpZihyPXUuRXZlbnQodGhpcy5jb25zdHJ1Y3Rvci5FdmVudC5TSE9XKSx0aGlzLmlzV2l0aENvbnRlbnQoKSYmdGhpcy5faXNFbmFibGVkKXtpZih0aGlzLl9pc1RyYW5zaXRpb25pbmcpdGhyb3cgbmV3IEVycm9yKCJUb29sdGlwIGlzIHRyYW5zaXRpb25pbmciKTtpZih1KHRoaXMuZWxlbWVudCkudHJpZ2dlcihyKSxoPXUuY29udGFpbnModGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LHRoaXMuZWxlbWVudCksci5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8IWgpcmV0dXJuO3Q9dGhpcy5nZXRUaXBFbGVtZW50KCk7Zj1uLmdldFVJRCh0aGlzLmNvbnN0cnVjdG9yLk5BTUUpO3Quc2V0QXR0cmlidXRlKCJpZCIsZik7dGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgiYXJpYS1kZXNjcmliZWRieSIsZik7dGhpcy5zZXRDb250ZW50KCk7dGhpcy5jb25maWcuYW5pbWF0aW9uJiZ1KHQpLmFkZENsYXNzKG8uRkFERSk7dmFyIGM9dHlwZW9mIHRoaXMuY29uZmlnLnBsYWNlbWVudD09ImZ1bmN0aW9uIj90aGlzLmNvbmZpZy5wbGFjZW1lbnQuY2FsbCh0aGlzLHQsdGhpcy5lbGVtZW50KTp0aGlzLmNvbmZpZy5wbGFjZW1lbnQsYT10aGlzLl9nZXRBdHRhY2htZW50KGMpLHY9dGhpcy5jb25maWcuY29udGFpbmVyPT09ITE/ZG9jdW1lbnQuYm9keTp1KHRoaXMuY29uZmlnLmNvbnRhaW5lcik7aWYodSh0KS5kYXRhKHRoaXMuY29uc3RydWN0b3IuREFUQV9LRVksdGhpcykuYXBwZW5kVG8odiksdSh0aGlzLmVsZW1lbnQpLnRyaWdnZXIodGhpcy5jb25zdHJ1Y3Rvci5FdmVudC5JTlNFUlRFRCksdGhpcy5fdGV0aGVyPW5ldyBUZXRoZXIoe2F0dGFjaG1lbnQ6YSxlbGVtZW50OnQsdGFyZ2V0OnRoaXMuZWxlbWVudCxjbGFzc2VzOm50LGNsYXNzUHJlZml4OnAsb2Zmc2V0OnRoaXMuY29uZmlnLm9mZnNldCxjb25zdHJhaW50czp0aGlzLmNvbmZpZy5jb25zdHJhaW50cyxhZGRUYXJnZXRDbGFzc2VzOiExfSksbi5yZWZsb3codCksdGhpcy5fdGV0aGVyLnBvc2l0aW9uKCksdSh0KS5hZGRDbGFzcyhvLlNIT1cpLGU9ZnVuY3Rpb24oKXt2YXIgbj1pLl9ob3ZlclN0YXRlO2kuX2hvdmVyU3RhdGU9bnVsbDtpLl9pc1RyYW5zaXRpb25pbmc9ITE7dShpLmVsZW1lbnQpLnRyaWdnZXIoaS5jb25zdHJ1Y3Rvci5FdmVudC5TSE9XTik7bj09PXMuT1VUJiZpLl9sZWF2ZShudWxsLGkpfSxuLnN1cHBvcnRzVHJhbnNpdGlvbkVuZCgpJiZ1KHRoaXMudGlwKS5oYXNDbGFzcyhvLkZBREUpKXt0aGlzLl9pc1RyYW5zaXRpb25pbmc9ITA7dSh0aGlzLnRpcCkub25lKG4uVFJBTlNJVElPTl9FTkQsZSkuZW11bGF0ZVRyYW5zaXRpb25FbmQobC5fVFJBTlNJVElPTl9EVVJBVElPTik7cmV0dXJufWUoKX19LGwucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24odCl7dmFyIGk9dGhpcyxyPXRoaXMuZ2V0VGlwRWxlbWVudCgpLGg9dS5FdmVudCh0aGlzLmNvbnN0cnVjdG9yLkV2ZW50LkhJREUpLGY7aWYodGhpcy5faXNUcmFuc2l0aW9uaW5nKXRocm93IG5ldyBFcnJvcigiVG9vbHRpcCBpcyB0cmFuc2l0aW9uaW5nIik7KGY9ZnVuY3Rpb24oKXtpLl9ob3ZlclN0YXRlIT09cy5TSE9XJiZyLnBhcmVudE5vZGUmJnIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChyKTtpLmVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCJhcmlhLWRlc2NyaWJlZGJ5Iik7dShpLmVsZW1lbnQpLnRyaWdnZXIoaS5jb25zdHJ1Y3Rvci5FdmVudC5ISURERU4pO2kuX2lzVHJhbnNpdGlvbmluZz0hMTtpLmNsZWFudXBUZXRoZXIoKTt0JiZ0KCl9LHUodGhpcy5lbGVtZW50KS50cmlnZ2VyKGgpLGguaXNEZWZhdWx0UHJldmVudGVkKCkpfHwodShyKS5yZW1vdmVDbGFzcyhvLlNIT1cpLHRoaXMuX2FjdGl2ZVRyaWdnZXJbZS5DTElDS109ITEsdGhpcy5fYWN0aXZlVHJpZ2dlcltlLkZPQ1VTXT0hMSx0aGlzLl9hY3RpdmVUcmlnZ2VyW2UuSE9WRVJdPSExLG4uc3VwcG9ydHNUcmFuc2l0aW9uRW5kKCkmJnUodGhpcy50aXApLmhhc0NsYXNzKG8uRkFERSk/KHRoaXMuX2lzVHJhbnNpdGlvbmluZz0hMCx1KHIpLm9uZShuLlRSQU5TSVRJT05fRU5ELGYpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHkpKTpmKCksdGhpcy5faG92ZXJTdGF0ZT0iIil9LGwucHJvdG90eXBlLmlzV2l0aENvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbih0aGlzLmdldFRpdGxlKCkpfSxsLnByb3RvdHlwZS5nZXRUaXBFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGlwPXRoaXMudGlwfHx1KHRoaXMuY29uZmlnLnRlbXBsYXRlKVswXX0sbC5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbigpe3ZhciBuPXUodGhpcy5nZXRUaXBFbGVtZW50KCkpO3RoaXMuc2V0RWxlbWVudENvbnRlbnQobi5maW5kKGcuVE9PTFRJUF9JTk5FUiksdGhpcy5nZXRUaXRsZSgpKTtuLnJlbW92ZUNsYXNzKG8uRkFERSsiICIrby5TSE9XKTt0aGlzLmNsZWFudXBUZXRoZXIoKX0sbC5wcm90b3R5cGUuc2V0RWxlbWVudENvbnRlbnQ9ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLmNvbmZpZy5odG1sOyh0eXBlb2YgdD09InVuZGVmaW5lZCI/InVuZGVmaW5lZCI6cih0KSk9PT0ib2JqZWN0IiYmKHQubm9kZVR5cGV8fHQuanF1ZXJ5KT9pP3UodCkucGFyZW50KCkuaXMobil8fG4uZW1wdHkoKS5hcHBlbmQodCk6bi50ZXh0KHUodCkudGV4dCgpKTpuW2k/Imh0bWwiOiJ0ZXh0Il0odCl9LGwucHJvdG90eXBlLmdldFRpdGxlPWZ1bmN0aW9uKCl7dmFyIG49dGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgiZGF0YS1vcmlnaW5hbC10aXRsZSIpO3JldHVybiBufHwobj10eXBlb2YgdGhpcy5jb25maWcudGl0bGU9PSJmdW5jdGlvbiI/dGhpcy5jb25maWcudGl0bGUuY2FsbCh0aGlzLmVsZW1lbnQpOnRoaXMuY29uZmlnLnRpdGxlKSxufSxsLnByb3RvdHlwZS5jbGVhbnVwVGV0aGVyPWZ1bmN0aW9uKCl7dGhpcy5fdGV0aGVyJiZ0aGlzLl90ZXRoZXIuZGVzdHJveSgpfSxsLnByb3RvdHlwZS5fZ2V0QXR0YWNobWVudD1mdW5jdGlvbihuKXtyZXR1cm4ga1tuLnRvVXBwZXJDYXNlKCldfSxsLnByb3RvdHlwZS5fc2V0TGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIG49dGhpcyx0PXRoaXMuY29uZmlnLnRyaWdnZXIuc3BsaXQoIiAiKTt0LmZvckVhY2goZnVuY3Rpb24odCl7aWYodD09PSJjbGljayIpdShuLmVsZW1lbnQpLm9uKG4uY29uc3RydWN0b3IuRXZlbnQuQ0xJQ0ssbi5jb25maWcuc2VsZWN0b3IsZnVuY3Rpb24odCl7cmV0dXJuIG4udG9nZ2xlKHQpfSk7ZWxzZSBpZih0IT09ZS5NQU5VQUwpe3ZhciBpPXQ9PT1lLkhPVkVSP24uY29uc3RydWN0b3IuRXZlbnQuTU9VU0VFTlRFUjpuLmNvbnN0cnVjdG9yLkV2ZW50LkZPQ1VTSU4scj10PT09ZS5IT1ZFUj9uLmNvbnN0cnVjdG9yLkV2ZW50Lk1PVVNFTEVBVkU6bi5jb25zdHJ1Y3Rvci5FdmVudC5GT0NVU09VVDt1KG4uZWxlbWVudCkub24oaSxuLmNvbmZpZy5zZWxlY3RvcixmdW5jdGlvbih0KXtyZXR1cm4gbi5fZW50ZXIodCl9KS5vbihyLG4uY29uZmlnLnNlbGVjdG9yLGZ1bmN0aW9uKHQpe3JldHVybiBuLl9sZWF2ZSh0KX0pfXUobi5lbGVtZW50KS5jbG9zZXN0KCIubW9kYWwiKS5vbigiaGlkZS5icy5tb2RhbCIsZnVuY3Rpb24oKXtyZXR1cm4gbi5oaWRlKCl9KX0pO3RoaXMuY29uZmlnLnNlbGVjdG9yP3RoaXMuY29uZmlnPXUuZXh0ZW5kKHt9LHRoaXMuY29uZmlnLHt0cmlnZ2VyOiJtYW51YWwiLHNlbGVjdG9yOiIifSk6dGhpcy5fZml4VGl0bGUoKX0sbC5wcm90b3R5cGUuX2ZpeFRpdGxlPWZ1bmN0aW9uKCl7dmFyIG49cih0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCJkYXRhLW9yaWdpbmFsLXRpdGxlIikpOyh0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCJ0aXRsZSIpfHxuIT09InN0cmluZyIpJiYodGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgiZGF0YS1vcmlnaW5hbC10aXRsZSIsdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgidGl0bGUiKXx8IiIpLHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoInRpdGxlIiwiIikpfSxsLnByb3RvdHlwZS5fZW50ZXI9ZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZO2lmKHQ9dHx8dShuLmN1cnJlbnRUYXJnZXQpLmRhdGEoaSksdHx8KHQ9bmV3IHRoaXMuY29uc3RydWN0b3Iobi5jdXJyZW50VGFyZ2V0LHRoaXMuX2dldERlbGVnYXRlQ29uZmlnKCkpLHUobi5jdXJyZW50VGFyZ2V0KS5kYXRhKGksdCkpLG4mJih0Ll9hY3RpdmVUcmlnZ2VyW24udHlwZT09PSJmb2N1c2luIj9lLkZPQ1VTOmUuSE9WRVJdPSEwKSx1KHQuZ2V0VGlwRWxlbWVudCgpKS5oYXNDbGFzcyhvLlNIT1cpfHx0Ll9ob3ZlclN0YXRlPT09cy5TSE9XKXt0Ll9ob3ZlclN0YXRlPXMuU0hPVztyZXR1cm59aWYoY2xlYXJUaW1lb3V0KHQuX3RpbWVvdXQpLHQuX2hvdmVyU3RhdGU9cy5TSE9XLCF0LmNvbmZpZy5kZWxheXx8IXQuY29uZmlnLmRlbGF5LnNob3cpe3Quc2hvdygpO3JldHVybn10Ll90aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Ll9ob3ZlclN0YXRlPT09cy5TSE9XJiZ0LnNob3coKX0sdC5jb25maWcuZGVsYXkuc2hvdyl9LGwucHJvdG90eXBlLl9sZWF2ZT1mdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuY29uc3RydWN0b3IuREFUQV9LRVk7aWYodD10fHx1KG4uY3VycmVudFRhcmdldCkuZGF0YShpKSx0fHwodD1uZXcgdGhpcy5jb25zdHJ1Y3RvcihuLmN1cnJlbnRUYXJnZXQsdGhpcy5fZ2V0RGVsZWdhdGVDb25maWcoKSksdShuLmN1cnJlbnRUYXJnZXQpLmRhdGEoaSx0KSksbiYmKHQuX2FjdGl2ZVRyaWdnZXJbbi50eXBlPT09ImZvY3Vzb3V0Ij9lLkZPQ1VTOmUuSE9WRVJdPSExKSwhdC5faXNXaXRoQWN0aXZlVHJpZ2dlcigpKXtpZihjbGVhclRpbWVvdXQodC5fdGltZW91dCksdC5faG92ZXJTdGF0ZT1zLk9VVCwhdC5jb25maWcuZGVsYXl8fCF0LmNvbmZpZy5kZWxheS5oaWRlKXt0LmhpZGUoKTtyZXR1cm59dC5fdGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5faG92ZXJTdGF0ZT09PXMuT1VUJiZ0LmhpZGUoKX0sdC5jb25maWcuZGVsYXkuaGlkZSl9fSxsLnByb3RvdHlwZS5faXNXaXRoQWN0aXZlVHJpZ2dlcj1mdW5jdGlvbigpe2Zvcih2YXIgbiBpbiB0aGlzLl9hY3RpdmVUcmlnZ2VyKWlmKHRoaXMuX2FjdGl2ZVRyaWdnZXJbbl0pcmV0dXJuITA7cmV0dXJuITF9LGwucHJvdG90eXBlLl9nZXRDb25maWc9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dS5leHRlbmQoe30sdGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0LHUodGhpcy5lbGVtZW50KS5kYXRhKCksdCksdC5kZWxheSYmdHlwZW9mIHQuZGVsYXk9PSJudW1iZXIiJiYodC5kZWxheT17c2hvdzp0LmRlbGF5LGhpZGU6dC5kZWxheX0pLG4udHlwZUNoZWNrQ29uZmlnKGgsdCx0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHRUeXBlKSx0fSxsLnByb3RvdHlwZS5fZ2V0RGVsZWdhdGVDb25maWc9ZnVuY3Rpb24oKXt2YXIgdD17fSxuO2lmKHRoaXMuY29uZmlnKWZvcihuIGluIHRoaXMuY29uZmlnKXRoaXMuY29uc3RydWN0b3IuRGVmYXVsdFtuXSE9PXRoaXMuY29uZmlnW25dJiYodFtuXT10aGlzLmNvbmZpZ1tuXSk7cmV0dXJuIHR9LGwuX2pRdWVyeUludGVyZmFjZT1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9dSh0aGlzKS5kYXRhKGMpLGk9KHR5cGVvZiBuPT0idW5kZWZpbmVkIj8idW5kZWZpbmVkIjpyKG4pKT09PSJvYmplY3QiJiZuO2lmKCh0fHwhL2Rpc3Bvc2V8aGlkZS8udGVzdChuKSkmJih0fHwodD1uZXcgbCh0aGlzLGkpLHUodGhpcykuZGF0YShjLHQpKSx0eXBlb2Ygbj09InN0cmluZyIpKXtpZih0W25dPT09dW5kZWZpbmVkKXRocm93IG5ldyBFcnJvcignTm8gbWV0aG9kIG5hbWVkICInK24rJyInKTt0W25dKCl9fSl9LHQobCxudWxsLFt7a2V5OiJWRVJTSU9OIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYX19LHtrZXk6IkRlZmF1bHQiLGdldDpmdW5jdGlvbigpe3JldHVybiB3fX0se2tleToiTkFNRSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGh9fSx7a2V5OiJEQVRBX0tFWSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGN9fSx7a2V5OiJFdmVudCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGR9fSx7a2V5OiJFVkVOVF9LRVkiLGdldDpmdW5jdGlvbigpe3JldHVybiBmfX0se2tleToiRGVmYXVsdFR5cGUiLGdldDpmdW5jdGlvbigpe3JldHVybiBifX1dKSxsfSgpO3JldHVybiB1LmZuW2hdPWwuX2pRdWVyeUludGVyZmFjZSx1LmZuW2hdLkNvbnN0cnVjdG9yPWwsdS5mbltoXS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHUuZm5baF09dixsLl9qUXVlcnlJbnRlcmZhY2V9LGx9KGpRdWVyeSkscD1mdW5jdGlvbihuKXt2YXIgcz0icG9wb3ZlciIsdj0iNC4wLjAtYWxwaGEuNiIsaD0iYnMucG9wb3ZlciIsbz0iLiIraCx5PW4uZm5bc10scD1uLmV4dGVuZCh7fSx1LkRlZmF1bHQse3BsYWNlbWVudDoicmlnaHQiLHRyaWdnZXI6ImNsaWNrIixjb250ZW50OiIiLHRlbXBsYXRlOic8ZGl2IGNsYXNzPSJwb3BvdmVyIiByb2xlPSJ0b29sdGlwIj48aDMgY2xhc3M9InBvcG92ZXItdGl0bGUiPjxcL2gzPjxkaXYgY2xhc3M9InBvcG92ZXItY29udGVudCI+PFwvZGl2PjxcL2Rpdj4nfSksdz1uLmV4dGVuZCh7fSx1LkRlZmF1bHRUeXBlLHtjb250ZW50OiIoc3RyaW5nfGVsZW1lbnR8ZnVuY3Rpb24pIn0pLGw9e0ZBREU6ImZhZGUiLFNIT1c6InNob3cifSxhPXtUSVRMRToiLnBvcG92ZXItdGl0bGUiLENPTlRFTlQ6Ii5wb3BvdmVyLWNvbnRlbnQifSxiPXtISURFOiJoaWRlIitvLEhJRERFTjoiaGlkZGVuIitvLFNIT1c6InNob3ciK28sU0hPV046InNob3duIitvLElOU0VSVEVEOiJpbnNlcnRlZCIrbyxDTElDSzoiY2xpY2siK28sRk9DVVNJTjoiZm9jdXNpbiIrbyxGT0NVU09VVDoiZm9jdXNvdXQiK28sTU9VU0VFTlRFUjoibW91c2VlbnRlciIrbyxNT1VTRUxFQVZFOiJtb3VzZWxlYXZlIitvfSxjPWZ1bmN0aW9uKHUpe2Z1bmN0aW9uIGMoKXtyZXR1cm4gaSh0aGlzLGMpLGYodGhpcyx1LmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIGUoYyx1KSxjLnByb3RvdHlwZS5pc1dpdGhDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VGl0bGUoKXx8dGhpcy5fZ2V0Q29udGVudCgpfSxjLnByb3RvdHlwZS5nZXRUaXBFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGlwPXRoaXMudGlwfHxuKHRoaXMuY29uZmlnLnRlbXBsYXRlKVswXX0sYy5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbigpe3ZhciB0PW4odGhpcy5nZXRUaXBFbGVtZW50KCkpO3RoaXMuc2V0RWxlbWVudENvbnRlbnQodC5maW5kKGEuVElUTEUpLHRoaXMuZ2V0VGl0bGUoKSk7dGhpcy5zZXRFbGVtZW50Q29udGVudCh0LmZpbmQoYS5DT05URU5UKSx0aGlzLl9nZXRDb250ZW50KCkpO3QucmVtb3ZlQ2xhc3MobC5GQURFKyIgIitsLlNIT1cpO3RoaXMuY2xlYW51cFRldGhlcigpfSxjLnByb3RvdHlwZS5fZ2V0Q29udGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCJkYXRhLWNvbnRlbnQiKXx8KHR5cGVvZiB0aGlzLmNvbmZpZy5jb250ZW50PT0iZnVuY3Rpb24iP3RoaXMuY29uZmlnLmNvbnRlbnQuY2FsbCh0aGlzLmVsZW1lbnQpOnRoaXMuY29uZmlnLmNvbnRlbnQpfSxjLl9qUXVlcnlJbnRlcmZhY2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpPW4odGhpcykuZGF0YShoKSx1PSh0eXBlb2YgdD09InVuZGVmaW5lZCI/InVuZGVmaW5lZCI6cih0KSk9PT0ib2JqZWN0Ij90Om51bGw7aWYoKGl8fCEvZGVzdHJveXxoaWRlLy50ZXN0KHQpKSYmKGl8fChpPW5ldyBjKHRoaXMsdSksbih0aGlzKS5kYXRhKGgsaSkpLHR5cGVvZiB0PT0ic3RyaW5nIikpe2lmKGlbdF09PT11bmRlZmluZWQpdGhyb3cgbmV3IEVycm9yKCdObyBtZXRob2QgbmFtZWQgIicrdCsnIicpO2lbdF0oKX19KX0sdChjLG51bGwsW3trZXk6IlZFUlNJT04iLGdldDpmdW5jdGlvbigpe3JldHVybiB2fX0se2tleToiRGVmYXVsdCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHB9fSx7a2V5OiJOQU1FIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gc319LHtrZXk6IkRBVEFfS0VZIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaH19LHtrZXk6IkV2ZW50IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYn19LHtrZXk6IkVWRU5UX0tFWSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG99fSx7a2V5OiJEZWZhdWx0VHlwZSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHd9fV0pLGN9KHUpO3JldHVybiBuLmZuW3NdPWMuX2pRdWVyeUludGVyZmFjZSxuLmZuW3NdLkNvbnN0cnVjdG9yPWMsbi5mbltzXS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIG4uZm5bc109eSxjLl9qUXVlcnlJbnRlcmZhY2V9LGN9KGpRdWVyeSl9KCk7Ci8qISBtYXRjaE1lZGlhKCkgcG9seWZpbGwgLSBUZXN0IGEgQ1NTIG1lZGlhIHR5cGUvcXVlcnkgaW4gSlMuIEF1dGhvcnMgJiBjb3B5cmlnaHQgKGMpIDIwMTI6IFNjb3R0IEplaGwsIFBhdWwgSXJpc2gsIE5pY2hvbGFzIFpha2FzLiBEdWFsIE1JVC9CU0QgbGljZW5zZSAqLwovKiEgTk9URTogSWYgeW91J3JlIGFscmVhZHkgaW5jbHVkaW5nIGEgd2luZG93Lm1hdGNoTWVkaWEgcG9seWZpbGwgdmlhIE1vZGVybml6ciBvciBvdGhlcndpc2UsIHlvdSBkb24ndCBuZWVkIHRoaXMgcGFydCAqLwp3aW5kb3cubWF0Y2hNZWRpYT13aW5kb3cubWF0Y2hNZWRpYXx8ZnVuY3Rpb24obil7dmFyIHUsaT1uLmRvY3VtZW50RWxlbWVudCxmPWkuZmlyc3RFbGVtZW50Q2hpbGR8fGkuZmlyc3RDaGlsZCxyPW4uY3JlYXRlRWxlbWVudCgiYm9keSIpLHQ9bi5jcmVhdGVFbGVtZW50KCJkaXYiKTtyZXR1cm4gdC5pZD0ibXEtdGVzdC0xIix0LnN0eWxlLmNzc1RleHQ9InBvc2l0aW9uOmFic29sdXRlO3RvcDotMTAwZW0iLHIuc3R5bGUuYmFja2dyb3VuZD0ibm9uZSIsci5hcHBlbmRDaGlsZCh0KSxmdW5jdGlvbihuKXtyZXR1cm4gdC5pbm5lckhUTUw9JyZzaHk7PHN0eWxlIG1lZGlhPSInK24rJyI+ICNtcS10ZXN0LTEgeyB3aWR0aDogNDJweDsgfTxcL3N0eWxlPicsaS5pbnNlcnRCZWZvcmUocixmKSx1PXQub2Zmc2V0V2lkdGg9PTQyLGkucmVtb3ZlQ2hpbGQocikse21hdGNoZXM6dSxtZWRpYTpufX19KGRvY3VtZW50KTsKLyohIFJlc3BvbmQuanMgdjEuMi4wOiBtaW4vbWF4LXdpZHRoIG1lZGlhIHF1ZXJ5IHBvbHlmaWxsLiAoYykgU2NvdHQgSmVobC4gTUlUL0dQTHYyIExpYy4gai5tcC9yZXNwb25kanMgICovCihmdW5jdGlvbihuKXtmdW5jdGlvbiBkKCl7YSghMCl9aWYobi5yZXNwb25kPXt9LHJlc3BvbmQudXBkYXRlPWZ1bmN0aW9uKCl7fSxyZXNwb25kLm1lZGlhUXVlcmllc1N1cHBvcnRlZD1uLm1hdGNoTWVkaWEmJm4ubWF0Y2hNZWRpYSgib25seSBhbGwiKS5tYXRjaGVzLCFyZXNwb25kLm1lZGlhUXVlcmllc1N1cHBvcnRlZCl7dmFyIHQ9bi5kb2N1bWVudCxpPXQuZG9jdW1lbnRFbGVtZW50LGU9W10sdT1bXSxyPVtdLG89e30sdj0zMCxmPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXXx8aSxnPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJhc2UiKVswXSxzPWYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImxpbmsiKSxoPVtdLHk9ZnVuY3Rpb24oKXtmb3IodmFyIGY9cyxjPWYubGVuZ3RoLHI9MCx0LGksdSxlO3I8YztyKyspdD1mW3JdLGk9dC5ocmVmLHU9dC5tZWRpYSxlPXQucmVsJiZ0LnJlbC50b0xvd2VyQ2FzZSgpPT09InN0eWxlc2hlZXQiLCFpfHwhZXx8b1tpXXx8KHQuc3R5bGVTaGVldCYmdC5zdHlsZVNoZWV0LnJhd0Nzc1RleHQ/KHcodC5zdHlsZVNoZWV0LnJhd0Nzc1RleHQsaSx1KSxvW2ldPSEwKTooL14oW2EtekEtWjpdKlwvXC8pLy50ZXN0KGkpfHxnKSYmaS5yZXBsYWNlKFJlZ0V4cC4kMSwiIikuc3BsaXQoIi8iKVswXSE9PW4ubG9jYXRpb24uaG9zdHx8aC5wdXNoKHtocmVmOmksbWVkaWE6dX0pKTtwKCl9LHA9ZnVuY3Rpb24oKXtpZihoLmxlbmd0aCl7dmFyIG49aC5zaGlmdCgpO250KG4uaHJlZixmdW5jdGlvbih0KXt3KHQsbi5ocmVmLG4ubWVkaWEpO29bbi5ocmVmXT0hMDtwKCl9KX19LHc9ZnVuY3Rpb24obix0LGkpe3ZhciBvPW4ubWF0Y2goL0BtZWRpYVteXHtdK1x7KFteXHtcfV0qXHtbXlx9XHtdKlx9KSsvZ2kpLHM9byYmby5sZW5ndGh8fDAsdD10LnN1YnN0cmluZygwLHQubGFzdEluZGV4T2YoIi8iKSksdj1mdW5jdGlvbihuKXtyZXR1cm4gbi5yZXBsYWNlKC8odXJsXCgpWyciXT8oW15cL1wpJyJdW146XCknIl0rKVsnIl0/KFwpKS9nLCIkMSIrdCsiJDIkMyIpfSx5PSFzJiZpLGg9MCxmLGMscixsLHA7Zm9yKHQubGVuZ3RoJiYodCs9Ii8iKSx5JiYocz0xKTtoPHM7aCsrKWZvcihmPTAseT8oYz1pLHUucHVzaCh2KG4pKSk6KGM9b1toXS5tYXRjaCgvQG1lZGlhICooW15ce10rKVx7KFtcU1xzXSs/KSQvKSYmUmVnRXhwLiQxLHUucHVzaChSZWdFeHAuJDImJnYoUmVnRXhwLiQyKSkpLGw9Yy5zcGxpdCgiLCIpLHA9bC5sZW5ndGg7ZjxwO2YrKylyPWxbZl0sZS5wdXNoKHttZWRpYTpyLnNwbGl0KCIoIilbMF0ubWF0Y2goLyhvbmx5XHMrKT8oW2EtekEtWl0rKVxzPy8pJiZSZWdFeHAuJDJ8fCJhbGwiLHJ1bGVzOnUubGVuZ3RoLTEsaGFzcXVlcnk6ci5pbmRleE9mKCIoIik+LTEsbWludzpyLm1hdGNoKC9cKG1pblwtd2lkdGg6W1xzXSooW1xzXSpbMC05XC5dKykocHh8ZW0pW1xzXSpcKS8pJiZwYXJzZUZsb2F0KFJlZ0V4cC4kMSkrKFJlZ0V4cC4kMnx8IiIpLG1heHc6ci5tYXRjaCgvXChtYXhcLXdpZHRoOltcc10qKFtcc10qWzAtOVwuXSspKHB4fGVtKVtcc10qXCkvKSYmcGFyc2VGbG9hdChSZWdFeHAuJDEpKyhSZWdFeHAuJDJ8fCIiKX0pO2EoKX0sYyxiLGs9ZnVuY3Rpb24oKXt2YXIgdSxyPXQuY3JlYXRlRWxlbWVudCgiZGl2Iiksbj10LmJvZHksZj0hMTtyZXR1cm4gci5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjphYnNvbHV0ZTtmb250LXNpemU6MWVtO3dpZHRoOjFlbSIsbnx8KG49Zj10LmNyZWF0ZUVsZW1lbnQoImJvZHkiKSxuLnN0eWxlLmJhY2tncm91bmQ9Im5vbmUiKSxuLmFwcGVuZENoaWxkKHIpLGkuaW5zZXJ0QmVmb3JlKG4saS5maXJzdENoaWxkKSx1PXIub2Zmc2V0V2lkdGgsZj9pLnJlbW92ZUNoaWxkKG4pOm4ucmVtb3ZlQ2hpbGQociksbD1wYXJzZUZsb2F0KHUpfSxsLGE9ZnVuY3Rpb24obil7dmFyIG50PSJjbGllbnRXaWR0aCIsdHQ9aVtudF0saXQ9dC5jb21wYXRNb2RlPT09IkNTUzFDb21wYXQiJiZ0dHx8dC5ib2R5W250XXx8dHQsZD17fSxvdD1zW3MubGVuZ3RoLTFdLHJ0PShuZXcgRGF0ZSkuZ2V0VGltZSgpLG8saCxnO2lmKG4mJmMmJnJ0LWM8dil7Y2xlYXJUaW1lb3V0KGIpO2I9c2V0VGltZW91dChhLHYpO3JldHVybn1jPXJ0O2ZvcihvIGluIGUpe3ZhciB5PWVbb10scD15Lm1pbncsdz15Lm1heHcsdXQ9cD09PW51bGwsZnQ9dz09PW51bGwsZXQ9ImVtIjshcHx8KHA9cGFyc2VGbG9hdChwKSoocC5pbmRleE9mKGV0KT4tMT9sfHxrKCk6MSkpOyF3fHwodz1wYXJzZUZsb2F0KHcpKih3LmluZGV4T2YoZXQpPi0xP2x8fGsoKToxKSk7eS5oYXNxdWVyeSYmKHV0JiZmdHx8ISh1dHx8aXQ+PXApfHwhKGZ0fHxpdDw9dykpfHwoZFt5Lm1lZGlhXXx8KGRbeS5tZWRpYV09W10pLGRbeS5tZWRpYV0ucHVzaCh1W3kucnVsZXNdKSl9Zm9yKG8gaW4gcilyW29dJiZyW29dLnBhcmVudE5vZGU9PT1mJiZmLnJlbW92ZUNoaWxkKHJbb10pO2ZvcihvIGluIGQpaD10LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksZz1kW29dLmpvaW4oIlxuIiksaC50eXBlPSJ0ZXh0L2NzcyIsaC5tZWRpYT1vLGYuaW5zZXJ0QmVmb3JlKGgsb3QubmV4dFNpYmxpbmcpLGguc3R5bGVTaGVldD9oLnN0eWxlU2hlZXQuY3NzVGV4dD1nOmguYXBwZW5kQ2hpbGQodC5jcmVhdGVUZXh0Tm9kZShnKSksci5wdXNoKGgpfSxudD1mdW5jdGlvbihuLHQpe3ZhciBpPXR0KCk7aSYmKGkub3BlbigiR0VUIixuLCEwKSxpLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2kucmVhZHlTdGF0ZT09NCYmKGkuc3RhdHVzPT0yMDB8fGkuc3RhdHVzPT0zMDQpJiZ0KGkucmVzcG9uc2VUZXh0KX0saS5yZWFkeVN0YXRlIT00KSYmaS5zZW5kKG51bGwpfSx0dD1mdW5jdGlvbigpe3ZhciBuPSExO3RyeXtuPW5ldyBYTUxIdHRwUmVxdWVzdH1jYXRjaCh0KXtuPW5ldyBBY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MSFRUUCIpfXJldHVybiBmdW5jdGlvbigpe3JldHVybiBufX0oKTt5KCk7cmVzcG9uZC51cGRhdGU9eTtuLmFkZEV2ZW50TGlzdGVuZXI/bi5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLGQsITEpOm4uYXR0YWNoRXZlbnQmJm4uYXR0YWNoRXZlbnQoIm9ucmVzaXplIixkKX19KSh0aGlzKTsKLyohCiAqIGZhbmN5Qm94IC0galF1ZXJ5IFBsdWdpbgogKiB2ZXJzaW9uOiAyLjEuNSAoRnJpLCAxNCBKdW4gMjAxMykKICogQHJlcXVpcmVzIGpRdWVyeSB2MS42IG9yIGxhdGVyCiAqCiAqIEV4YW1wbGVzIGF0IGh0dHA6Ly9mYW5jeWFwcHMuY29tL2ZhbmN5Ym94LwogKiBMaWNlbnNlOiB3d3cuZmFuY3lhcHBzLmNvbS9mYW5jeWJveC8jbGljZW5zZQogKgogKiBDb3B5cmlnaHQgMjAxMiBKYW5pcyBTa2FybmVsaXMgLSBqYW5pc0BmYW5jeWFwcHMuY29tCiAqCiAqLwooZnVuY3Rpb24obix0LGkscil7InVzZSBzdHJpY3QiO3ZhciBwPWkoImh0bWwiKSxlPWkobiksbz1pKHQpLHU9aS5mYW5jeWJveD1mdW5jdGlvbigpe3Uub3Blbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHk9bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvbXNpZS9pKSx2PW51bGwscz10LmNyZWF0ZVRvdWNoIT09cixhPWZ1bmN0aW9uKG4pe3JldHVybiBuJiZuLmhhc093blByb3BlcnR5JiZuIGluc3RhbmNlb2YgaX0sYz1mdW5jdGlvbihuKXtyZXR1cm4gbiYmaS50eXBlKG4pPT09InN0cmluZyJ9LGw9ZnVuY3Rpb24obil7cmV0dXJuIGMobikmJm4uaW5kZXhPZigiJSIpPjB9LHc9ZnVuY3Rpb24obil7cmV0dXJuIG4mJiEobi5zdHlsZS5vdmVyZmxvdyYmbi5zdHlsZS5vdmVyZmxvdz09PSJoaWRkZW4iKSYmKG4uY2xpZW50V2lkdGgmJm4uc2Nyb2xsV2lkdGg+bi5jbGllbnRXaWR0aHx8bi5jbGllbnRIZWlnaHQmJm4uc2Nyb2xsSGVpZ2h0Pm4uY2xpZW50SGVpZ2h0KX0sZj1mdW5jdGlvbihuLHQpe3ZhciBpPXBhcnNlSW50KG4sMTApfHwwO3JldHVybiB0JiZsKG4pJiYoaT11LmdldFZpZXdwb3J0KClbdF0vMTAwKmkpLE1hdGguY2VpbChpKX0saD1mdW5jdGlvbihuLHQpe3JldHVybiBmKG4sdCkrInB4In07aS5leHRlbmQodSx7dmVyc2lvbjoiMi4xLjUiLGRlZmF1bHRzOntwYWRkaW5nOjE1LG1hcmdpbjoyMCx3aWR0aDo4MDAsaGVpZ2h0OjYwMCxtaW5XaWR0aDoxMDAsbWluSGVpZ2h0OjEwMCxtYXhXaWR0aDo5OTk5LG1heEhlaWdodDo5OTk5LHBpeGVsUmF0aW86MSxhdXRvU2l6ZTohMCxhdXRvSGVpZ2h0OiExLGF1dG9XaWR0aDohMSxhdXRvUmVzaXplOiEwLGF1dG9DZW50ZXI6IXMsZml0VG9WaWV3OiEwLGFzcGVjdFJhdGlvOiExLHRvcFJhdGlvOi41LGxlZnRSYXRpbzouNSxzY3JvbGxpbmc6ImF1dG8iLHdyYXBDU1M6IiIsYXJyb3dzOiEwLGNsb3NlQnRuOiEwLGNsb3NlQ2xpY2s6ITEsbmV4dENsaWNrOiExLG1vdXNlV2hlZWw6ITAsYXV0b1BsYXk6ITEscGxheVNwZWVkOjNlMyxwcmVsb2FkOjMsbW9kYWw6ITEsbG9vcDohMCxhamF4OntkYXRhVHlwZToiaHRtbCIsaGVhZGVyczp7IlgtZmFuY3lCb3giOiEwfX0saWZyYW1lOntzY3JvbGxpbmc6ImF1dG8iLHByZWxvYWQ6ITB9LHN3Zjp7d21vZGU6InRyYW5zcGFyZW50IixhbGxvd2Z1bGxzY3JlZW46InRydWUiLGFsbG93c2NyaXB0YWNjZXNzOiJhbHdheXMifSxrZXlzOntuZXh0OnsxMzoibGVmdCIsMzQ6InVwIiwzOToibGVmdCIsNDA6InVwIn0scHJldjp7ODoicmlnaHQiLDMzOiJkb3duIiwzNzoicmlnaHQiLDM4OiJkb3duIn0sY2xvc2U6WzI3XSxwbGF5OlszMl0sdG9nZ2xlOls3MF19LGRpcmVjdGlvbjp7bmV4dDoibGVmdCIscHJldjoicmlnaHQifSxzY3JvbGxPdXRzaWRlOiEwLGluZGV4OjAsdHlwZTpudWxsLGhyZWY6bnVsbCxjb250ZW50Om51bGwsdGl0bGU6bnVsbCx0cGw6e3dyYXA6JzxkaXYgY2xhc3M9ImZhbmN5Ym94LXdyYXAiIHRhYkluZGV4PSItMSI+PGRpdiBjbGFzcz0iZmFuY3lib3gtc2tpbiI+PGRpdiBjbGFzcz0iZmFuY3lib3gtb3V0ZXIiPjxkaXYgY2xhc3M9ImZhbmN5Ym94LWlubmVyIj48XC9kaXY+PFwvZGl2PjxcL2Rpdj48XC9kaXY+JyxpbWFnZTonPGltZyBjbGFzcz0iZmFuY3lib3gtaW1hZ2UiIHNyYz0ie2hyZWZ9IiBhbHQ9IiIgLz4nLGlmcmFtZTonPGlmcmFtZSBpZD0iZmFuY3lib3gtZnJhbWV7cm5kfSIgbmFtZT0iZmFuY3lib3gtZnJhbWV7cm5kfSIgY2xhc3M9ImZhbmN5Ym94LWlmcmFtZSIgZnJhbWVib3JkZXI9IjAiIHZzcGFjZT0iMCIgaHNwYWNlPSIwIiB3ZWJraXRBbGxvd0Z1bGxTY3JlZW4gbW96YWxsb3dmdWxsc2NyZWVuIGFsbG93RnVsbFNjcmVlbicrKHk/JyBhbGxvd3RyYW5zcGFyZW5jeT0idHJ1ZSInOiIiKSsiPjxcL2lmcmFtZT4iLGVycm9yOic8cCBjbGFzcz0iZmFuY3lib3gtZXJyb3IiPlRoZSByZXF1ZXN0ZWQgY29udGVudCBjYW5ub3QgYmUgbG9hZGVkLjxici8+UGxlYXNlIHRyeSBhZ2FpbiBsYXRlci48XC9wPicsY2xvc2VCdG46JzxhIHRpdGxlPSJDbG9zZSIgY2xhc3M9ImZhbmN5Ym94LWl0ZW0gZmFuY3lib3gtY2xvc2UiIGhyZWY9ImphdmFzY3JpcHQ6OyI+PFwvYT4nLG5leHQ6JzxhIHRpdGxlPSJOZXh0IiBjbGFzcz0iZmFuY3lib3gtbmF2IGZhbmN5Ym94LW5leHQiIGhyZWY9ImphdmFzY3JpcHQ6OyI+PHNwYW4+PFwvc3Bhbj48XC9hPicscHJldjonPGEgdGl0bGU9IlByZXZpb3VzIiBjbGFzcz0iZmFuY3lib3gtbmF2IGZhbmN5Ym94LXByZXYiIGhyZWY9ImphdmFzY3JpcHQ6OyI+PHNwYW4+PFwvc3Bhbj48XC9hPid9LG9wZW5FZmZlY3Q6ImZhZGUiLG9wZW5TcGVlZDoyNTAsb3BlbkVhc2luZzoic3dpbmciLG9wZW5PcGFjaXR5OiEwLG9wZW5NZXRob2Q6Inpvb21JbiIsY2xvc2VFZmZlY3Q6ImZhZGUiLGNsb3NlU3BlZWQ6MjUwLGNsb3NlRWFzaW5nOiJzd2luZyIsY2xvc2VPcGFjaXR5OiEwLGNsb3NlTWV0aG9kOiJ6b29tT3V0IixuZXh0RWZmZWN0OiJlbGFzdGljIixuZXh0U3BlZWQ6MjUwLG5leHRFYXNpbmc6InN3aW5nIixuZXh0TWV0aG9kOiJjaGFuZ2VJbiIscHJldkVmZmVjdDoiZWxhc3RpYyIscHJldlNwZWVkOjI1MCxwcmV2RWFzaW5nOiJzd2luZyIscHJldk1ldGhvZDoiY2hhbmdlT3V0IixoZWxwZXJzOntvdmVybGF5OiEwLHRpdGxlOiEwfSxvbkNhbmNlbDppLm5vb3AsYmVmb3JlTG9hZDppLm5vb3AsYWZ0ZXJMb2FkOmkubm9vcCxiZWZvcmVTaG93Omkubm9vcCxhZnRlclNob3c6aS5ub29wLGJlZm9yZUNoYW5nZTppLm5vb3AsYmVmb3JlQ2xvc2U6aS5ub29wLGFmdGVyQ2xvc2U6aS5ub29wfSxncm91cDp7fSxvcHRzOnt9LHByZXZpb3VzOm51bGwsY29taW5nOm51bGwsY3VycmVudDpudWxsLGlzQWN0aXZlOiExLGlzT3BlbjohMSxpc09wZW5lZDohMSx3cmFwOm51bGwsc2tpbjpudWxsLG91dGVyOm51bGwsaW5uZXI6bnVsbCxwbGF5ZXI6e3RpbWVyOm51bGwsaXNBY3RpdmU6ITF9LGFqYXhMb2FkOm51bGwsaW1nUHJlbG9hZDpudWxsLHRyYW5zaXRpb25zOnt9LGhlbHBlcnM6e30sb3BlbjpmdW5jdGlvbihuLHQpe2lmKG4pcmV0dXJuKGkuaXNQbGFpbk9iamVjdCh0KXx8KHQ9e30pLCExPT09dS5jbG9zZSghMCkpP3ZvaWQgMDooaS5pc0FycmF5KG4pfHwobj1hKG4pP2kobikuZ2V0KCk6W25dKSxpLmVhY2gobixmdW5jdGlvbihmLGUpe3ZhciBoPXt9LHMscCxsLG8sdix5LHc7aS50eXBlKGUpPT09Im9iamVjdCImJihlLm5vZGVUeXBlJiYoZT1pKGUpKSxhKGUpPyhoPXtocmVmOmUuZGF0YSgiZmFuY3lib3gtaHJlZiIpfHxlLmF0dHIoImhyZWYiKSx0aXRsZTplLmRhdGEoImZhbmN5Ym94LXRpdGxlIil8fGUuYXR0cigidGl0bGUiKSxpc0RvbTohMCxlbGVtZW50OmV9LGkubWV0YWRhdGEmJmkuZXh0ZW5kKCEwLGgsZS5tZXRhZGF0YSgpKSk6aD1lKTtzPXQuaHJlZnx8aC5ocmVmfHwoYyhlKT9lOm51bGwpO3A9dC50aXRsZSE9PXI/dC50aXRsZTpoLnRpdGxlfHwiIjtsPXQuY29udGVudHx8aC5jb250ZW50O289bD8iaHRtbCI6dC50eXBlfHxoLnR5cGU7IW8mJmguaXNEb20mJihvPWUuZGF0YSgiZmFuY3lib3gtdHlwZSIpLG98fCh2PWUucHJvcCgiY2xhc3MiKS5tYXRjaCgvZmFuY3lib3hcLihcdyspLyksbz12P3ZbMV06bnVsbCkpO2MocykmJihvfHwodS5pc0ltYWdlKHMpP289ImltYWdlIjp1LmlzU1dGKHMpP289InN3ZiI6cy5jaGFyQXQoMCk9PT0iIyI/bz0iaW5saW5lIjpjKGUpJiYobz0iaHRtbCIsbD1lKSksbz09PSJhamF4IiYmKHk9cy5zcGxpdCgvXHMrLywyKSxzPXkuc2hpZnQoKSx3PXkuc2hpZnQoKSkpO2x8fChvPT09ImlubGluZSI/cz9sPWkoYyhzKT9zLnJlcGxhY2UoLy4qKD89I1teXHNdKyQpLywiIik6cyk6aC5pc0RvbSYmKGw9ZSk6bz09PSJodG1sIj9sPXM6b3x8c3x8IWguaXNEb218fChvPSJpbmxpbmUiLGw9ZSkpO2kuZXh0ZW5kKGgse2hyZWY6cyx0eXBlOm8sY29udGVudDpsLHRpdGxlOnAsc2VsZWN0b3I6d30pO25bZl09aH0pLHUub3B0cz1pLmV4dGVuZCghMCx7fSx1LmRlZmF1bHRzLHQpLHQua2V5cyE9PXImJih1Lm9wdHMua2V5cz10LmtleXM/aS5leHRlbmQoe30sdS5kZWZhdWx0cy5rZXlzLHQua2V5cyk6ITEpLHUuZ3JvdXA9bix1Ll9zdGFydCh1Lm9wdHMuaW5kZXgpKX0sY2FuY2VsOmZ1bmN0aW9uKCl7dmFyIG49dS5jb21pbmc7biYmITEhPT11LnRyaWdnZXIoIm9uQ2FuY2VsIikmJih1LmhpZGVMb2FkaW5nKCksdS5hamF4TG9hZCYmdS5hamF4TG9hZC5hYm9ydCgpLHUuYWpheExvYWQ9bnVsbCx1LmltZ1ByZWxvYWQmJih1LmltZ1ByZWxvYWQub25sb2FkPXUuaW1nUHJlbG9hZC5vbmVycm9yPW51bGwpLG4ud3JhcCYmbi53cmFwLnN0b3AoITAsITApLnRyaWdnZXIoIm9uUmVzZXQiKS5yZW1vdmUoKSx1LmNvbWluZz1udWxsLHUuY3VycmVudHx8dS5fYWZ0ZXJab29tT3V0KG4pKX0sY2xvc2U6ZnVuY3Rpb24obil7KHUuY2FuY2VsKCksITEhPT11LnRyaWdnZXIoImJlZm9yZUNsb3NlIikpJiYodS51bmJpbmRFdmVudHMoKSx1LmlzQWN0aXZlKSYmKHUuaXNPcGVuJiZuIT09ITA/KHUuaXNPcGVuPXUuaXNPcGVuZWQ9ITEsdS5pc0Nsb3Npbmc9ITAsaSgiLmZhbmN5Ym94LWl0ZW0sIC5mYW5jeWJveC1uYXYiKS5yZW1vdmUoKSx1LndyYXAuc3RvcCghMCwhMCkucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LW9wZW5lZCIpLHUudHJhbnNpdGlvbnNbdS5jdXJyZW50LmNsb3NlTWV0aG9kXSgpKTooaSgiLmZhbmN5Ym94LXdyYXAiKS5zdG9wKCEwKS50cmlnZ2VyKCJvblJlc2V0IikucmVtb3ZlKCksdS5fYWZ0ZXJab29tT3V0KCkpKX0scGxheTpmdW5jdGlvbihuKXt2YXIgdD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh1LnBsYXllci50aW1lcil9LGk9ZnVuY3Rpb24oKXt0KCk7dS5jdXJyZW50JiZ1LnBsYXllci5pc0FjdGl2ZSYmKHUucGxheWVyLnRpbWVyPXNldFRpbWVvdXQodS5uZXh0LHUuY3VycmVudC5wbGF5U3BlZWQpKX0scj1mdW5jdGlvbigpe3QoKTtvLnVuYmluZCgiLnBsYXllciIpO3UucGxheWVyLmlzQWN0aXZlPSExO3UudHJpZ2dlcigib25QbGF5RW5kIil9LGY9ZnVuY3Rpb24oKXt1LmN1cnJlbnQmJih1LmN1cnJlbnQubG9vcHx8dS5jdXJyZW50LmluZGV4PHUuZ3JvdXAubGVuZ3RoLTEpJiYodS5wbGF5ZXIuaXNBY3RpdmU9ITAsby5iaW5kKHsib25DYW5jZWwucGxheWVyIGJlZm9yZUNsb3NlLnBsYXllciI6ciwib25VcGRhdGUucGxheWVyIjppLCJiZWZvcmVMb2FkLnBsYXllciI6dH0pLGkoKSx1LnRyaWdnZXIoIm9uUGxheVN0YXJ0IikpfTtuIT09ITAmJih1LnBsYXllci5pc0FjdGl2ZXx8bj09PSExKT9yKCk6ZigpfSxuZXh0OmZ1bmN0aW9uKG4pe3ZhciB0PXUuY3VycmVudDt0JiYoYyhuKXx8KG49dC5kaXJlY3Rpb24ubmV4dCksdS5qdW1wdG8odC5pbmRleCsxLG4sIm5leHQiKSl9LHByZXY6ZnVuY3Rpb24obil7dmFyIHQ9dS5jdXJyZW50O3QmJihjKG4pfHwobj10LmRpcmVjdGlvbi5wcmV2KSx1Lmp1bXB0byh0LmluZGV4LTEsbiwicHJldiIpKX0sanVtcHRvOmZ1bmN0aW9uKG4sdCxpKXt2YXIgZT11LmN1cnJlbnQ7ZSYmKG49ZihuKSx1LmRpcmVjdGlvbj10fHxlLmRpcmVjdGlvbltuPj1lLmluZGV4PyJuZXh0IjoicHJldiJdLHUucm91dGVyPWl8fCJqdW1wdG8iLGUubG9vcCYmKG48MCYmKG49ZS5ncm91cC5sZW5ndGgrbiVlLmdyb3VwLmxlbmd0aCksbj1uJWUuZ3JvdXAubGVuZ3RoKSxlLmdyb3VwW25dIT09ciYmKHUuY2FuY2VsKCksdS5fc3RhcnQobikpKX0scmVwb3NpdGlvbjpmdW5jdGlvbihuLHQpe3ZhciBmPXUuY3VycmVudCxlPWY/Zi53cmFwOm51bGwscjtlJiYocj11Ll9nZXRQb3NpdGlvbih0KSxuJiZuLnR5cGU9PT0ic2Nyb2xsIj8oZGVsZXRlIHIucG9zaXRpb24sZS5zdG9wKCEwLCEwKS5hbmltYXRlKHIsMjAwKSk6KGUuY3NzKHIpLGYucG9zPWkuZXh0ZW5kKHt9LGYuZGltLHIpKSl9LHVwZGF0ZTpmdW5jdGlvbihuKXt2YXIgdD1uJiZuLnR5cGUsaT0hdHx8dD09PSJvcmllbnRhdGlvbmNoYW5nZSI7KGkmJihjbGVhclRpbWVvdXQodiksdj1udWxsKSx1LmlzT3BlbiYmIXYpJiYodj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIHI9dS5jdXJyZW50O3ImJiF1LmlzQ2xvc2luZyYmKHUud3JhcC5yZW1vdmVDbGFzcygiZmFuY3lib3gtdG1wIiksKGl8fHQ9PT0ibG9hZCJ8fHQ9PT0icmVzaXplIiYmci5hdXRvUmVzaXplKSYmdS5fc2V0RGltZW5zaW9uKCksdD09PSJzY3JvbGwiJiZyLmNhblNocmlua3x8dS5yZXBvc2l0aW9uKG4pLHUudHJpZ2dlcigib25VcGRhdGUiKSx2PW51bGwpfSxpJiYhcz8wOjMwMCkpfSx0b2dnbGU6ZnVuY3Rpb24obil7dS5pc09wZW4mJih1LmN1cnJlbnQuZml0VG9WaWV3PWkudHlwZShuKT09PSJib29sZWFuIj9uOiF1LmN1cnJlbnQuZml0VG9WaWV3LHMmJih1LndyYXAucmVtb3ZlQXR0cigic3R5bGUiKS5hZGRDbGFzcygiZmFuY3lib3gtdG1wIiksdS50cmlnZ2VyKCJvblVwZGF0ZSIpKSx1LnVwZGF0ZSgpKX0saGlkZUxvYWRpbmc6ZnVuY3Rpb24oKXtvLnVuYmluZCgiLmxvYWRpbmciKTtpKCIjZmFuY3lib3gtbG9hZGluZyIpLnJlbW92ZSgpfSxzaG93TG9hZGluZzpmdW5jdGlvbigpe3ZhciB0LG47dS5oaWRlTG9hZGluZygpO3Q9aSgnPGRpdiBpZD0iZmFuY3lib3gtbG9hZGluZyI+PGRpdj48XC9kaXY+PFwvZGl2PicpLmNsaWNrKHUuY2FuY2VsKS5hcHBlbmRUbygiYm9keSIpO28uYmluZCgia2V5ZG93bi5sb2FkaW5nIixmdW5jdGlvbihuKXsobi53aGljaHx8bi5rZXlDb2RlKT09PTI3JiYobi5wcmV2ZW50RGVmYXVsdCgpLHUuY2FuY2VsKCkpfSk7dS5kZWZhdWx0cy5maXhlZHx8KG49dS5nZXRWaWV3cG9ydCgpLHQuY3NzKHtwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDpuLmgqLjUrbi55LGxlZnQ6bi53Ki41K24ueH0pKX0sZ2V0Vmlld3BvcnQ6ZnVuY3Rpb24oKXt2YXIgaT11LmN1cnJlbnQmJnUuY3VycmVudC5sb2NrZWR8fCExLHQ9e3g6ZS5zY3JvbGxMZWZ0KCkseTplLnNjcm9sbFRvcCgpfTtyZXR1cm4gaT8odC53PWlbMF0uY2xpZW50V2lkdGgsdC5oPWlbMF0uY2xpZW50SGVpZ2h0KToodC53PXMmJm4uaW5uZXJXaWR0aD9uLmlubmVyV2lkdGg6ZS53aWR0aCgpLHQuaD1zJiZuLmlubmVySGVpZ2h0P24uaW5uZXJIZWlnaHQ6ZS5oZWlnaHQoKSksdH0sdW5iaW5kRXZlbnRzOmZ1bmN0aW9uKCl7dS53cmFwJiZhKHUud3JhcCkmJnUud3JhcC51bmJpbmQoIi5mYiIpO28udW5iaW5kKCIuZmIiKTtlLnVuYmluZCgiLmZiIil9LGJpbmRFdmVudHM6ZnVuY3Rpb24oKXt2YXIgbj11LmN1cnJlbnQsdDtuJiYoZS5iaW5kKCJvcmllbnRhdGlvbmNoYW5nZS5mYiIrKHM/IiI6IiByZXNpemUuZmIiKSsobi5hdXRvQ2VudGVyJiYhbi5sb2NrZWQ/IiBzY3JvbGwuZmIiOiIiKSx1LnVwZGF0ZSksdD1uLmtleXMsdCYmby5iaW5kKCJrZXlkb3duLmZiIixmdW5jdGlvbihmKXt2YXIgZT1mLndoaWNofHxmLmtleUNvZGUsbz1mLnRhcmdldHx8Zi5zcmNFbGVtZW50O2lmKGU9PT0yNyYmdS5jb21pbmcpcmV0dXJuITE7Zi5jdHJsS2V5fHxmLmFsdEtleXx8Zi5zaGlmdEtleXx8Zi5tZXRhS2V5fHxvJiYoby50eXBlfHxpKG8pLmlzKCJbY29udGVudGVkaXRhYmxlXSIpKXx8aS5lYWNoKHQsZnVuY3Rpb24odCxvKXtyZXR1cm4gbi5ncm91cC5sZW5ndGg+MSYmb1tlXSE9PXI/KHVbdF0ob1tlXSksZi5wcmV2ZW50RGVmYXVsdCgpLCExKTppLmluQXJyYXkoZSxvKT4tMT8odVt0XSgpLGYucHJldmVudERlZmF1bHQoKSwhMSk6dm9pZCAwfSl9KSxpLmZuLm1vdXNld2hlZWwmJm4ubW91c2VXaGVlbCYmdS53cmFwLmJpbmQoIm1vdXNld2hlZWwuZmIiLGZ1bmN0aW9uKHQscixmLGUpe2Zvcih2YXIgaD10LnRhcmdldHx8bnVsbCxvPWkoaCkscz0hMTtvLmxlbmd0aDspe2lmKHN8fG8uaXMoIi5mYW5jeWJveC1za2luIil8fG8uaXMoIi5mYW5jeWJveC13cmFwIikpYnJlYWs7cz13KG9bMF0pO289aShvKS5wYXJlbnQoKX1yPT09MHx8c3x8dS5ncm91cC5sZW5ndGg+MSYmIW4uY2FuU2hyaW5rJiYoZT4wfHxmPjA/dS5wcmV2KGU+MD8iZG93biI6ImxlZnQiKTooZTwwfHxmPDApJiZ1Lm5leHQoZTwwPyJ1cCI6InJpZ2h0IiksdC5wcmV2ZW50RGVmYXVsdCgpKX0pKX0sdHJpZ2dlcjpmdW5jdGlvbihuLHQpe3ZhciBmLHI9dHx8dS5jb21pbmd8fHUuY3VycmVudDtpZihyKXtpZihpLmlzRnVuY3Rpb24ocltuXSkmJihmPXJbbl0uYXBwbHkocixBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpKSxmPT09ITEpcmV0dXJuITE7ci5oZWxwZXJzJiZpLmVhY2goci5oZWxwZXJzLGZ1bmN0aW9uKHQsZil7ZiYmdS5oZWxwZXJzW3RdJiZpLmlzRnVuY3Rpb24odS5oZWxwZXJzW3RdW25dKSYmdS5oZWxwZXJzW3RdW25dKGkuZXh0ZW5kKCEwLHt9LHUuaGVscGVyc1t0XS5kZWZhdWx0cyxmKSxyKX0pO28udHJpZ2dlcihuKX19LGlzSW1hZ2U6ZnVuY3Rpb24obil7cmV0dXJuIGMobikmJm4ubWF0Y2goLyheZGF0YTppbWFnZVwvLiosKXwoXC4oanAoZXxnfGVnKXxnaWZ8cG5nfGJtcHx3ZWJwfHN2ZykoKFw/fCMpLiopPyQpL2kpfSxpc1NXRjpmdW5jdGlvbihuKXtyZXR1cm4gYyhuKSYmbi5tYXRjaCgvXC4oc3dmKSgoXD98IykuKik/JC9pKX0sX3N0YXJ0OmZ1bmN0aW9uKG4pe3ZhciB0PXt9LGMsbCxyLGUsbztpZihuPWYobiksYz11Lmdyb3VwW25dfHxudWxsLCFjKXJldHVybiExO2lmKHQ9aS5leHRlbmQoITAse30sdS5vcHRzLGMpLGU9dC5tYXJnaW4sbz10LnBhZGRpbmcsaS50eXBlKGUpPT09Im51bWJlciImJih0Lm1hcmdpbj1bZSxlLGUsZV0pLGkudHlwZShvKT09PSJudW1iZXIiJiYodC5wYWRkaW5nPVtvLG8sbyxvXSksdC5tb2RhbCYmaS5leHRlbmQoITAsdCx7Y2xvc2VCdG46ITEsY2xvc2VDbGljazohMSxuZXh0Q2xpY2s6ITEsYXJyb3dzOiExLG1vdXNlV2hlZWw6ITEsa2V5czpudWxsLGhlbHBlcnM6e292ZXJsYXk6e2Nsb3NlQ2xpY2s6ITF9fX0pLHQuYXV0b1NpemUmJih0LmF1dG9XaWR0aD10LmF1dG9IZWlnaHQ9ITApLHQud2lkdGg9PT0iYXV0byImJih0LmF1dG9XaWR0aD0hMCksdC5oZWlnaHQ9PT0iYXV0byImJih0LmF1dG9IZWlnaHQ9ITApLHQuZ3JvdXA9dS5ncm91cCx0LmluZGV4PW4sdS5jb21pbmc9dCwhMT09PXUudHJpZ2dlcigiYmVmb3JlTG9hZCIpKXt1LmNvbWluZz1udWxsO3JldHVybn1pZihyPXQudHlwZSxsPXQuaHJlZiwhcilyZXR1cm4odS5jb21pbmc9bnVsbCx1LmN1cnJlbnQmJnUucm91dGVyJiZ1LnJvdXRlciE9PSJqdW1wdG8iKT8odS5jdXJyZW50LmluZGV4PW4sdVt1LnJvdXRlcl0odS5kaXJlY3Rpb24pKTohMTtpZih1LmlzQWN0aXZlPSEwLChyPT09ImltYWdlInx8cj09PSJzd2YiKSYmKHQuYXV0b0hlaWdodD10LmF1dG9XaWR0aD0hMSx0LnNjcm9sbGluZz0idmlzaWJsZSIpLHI9PT0iaW1hZ2UiJiYodC5hc3BlY3RSYXRpbz0hMCkscj09PSJpZnJhbWUiJiZzJiYodC5zY3JvbGxpbmc9InNjcm9sbCIpLHQud3JhcD1pKHQudHBsLndyYXApLmFkZENsYXNzKCJmYW5jeWJveC0iKyhzPyJtb2JpbGUiOiJkZXNrdG9wIikrIiBmYW5jeWJveC10eXBlLSIrcisiIGZhbmN5Ym94LXRtcCAiK3Qud3JhcENTUykuYXBwZW5kVG8odC5wYXJlbnR8fCJib2R5IiksaS5leHRlbmQodCx7c2tpbjppKCIuZmFuY3lib3gtc2tpbiIsdC53cmFwKSxvdXRlcjppKCIuZmFuY3lib3gtb3V0ZXIiLHQud3JhcCksaW5uZXI6aSgiLmZhbmN5Ym94LWlubmVyIix0LndyYXApfSksaS5lYWNoKFsiVG9wIiwiUmlnaHQiLCJCb3R0b20iLCJMZWZ0Il0sZnVuY3Rpb24obixpKXt0LnNraW4uY3NzKCJwYWRkaW5nIitpLGgodC5wYWRkaW5nW25dKSl9KSx1LnRyaWdnZXIoIm9uUmVhZHkiKSxyPT09ImlubGluZSJ8fHI9PT0iaHRtbCIpe2lmKCF0LmNvbnRlbnR8fCF0LmNvbnRlbnQubGVuZ3RoKXJldHVybiB1Ll9lcnJvcigiY29udGVudCIpfWVsc2UgaWYoIWwpcmV0dXJuIHUuX2Vycm9yKCJocmVmIik7cj09PSJpbWFnZSI/dS5fbG9hZEltYWdlKCk6cj09PSJhamF4Ij91Ll9sb2FkQWpheCgpOnI9PT0iaWZyYW1lIj91Ll9sb2FkSWZyYW1lKCk6dS5fYWZ0ZXJMb2FkKCl9LF9lcnJvcjpmdW5jdGlvbihuKXtpLmV4dGVuZCh1LmNvbWluZyx7dHlwZToiaHRtbCIsYXV0b1dpZHRoOiEwLGF1dG9IZWlnaHQ6ITAsbWluV2lkdGg6MCxtaW5IZWlnaHQ6MCxzY3JvbGxpbmc6Im5vIixoYXNFcnJvcjpuLGNvbnRlbnQ6dS5jb21pbmcudHBsLmVycm9yfSk7dS5fYWZ0ZXJMb2FkKCl9LF9sb2FkSW1hZ2U6ZnVuY3Rpb24oKXt2YXIgbj11LmltZ1ByZWxvYWQ9bmV3IEltYWdlO24ub25sb2FkPWZ1bmN0aW9uKCl7dGhpcy5vbmxvYWQ9dGhpcy5vbmVycm9yPW51bGw7dS5jb21pbmcud2lkdGg9dGhpcy53aWR0aC91Lm9wdHMucGl4ZWxSYXRpbzt1LmNvbWluZy5oZWlnaHQ9dGhpcy5oZWlnaHQvdS5vcHRzLnBpeGVsUmF0aW87dS5fYWZ0ZXJMb2FkKCl9O24ub25lcnJvcj1mdW5jdGlvbigpe3RoaXMub25sb2FkPXRoaXMub25lcnJvcj1udWxsO3UuX2Vycm9yKCJpbWFnZSIpfTtuLnNyYz11LmNvbWluZy5ocmVmO24uY29tcGxldGUhPT0hMCYmdS5zaG93TG9hZGluZygpfSxfbG9hZEFqYXg6ZnVuY3Rpb24oKXt2YXIgbj11LmNvbWluZzt1LnNob3dMb2FkaW5nKCk7dS5hamF4TG9hZD1pLmFqYXgoaS5leHRlbmQoe30sbi5hamF4LHt1cmw6bi5ocmVmLGVycm9yOmZ1bmN0aW9uKG4sdCl7dS5jb21pbmcmJnQhPT0iYWJvcnQiP3UuX2Vycm9yKCJhamF4IixuKTp1LmhpZGVMb2FkaW5nKCl9LHN1Y2Nlc3M6ZnVuY3Rpb24odCxpKXtpPT09InN1Y2Nlc3MiJiYobi5jb250ZW50PXQsdS5fYWZ0ZXJMb2FkKCkpfX0pKX0sX2xvYWRJZnJhbWU6ZnVuY3Rpb24oKXt2YXIgbj11LmNvbWluZyx0PWkobi50cGwuaWZyYW1lLnJlcGxhY2UoL1x7cm5kXH0vZywobmV3IERhdGUpLmdldFRpbWUoKSkpLmF0dHIoInNjcm9sbGluZyIscz8iYXV0byI6bi5pZnJhbWUuc2Nyb2xsaW5nKS5hdHRyKCJzcmMiLG4uaHJlZik7aWYoaShuLndyYXApLmJpbmQoIm9uUmVzZXQiLGZ1bmN0aW9uKCl7dHJ5e2kodGhpcykuZmluZCgiaWZyYW1lIikuaGlkZSgpLmF0dHIoInNyYyIsIi8vYWJvdXQ6YmxhbmsiKS5lbmQoKS5lbXB0eSgpfWNhdGNoKG4pe319KSxuLmlmcmFtZS5wcmVsb2FkKXt1LnNob3dMb2FkaW5nKCk7dC5vbmUoImxvYWQiLGZ1bmN0aW9uKCl7aSh0aGlzKS5kYXRhKCJyZWFkeSIsMSk7c3x8aSh0aGlzKS5iaW5kKCJsb2FkLmZiIix1LnVwZGF0ZSk7aSh0aGlzKS5wYXJlbnRzKCIuZmFuY3lib3gtd3JhcCIpLndpZHRoKCIxMDAlIikucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LXRtcCIpLnNob3coKTt1Ll9hZnRlckxvYWQoKX0pfW4uY29udGVudD10LmFwcGVuZFRvKG4uaW5uZXIpO24uaWZyYW1lLnByZWxvYWR8fHUuX2FmdGVyTG9hZCgpfSxfcHJlbG9hZEltYWdlczpmdW5jdGlvbigpe2Zvcih2YXIgcj11Lmdyb3VwLGk9dS5jdXJyZW50LGY9ci5sZW5ndGgsZT1pLnByZWxvYWQ/TWF0aC5taW4oaS5wcmVsb2FkLGYtMSk6MCxuLHQ9MTt0PD1lO3QrPTEpbj1yWyhpLmluZGV4K3QpJWZdLG4udHlwZT09PSJpbWFnZSImJm4uaHJlZiYmKChuZXcgSW1hZ2UpLnNyYz1uLmhyZWYpfSxfYWZ0ZXJMb2FkOmZ1bmN0aW9uKCl7dmFyIHI9dS5jb21pbmcsZj11LmN1cnJlbnQsZT0iZmFuY3lib3gtcGxhY2Vob2xkZXIiLHQsbixjLG8scyxoO2lmKHUuaGlkZUxvYWRpbmcoKSxyJiZ1LmlzQWN0aXZlIT09ITEpe2lmKCExPT09dS50cmlnZ2VyKCJhZnRlckxvYWQiLHIsZikpe3Iud3JhcC5zdG9wKCEwKS50cmlnZ2VyKCJvblJlc2V0IikucmVtb3ZlKCk7dS5jb21pbmc9bnVsbDtyZXR1cm59ZiYmKHUudHJpZ2dlcigiYmVmb3JlQ2hhbmdlIixmKSxmLndyYXAuc3RvcCghMCkucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LW9wZW5lZCIpLmZpbmQoIi5mYW5jeWJveC1pdGVtLCAuZmFuY3lib3gtbmF2IikucmVtb3ZlKCkpO3UudW5iaW5kRXZlbnRzKCk7dD1yO249ci5jb250ZW50O2M9ci50eXBlO289ci5zY3JvbGxpbmc7aS5leHRlbmQodSx7d3JhcDp0LndyYXAsc2tpbjp0LnNraW4sb3V0ZXI6dC5vdXRlcixpbm5lcjp0LmlubmVyLGN1cnJlbnQ6dCxwcmV2aW91czpmfSk7cz10LmhyZWY7c3dpdGNoKGMpe2Nhc2UiaW5saW5lIjpjYXNlImFqYXgiOmNhc2UiaHRtbCI6dC5zZWxlY3Rvcj9uPWkoIjxkaXY+IikuaHRtbChuKS5maW5kKHQuc2VsZWN0b3IpOmEobikmJihuLmRhdGEoZSl8fG4uZGF0YShlLGkoJzxkaXYgY2xhc3M9IicrZSsnIj48XC9kaXY+JykuaW5zZXJ0QWZ0ZXIobikuaGlkZSgpKSxuPW4uc2hvdygpLmRldGFjaCgpLHQud3JhcC5iaW5kKCJvblJlc2V0IixmdW5jdGlvbigpe2kodGhpcykuZmluZChuKS5sZW5ndGgmJm4uaGlkZSgpLnJlcGxhY2VBbGwobi5kYXRhKGUpKS5kYXRhKGUsITEpfSkpO2JyZWFrO2Nhc2UiaW1hZ2UiOm49dC50cGwuaW1hZ2UucmVwbGFjZSgie2hyZWZ9IixzKTticmVhaztjYXNlInN3ZiI6bj0nPG9iamVjdCBpZD0iZmFuY3lib3gtc3dmIiBjbGFzc2lkPSJjbHNpZDpEMjdDREI2RS1BRTZELTExY2YtOTZCOC00NDQ1NTM1NDAwMDAiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiPjxwYXJhbSBuYW1lPSJtb3ZpZSIgdmFsdWU9IicrcysnIj48XC9wYXJhbT4nO2g9IiI7aS5lYWNoKHQuc3dmLGZ1bmN0aW9uKHQsaSl7bis9JzxwYXJhbSBuYW1lPSInK3QrJyIgdmFsdWU9IicraSsnIj48XC9wYXJhbT4nO2grPSIgIit0Kyc9IicraSsnIid9KTtuKz0nPGVtYmVkIHNyYz0iJytzKyciIHR5cGU9ImFwcGxpY2F0aW9uL3gtc2hvY2t3YXZlLWZsYXNoIiB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIicraCsiPjxcL2VtYmVkPjxcL29iamVjdD4ifWEobikmJm4ucGFyZW50KCkuaXModC5pbm5lcil8fHQuaW5uZXIuYXBwZW5kKG4pO3UudHJpZ2dlcigiYmVmb3JlU2hvdyIpO3QuaW5uZXIuY3NzKCJvdmVyZmxvdyIsbz09PSJ5ZXMiPyJzY3JvbGwiOm89PT0ibm8iPyJoaWRkZW4iOm8pO3UuX3NldERpbWVuc2lvbigpO3UucmVwb3NpdGlvbigpO3UuaXNPcGVuPSExO3UuY29taW5nPW51bGw7dS5iaW5kRXZlbnRzKCk7dS5pc09wZW5lZD9mLnByZXZNZXRob2QmJnUudHJhbnNpdGlvbnNbZi5wcmV2TWV0aG9kXSgpOmkoIi5mYW5jeWJveC13cmFwIikubm90KHQud3JhcCkuc3RvcCghMCkudHJpZ2dlcigib25SZXNldCIpLnJlbW92ZSgpO3UudHJhbnNpdGlvbnNbdS5pc09wZW5lZD90Lm5leHRNZXRob2Q6dC5vcGVuTWV0aG9kXSgpO3UuX3ByZWxvYWRJbWFnZXMoKX19LF9zZXREaW1lbnNpb246ZnVuY3Rpb24oKXt2YXIgbnQ9dS5nZXRWaWV3cG9ydCgpLHd0PTAsdnQ9ITEsc3Q9ITEsdj11LndyYXAsaz11LnNraW4sZT11LmlubmVyLHI9dS5jdXJyZW50LG49ci53aWR0aCx0PXIuaGVpZ2h0LG89ci5taW5XaWR0aCxzPXIubWluSGVpZ2h0LGM9ci5tYXhXaWR0aCxhPXIubWF4SGVpZ2h0LGJ0PXIuc2Nyb2xsaW5nLGZ0PXIuc2Nyb2xsT3V0c2lkZT9yLnNjcm9sbGJhcldpZHRoOjAsZXQ9ci5tYXJnaW4seXQ9ZihldFsxXStldFszXSkscHQ9ZihldFswXStldFsyXSksZCxodCx0dCxpdCxwLHksY3QsbHQsdyxnLGIscnQsb3QsdXQsYXQ7aWYodi5hZGQoaykuYWRkKGUpLndpZHRoKCJhdXRvIikuaGVpZ2h0KCJhdXRvIikucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LXRtcCIpLGQ9ZihrLm91dGVyV2lkdGgoITApLWsud2lkdGgoKSksaHQ9ZihrLm91dGVySGVpZ2h0KCEwKS1rLmhlaWdodCgpKSx0dD15dCtkLGl0PXB0K2h0LHA9bChuKT8obnQudy10dCkqZihuKS8xMDA6bix5PWwodCk/KG50LmgtaXQpKmYodCkvMTAwOnQsci50eXBlPT09ImlmcmFtZSIpe2lmKHV0PXIuY29udGVudCxyLmF1dG9IZWlnaHQmJnV0LmRhdGEoInJlYWR5Iik9PT0xKXRyeXt1dFswXS5jb250ZW50V2luZG93LmRvY3VtZW50LmxvY2F0aW9uJiYoZS53aWR0aChwKS5oZWlnaHQoOTk5OSksYXQ9dXQuY29udGVudHMoKS5maW5kKCJib2R5IiksZnQmJmF0LmNzcygib3ZlcmZsb3cteCIsImhpZGRlbiIpLHk9YXQub3V0ZXJIZWlnaHQoITApKX1jYXRjaChrdCl7fX1lbHNlKHIuYXV0b1dpZHRofHxyLmF1dG9IZWlnaHQpJiYoZS5hZGRDbGFzcygiZmFuY3lib3gtdG1wIiksci5hdXRvV2lkdGh8fGUud2lkdGgocCksci5hdXRvSGVpZ2h0fHxlLmhlaWdodCh5KSxyLmF1dG9XaWR0aCYmKHA9ZS53aWR0aCgpKSxyLmF1dG9IZWlnaHQmJih5PWUuaGVpZ2h0KCkpLGUucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LXRtcCIpKTtpZihuPWYocCksdD1mKHkpLHc9cC95LG89ZihsKG8pP2YobywidyIpLXR0Om8pLGM9ZihsKGMpP2YoYywidyIpLXR0OmMpLHM9ZihsKHMpP2YocywiaCIpLWl0OnMpLGE9ZihsKGEpP2YoYSwiaCIpLWl0OmEpLGN0PWMsbHQ9YSxyLmZpdFRvVmlldyYmKGM9TWF0aC5taW4obnQudy10dCxjKSxhPU1hdGgubWluKG50LmgtaXQsYSkpLHJ0PW50LncteXQsb3Q9bnQuaC1wdCxyLmFzcGVjdFJhdGlvPyhuPmMmJihuPWMsdD1mKG4vdykpLHQ+YSYmKHQ9YSxuPWYodCp3KSksbjxvJiYobj1vLHQ9ZihuL3cpKSx0PHMmJih0PXMsbj1mKHQqdykpKToobj1NYXRoLm1heChvLE1hdGgubWluKG4sYykpLHIuYXV0b0hlaWdodCYmci50eXBlIT09ImlmcmFtZSImJihlLndpZHRoKG4pLHQ9ZS5oZWlnaHQoKSksdD1NYXRoLm1heChzLE1hdGgubWluKHQsYSkpKSxyLmZpdFRvVmlldylpZihlLndpZHRoKG4pLmhlaWdodCh0KSx2LndpZHRoKG4rZCksZz12LndpZHRoKCksYj12LmhlaWdodCgpLHIuYXNwZWN0UmF0aW8pd2hpbGUoKGc+cnR8fGI+b3QpJiZuPm8mJnQ+cyl7aWYod3QrKz4xOSlicmVhazt0PU1hdGgubWF4KHMsTWF0aC5taW4oYSx0LTEwKSk7bj1mKHQqdyk7bjxvJiYobj1vLHQ9ZihuL3cpKTtuPmMmJihuPWMsdD1mKG4vdykpO2Uud2lkdGgobikuaGVpZ2h0KHQpO3Yud2lkdGgobitkKTtnPXYud2lkdGgoKTtiPXYuaGVpZ2h0KCl9ZWxzZSBuPU1hdGgubWF4KG8sTWF0aC5taW4obixuLShnLXJ0KSkpLHQ9TWF0aC5tYXgocyxNYXRoLm1pbih0LHQtKGItb3QpKSk7ZnQmJmJ0PT09ImF1dG8iJiZ0PHkmJm4rZCtmdDxydCYmKG4rPWZ0KTtlLndpZHRoKG4pLmhlaWdodCh0KTt2LndpZHRoKG4rZCk7Zz12LndpZHRoKCk7Yj12LmhlaWdodCgpO3Z0PShnPnJ0fHxiPm90KSYmbj5vJiZ0PnM7c3Q9ci5hc3BlY3RSYXRpbz9uPGN0JiZ0PGx0JiZuPHAmJnQ8eToobjxjdHx8dDxsdCkmJihuPHB8fHQ8eSk7aS5leHRlbmQocix7ZGltOnt3aWR0aDpoKGcpLGhlaWdodDpoKGIpfSxvcmlnV2lkdGg6cCxvcmlnSGVpZ2h0OnksY2FuU2hyaW5rOnZ0LGNhbkV4cGFuZDpzdCx3UGFkZGluZzpkLGhQYWRkaW5nOmh0LHdyYXBTcGFjZTpiLWsub3V0ZXJIZWlnaHQoITApLHNraW5TcGFjZTprLmhlaWdodCgpLXR9KTshdXQmJnIuYXV0b0hlaWdodCYmdD5zJiZ0PGEmJiFzdCYmZS5oZWlnaHQoImF1dG8iKX0sX2dldFBvc2l0aW9uOmZ1bmN0aW9uKG4pe3ZhciBpPXUuY3VycmVudCxyPXUuZ2V0Vmlld3BvcnQoKSxmPWkubWFyZ2luLGU9dS53cmFwLndpZHRoKCkrZlsxXStmWzNdLG89dS53cmFwLmhlaWdodCgpK2ZbMF0rZlsyXSx0PXtwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDpmWzBdLGxlZnQ6ZlszXX07cmV0dXJuIGkuYXV0b0NlbnRlciYmaS5maXhlZCYmIW4mJm88PXIuaCYmZTw9ci53P3QucG9zaXRpb249ImZpeGVkIjppLmxvY2tlZHx8KHQudG9wKz1yLnksdC5sZWZ0Kz1yLngpLHQudG9wPWgoTWF0aC5tYXgodC50b3AsdC50b3ArKHIuaC1vKSppLnRvcFJhdGlvKSksdC5sZWZ0PWgoTWF0aC5tYXgodC5sZWZ0LHQubGVmdCsoci53LWUpKmkubGVmdFJhdGlvKSksdH0sX2FmdGVyWm9vbUluOmZ1bmN0aW9uKCl7dmFyIG49dS5jdXJyZW50O24mJih1LmlzT3Blbj11LmlzT3BlbmVkPSEwLHUud3JhcC5jc3MoIm92ZXJmbG93IiwidmlzaWJsZSIpLmFkZENsYXNzKCJmYW5jeWJveC1vcGVuZWQiKSx1LnVwZGF0ZSgpLChuLmNsb3NlQ2xpY2t8fG4ubmV4dENsaWNrJiZ1Lmdyb3VwLmxlbmd0aD4xKSYmdS5pbm5lci5jc3MoImN1cnNvciIsInBvaW50ZXIiKS5iaW5kKCJjbGljay5mYiIsZnVuY3Rpb24odCl7aSh0LnRhcmdldCkuaXMoImEiKXx8aSh0LnRhcmdldCkucGFyZW50KCkuaXMoImEiKXx8KHQucHJldmVudERlZmF1bHQoKSx1W24uY2xvc2VDbGljaz8iY2xvc2UiOiJuZXh0Il0oKSl9KSxuLmNsb3NlQnRuJiZpKG4udHBsLmNsb3NlQnRuKS5hcHBlbmRUbyh1LnNraW4pLmJpbmQoImNsaWNrLmZiIixmdW5jdGlvbihuKXtuLnByZXZlbnREZWZhdWx0KCk7dS5jbG9zZSgpfSksbi5hcnJvd3MmJnUuZ3JvdXAubGVuZ3RoPjEmJigobi5sb29wfHxuLmluZGV4PjApJiZpKG4udHBsLnByZXYpLmFwcGVuZFRvKHUub3V0ZXIpLmJpbmQoImNsaWNrLmZiIix1LnByZXYpLChuLmxvb3B8fG4uaW5kZXg8dS5ncm91cC5sZW5ndGgtMSkmJmkobi50cGwubmV4dCkuYXBwZW5kVG8odS5vdXRlcikuYmluZCgiY2xpY2suZmIiLHUubmV4dCkpLHUudHJpZ2dlcigiYWZ0ZXJTaG93Iiksbi5sb29wfHxuLmluZGV4IT09bi5ncm91cC5sZW5ndGgtMT91Lm9wdHMuYXV0b1BsYXkmJiF1LnBsYXllci5pc0FjdGl2ZSYmKHUub3B0cy5hdXRvUGxheT0hMSx1LnBsYXkoKSk6dS5wbGF5KCExKSl9LF9hZnRlclpvb21PdXQ6ZnVuY3Rpb24obil7bj1ufHx1LmN1cnJlbnQ7aSgiLmZhbmN5Ym94LXdyYXAiKS50cmlnZ2VyKCJvblJlc2V0IikucmVtb3ZlKCk7aS5leHRlbmQodSx7Z3JvdXA6e30sb3B0czp7fSxyb3V0ZXI6ITEsY3VycmVudDpudWxsLGlzQWN0aXZlOiExLGlzT3BlbmVkOiExLGlzT3BlbjohMSxpc0Nsb3Npbmc6ITEsd3JhcDpudWxsLHNraW46bnVsbCxvdXRlcjpudWxsLGlubmVyOm51bGx9KTt1LnRyaWdnZXIoImFmdGVyQ2xvc2UiLG4pfX0pO3UudHJhbnNpdGlvbnM9e2dldE9yaWdQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBuPXUuY3VycmVudCxmPW4uZWxlbWVudCx0PW4ub3JpZyxpPXt9LGU9NTAsbz01MCxzPW4uaFBhZGRpbmcsYz1uLndQYWRkaW5nLHI9dS5nZXRWaWV3cG9ydCgpO3JldHVybiF0JiZuLmlzRG9tJiZmLmlzKCI6dmlzaWJsZSIpJiYodD1mLmZpbmQoImltZzpmaXJzdCIpLHQubGVuZ3RofHwodD1mKSksYSh0KT8oaT10Lm9mZnNldCgpLHQuaXMoImltZyIpJiYoZT10Lm91dGVyV2lkdGgoKSxvPXQub3V0ZXJIZWlnaHQoKSkpOihpLnRvcD1yLnkrKHIuaC1vKSpuLnRvcFJhdGlvLGkubGVmdD1yLngrKHIudy1lKSpuLmxlZnRSYXRpbyksKHUud3JhcC5jc3MoInBvc2l0aW9uIik9PT0iZml4ZWQifHxuLmxvY2tlZCkmJihpLnRvcC09ci55LGkubGVmdC09ci54KSx7dG9wOmgoaS50b3AtcypuLnRvcFJhdGlvKSxsZWZ0OmgoaS5sZWZ0LWMqbi5sZWZ0UmF0aW8pLHdpZHRoOmgoZStjKSxoZWlnaHQ6aChvK3MpfX0sc3RlcDpmdW5jdGlvbihuLHQpe3ZhciByLHMsZSxpPXQucHJvcCxvPXUuY3VycmVudCxoPW8ud3JhcFNwYWNlLGM9by5za2luU3BhY2U7KGk9PT0id2lkdGgifHxpPT09ImhlaWdodCIpJiYocj10LmVuZD09PXQuc3RhcnQ/MToobi10LnN0YXJ0KS8odC5lbmQtdC5zdGFydCksdS5pc0Nsb3NpbmcmJihyPTEtcikscz1pPT09IndpZHRoIj9vLndQYWRkaW5nOm8uaFBhZGRpbmcsZT1uLXMsdS5za2luW2ldKGYoaT09PSJ3aWR0aCI/ZTplLWgqcikpLHUuaW5uZXJbaV0oZihpPT09IndpZHRoIj9lOmUtaCpyLWMqcikpKX0sem9vbUluOmZ1bmN0aW9uKCl7dmFyIG49dS5jdXJyZW50LHQ9bi5wb3Mscj1uLm9wZW5FZmZlY3QsZj1yPT09ImVsYXN0aWMiLGU9aS5leHRlbmQoe29wYWNpdHk6MX0sdCk7ZGVsZXRlIGUucG9zaXRpb247Zj8odD10aGlzLmdldE9yaWdQb3NpdGlvbigpLG4ub3Blbk9wYWNpdHkmJih0Lm9wYWNpdHk9LjEpKTpyPT09ImZhZGUiJiYodC5vcGFjaXR5PS4xKTt1LndyYXAuY3NzKHQpLmFuaW1hdGUoZSx7ZHVyYXRpb246cj09PSJub25lIj8wOm4ub3BlblNwZWVkLGVhc2luZzpuLm9wZW5FYXNpbmcsc3RlcDpmP3RoaXMuc3RlcDpudWxsLGNvbXBsZXRlOnUuX2FmdGVyWm9vbUlufSl9LHpvb21PdXQ6ZnVuY3Rpb24oKXt2YXIgbj11LmN1cnJlbnQsaT1uLmNsb3NlRWZmZWN0LHI9aT09PSJlbGFzdGljIix0PXtvcGFjaXR5Oi4xfTtyJiYodD10aGlzLmdldE9yaWdQb3NpdGlvbigpLG4uY2xvc2VPcGFjaXR5JiYodC5vcGFjaXR5PS4xKSk7dS53cmFwLmFuaW1hdGUodCx7ZHVyYXRpb246aT09PSJub25lIj8wOm4uY2xvc2VTcGVlZCxlYXNpbmc6bi5jbG9zZUVhc2luZyxzdGVwOnI/dGhpcy5zdGVwOm51bGwsY29tcGxldGU6dS5fYWZ0ZXJab29tT3V0fSl9LGNoYW5nZUluOmZ1bmN0aW9uKCl7dmFyIGk9dS5jdXJyZW50LHM9aS5uZXh0RWZmZWN0LHQ9aS5wb3Msbz17b3BhY2l0eToxfSxyPXUuZGlyZWN0aW9uLGU9MjAwLG47dC5vcGFjaXR5PS4xO3M9PT0iZWxhc3RpYyImJihuPXI9PT0iZG93biJ8fHI9PT0idXAiPyJ0b3AiOiJsZWZ0IixyPT09ImRvd24ifHxyPT09InJpZ2h0Ij8odFtuXT1oKGYodFtuXSktZSksb1tuXT0iKz0iK2UrInB4Iik6KHRbbl09aChmKHRbbl0pK2UpLG9bbl09Ii09IitlKyJweCIpKTtzPT09Im5vbmUiP3UuX2FmdGVyWm9vbUluKCk6dS53cmFwLmNzcyh0KS5hbmltYXRlKG8se2R1cmF0aW9uOmkubmV4dFNwZWVkLGVhc2luZzppLm5leHRFYXNpbmcsY29tcGxldGU6dS5fYWZ0ZXJab29tSW59KX0sY2hhbmdlT3V0OmZ1bmN0aW9uKCl7dmFyIG49dS5wcmV2aW91cyxyPW4ucHJldkVmZmVjdCxmPXtvcGFjaXR5Oi4xfSx0PXUuZGlyZWN0aW9uO3I9PT0iZWxhc3RpYyImJihmW3Q9PT0iZG93biJ8fHQ9PT0idXAiPyJ0b3AiOiJsZWZ0Il09KHQ9PT0idXAifHx0PT09ImxlZnQiPyItIjoiKyIpKyI9MjAwcHgiKTtuLndyYXAuYW5pbWF0ZShmLHtkdXJhdGlvbjpyPT09Im5vbmUiPzA6bi5wcmV2U3BlZWQsZWFzaW5nOm4ucHJldkVhc2luZyxjb21wbGV0ZTpmdW5jdGlvbigpe2kodGhpcykudHJpZ2dlcigib25SZXNldCIpLnJlbW92ZSgpfX0pfX07dS5oZWxwZXJzLm92ZXJsYXk9e2RlZmF1bHRzOntjbG9zZUNsaWNrOiEwLHNwZWVkT3V0OjIwMCxzaG93RWFybHk6ITAsY3NzOnt9LGxvY2tlZDohcyxmaXhlZDohMH0sb3ZlcmxheTpudWxsLGZpeGVkOiExLGVsOmkoImh0bWwiKSxjcmVhdGU6ZnVuY3Rpb24obil7bj1pLmV4dGVuZCh7fSx0aGlzLmRlZmF1bHRzLG4pO3RoaXMub3ZlcmxheSYmdGhpcy5jbG9zZSgpO3RoaXMub3ZlcmxheT1pKCc8ZGl2IGNsYXNzPSJmYW5jeWJveC1vdmVybGF5Ij48XC9kaXY+JykuYXBwZW5kVG8odS5jb21pbmc/dS5jb21pbmcucGFyZW50Om4ucGFyZW50KTt0aGlzLmZpeGVkPSExO24uZml4ZWQmJnUuZGVmYXVsdHMuZml4ZWQmJih0aGlzLm92ZXJsYXkuYWRkQ2xhc3MoImZhbmN5Ym94LW92ZXJsYXktZml4ZWQiKSx0aGlzLmZpeGVkPSEwKX0sb3BlbjpmdW5jdGlvbihuKXt2YXIgdD10aGlzO249aS5leHRlbmQoe30sdGhpcy5kZWZhdWx0cyxuKTt0aGlzLm92ZXJsYXk/dGhpcy5vdmVybGF5LnVuYmluZCgiLm92ZXJsYXkiKS53aWR0aCgiYXV0byIpLmhlaWdodCgiYXV0byIpOnRoaXMuY3JlYXRlKG4pO3RoaXMuZml4ZWR8fChlLmJpbmQoInJlc2l6ZS5vdmVybGF5IixpLnByb3h5KHRoaXMudXBkYXRlLHRoaXMpKSx0aGlzLnVwZGF0ZSgpKTtuLmNsb3NlQ2xpY2smJnRoaXMub3ZlcmxheS5iaW5kKCJjbGljay5vdmVybGF5IixmdW5jdGlvbihuKXtpZihpKG4udGFyZ2V0KS5oYXNDbGFzcygiZmFuY3lib3gtb3ZlcmxheSIpKXJldHVybiB1LmlzQWN0aXZlP3UuY2xvc2UoKTp0LmNsb3NlKCksITF9KTt0aGlzLm92ZXJsYXkuY3NzKG4uY3NzKS5zaG93KCl9LGNsb3NlOmZ1bmN0aW9uKCl7dmFyIG4sdDtlLnVuYmluZCgicmVzaXplLm92ZXJsYXkiKTt0aGlzLmVsLmhhc0NsYXNzKCJmYW5jeWJveC1sb2NrIikmJihpKCIuZmFuY3lib3gtbWFyZ2luIikucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LW1hcmdpbiIpLG49ZS5zY3JvbGxUb3AoKSx0PWUuc2Nyb2xsTGVmdCgpLHRoaXMuZWwucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LWxvY2siKSxlLnNjcm9sbFRvcChuKS5zY3JvbGxMZWZ0KHQpKTtpKCIuZmFuY3lib3gtb3ZlcmxheSIpLnJlbW92ZSgpLmhpZGUoKTtpLmV4dGVuZCh0aGlzLHtvdmVybGF5Om51bGwsZml4ZWQ6ITF9KX0sdXBkYXRlOmZ1bmN0aW9uKCl7dmFyIG49IjEwMCUiLGk7dGhpcy5vdmVybGF5LndpZHRoKG4pLmhlaWdodCgiMTAwJSIpO3k/KGk9TWF0aC5tYXgodC5kb2N1bWVudEVsZW1lbnQub2Zmc2V0V2lkdGgsdC5ib2R5Lm9mZnNldFdpZHRoKSxvLndpZHRoKCk+aSYmKG49by53aWR0aCgpKSk6by53aWR0aCgpPmUud2lkdGgoKSYmKG49by53aWR0aCgpKTt0aGlzLm92ZXJsYXkud2lkdGgobikuaGVpZ2h0KG8uaGVpZ2h0KCkpfSxvblJlYWR5OmZ1bmN0aW9uKG4sdCl7dmFyIHI9dGhpcy5vdmVybGF5O2koIi5mYW5jeWJveC1vdmVybGF5Iikuc3RvcCghMCwhMCk7cnx8dGhpcy5jcmVhdGUobik7bi5sb2NrZWQmJnRoaXMuZml4ZWQmJnQuZml4ZWQmJihyfHwodGhpcy5tYXJnaW49by5oZWlnaHQoKT5lLmhlaWdodCgpP2koImh0bWwiKS5jc3MoIm1hcmdpbi1yaWdodCIpLnJlcGxhY2UoInB4IiwiIik6ITEpLHQubG9ja2VkPXRoaXMub3ZlcmxheS5hcHBlbmQodC53cmFwKSx0LmZpeGVkPSExKTtuLnNob3dFYXJseT09PSEwJiZ0aGlzLmJlZm9yZVNob3cuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxiZWZvcmVTaG93OmZ1bmN0aW9uKG4sdCl7dmFyIHIsdTt0LmxvY2tlZCYmKHRoaXMubWFyZ2luIT09ITEmJihpKCIqIikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIGkodGhpcykuY3NzKCJwb3NpdGlvbiIpPT09ImZpeGVkIiYmIWkodGhpcykuaGFzQ2xhc3MoImZhbmN5Ym94LW92ZXJsYXkiKSYmIWkodGhpcykuaGFzQ2xhc3MoImZhbmN5Ym94LXdyYXAiKX0pLmFkZENsYXNzKCJmYW5jeWJveC1tYXJnaW4iKSx0aGlzLmVsLmFkZENsYXNzKCJmYW5jeWJveC1tYXJnaW4iKSkscj1lLnNjcm9sbFRvcCgpLHU9ZS5zY3JvbGxMZWZ0KCksdGhpcy5lbC5hZGRDbGFzcygiZmFuY3lib3gtbG9jayIpLGUuc2Nyb2xsVG9wKHIpLnNjcm9sbExlZnQodSkpO3RoaXMub3BlbihuKX0sb25VcGRhdGU6ZnVuY3Rpb24oKXt0aGlzLmZpeGVkfHx0aGlzLnVwZGF0ZSgpfSxhZnRlckNsb3NlOmZ1bmN0aW9uKG4pe3RoaXMub3ZlcmxheSYmIXUuY29taW5nJiZ0aGlzLm92ZXJsYXkuZmFkZU91dChuLnNwZWVkT3V0LGkucHJveHkodGhpcy5jbG9zZSx0aGlzKSl9fTt1LmhlbHBlcnMudGl0bGU9e2RlZmF1bHRzOnt0eXBlOiJmbG9hdCIscG9zaXRpb246ImJvdHRvbSJ9LGJlZm9yZVNob3c6ZnVuY3Rpb24obil7dmFyIG89dS5jdXJyZW50LHI9by50aXRsZSxzPW4udHlwZSx0LGU7aWYoaS5pc0Z1bmN0aW9uKHIpJiYocj1yLmNhbGwoby5lbGVtZW50LG8pKSxjKHIpJiZpLnRyaW0ocikhPT0iIil7dD1pKCc8ZGl2IGNsYXNzPSJmYW5jeWJveC10aXRsZSBmYW5jeWJveC10aXRsZS0nK3MrJy13cmFwIj4nK3IrIjxcL2Rpdj4iKTtzd2l0Y2gocyl7Y2FzZSJpbnNpZGUiOmU9dS5za2luO2JyZWFrO2Nhc2Uib3V0c2lkZSI6ZT11LndyYXA7YnJlYWs7Y2FzZSJvdmVyIjplPXUuaW5uZXI7YnJlYWs7ZGVmYXVsdDplPXUuc2tpbjt0LmFwcGVuZFRvKCJib2R5Iik7eSYmdC53aWR0aCh0LndpZHRoKCkpO3Qud3JhcElubmVyKCc8c3BhbiBjbGFzcz0iY2hpbGQiPjxcL3NwYW4+Jyk7dS5jdXJyZW50Lm1hcmdpblsyXSs9TWF0aC5hYnMoZih0LmNzcygibWFyZ2luLWJvdHRvbSIpKSl9dFtuLnBvc2l0aW9uPT09InRvcCI/InByZXBlbmRUbyI6ImFwcGVuZFRvIl0oZSl9fX07aS5mbi5mYW5jeWJveD1mdW5jdGlvbihuKXt2YXIgcixmPWkodGhpcyksdD10aGlzLnNlbGVjdG9yfHwiIixlPWZ1bmN0aW9uKGUpe3ZhciBvPWkodGhpcykuYmx1cigpLGM9cixoLHM7ZS5jdHJsS2V5fHxlLmFsdEtleXx8ZS5zaGlmdEtleXx8ZS5tZXRhS2V5fHxvLmlzKCIuZmFuY3lib3gtd3JhcCIpfHwoaD1uLmdyb3VwQXR0cnx8ImRhdGEtZmFuY3lib3gtZ3JvdXAiLHM9by5hdHRyKGgpLHN8fChoPSJyZWwiLHM9by5nZXQoMClbaF0pLHMmJnMhPT0iIiYmcyE9PSJub2ZvbGxvdyImJihvPXQubGVuZ3RoP2kodCk6ZixvPW8uZmlsdGVyKCJbIitoKyc9IicrcysnIl0nKSxjPW8uaW5kZXgodGhpcykpLG4uaW5kZXg9Yyx1Lm9wZW4obyxuKSE9PSExJiZlLnByZXZlbnREZWZhdWx0KCkpfTtyZXR1cm4gbj1ufHx7fSxyPW4uaW5kZXh8fDAsdCYmbi5saXZlIT09ITE/by51bmRlbGVnYXRlKHQsImNsaWNrLmZiLXN0YXJ0IikuZGVsZWdhdGUodCsiOm5vdCgnLmZhbmN5Ym94LWl0ZW0sIC5mYW5jeWJveC1uYXYnKSIsImNsaWNrLmZiLXN0YXJ0IixlKTpmLnVuYmluZCgiY2xpY2suZmItc3RhcnQiKS5iaW5kKCJjbGljay5mYi1zdGFydCIsZSksdGhpcy5maWx0ZXIoIltkYXRhLWZhbmN5Ym94LXN0YXJ0PTFdIikudHJpZ2dlcigiY2xpY2siKSx0aGlzfTtvLnJlYWR5KGZ1bmN0aW9uKCl7dmFyIHQsZjtpLnNjcm9sbGJhcldpZHRoPT09ciYmKGkuc2Nyb2xsYmFyV2lkdGg9ZnVuY3Rpb24oKXt2YXIgbj1pKCc8ZGl2IHN0eWxlPSJ3aWR0aDo1MHB4O2hlaWdodDo1MHB4O292ZXJmbG93OmF1dG8iPjxkaXYvPjxcL2Rpdj4nKS5hcHBlbmRUbygiYm9keSIpLHQ9bi5jaGlsZHJlbigpLHI9dC5pbm5lcldpZHRoKCktdC5oZWlnaHQoOTkpLmlubmVyV2lkdGgoKTtyZXR1cm4gbi5yZW1vdmUoKSxyfSk7aS5zdXBwb3J0LmZpeGVkUG9zaXRpb249PT1yJiYoaS5zdXBwb3J0LmZpeGVkUG9zaXRpb249ZnVuY3Rpb24oKXt2YXIgbj1pKCc8ZGl2IHN0eWxlPSJwb3NpdGlvbjpmaXhlZDt0b3A6MjBweDsiPjxcL2Rpdj4nKS5hcHBlbmRUbygiYm9keSIpLHQ9blswXS5vZmZzZXRUb3A9PT0yMHx8blswXS5vZmZzZXRUb3A9PT0xNTtyZXR1cm4gbi5yZW1vdmUoKSx0fSgpKTtpLmV4dGVuZCh1LmRlZmF1bHRzLHtzY3JvbGxiYXJXaWR0aDppLnNjcm9sbGJhcldpZHRoKCksZml4ZWQ6aS5zdXBwb3J0LmZpeGVkUG9zaXRpb24scGFyZW50OmkoImJvZHkiKX0pO3Q9aShuKS53aWR0aCgpO3AuYWRkQ2xhc3MoImZhbmN5Ym94LWxvY2stdGVzdCIpO2Y9aShuKS53aWR0aCgpO3AucmVtb3ZlQ2xhc3MoImZhbmN5Ym94LWxvY2stdGVzdCIpO2koIjxzdHlsZSB0eXBlPSd0ZXh0L2Nzcyc+LmZhbmN5Ym94LW1hcmdpbnttYXJnaW4tcmlnaHQ6IisoZi10KSsicHg7fTxcL3N0eWxlPiIpLmFwcGVuZFRvKCJoZWFkIil9KX0pKHdpbmRvdyxkb2N1bWVudCxqUXVlcnkpOwovKiEgQ29weXJpZ2h0IChjKSAyMDExIEJyYW5kb24gQWFyb24gKGh0dHA6Ly9icmFuZG9uYWFyb24ubmV0KQogKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UgKExJQ0VOU0UudHh0KS4KICoKICogVGhhbmtzIHRvOiBodHRwOi8vYWRvbWFzLm9yZy9qYXZhc2NyaXB0LW1vdXNlLXdoZWVsLyBmb3Igc29tZSBwb2ludGVycy4KICogVGhhbmtzIHRvOiBNYXRoaWFzIEJhbmsoaHR0cDovL3d3dy5tYXRoaWFzLWJhbmsuZGUpIGZvciBhIHNjb3BlIGJ1ZyBmaXguCiAqIFRoYW5rcyB0bzogU2VhbXVzIExlYWh5IGZvciBhZGRpbmcgZGVsdGFYIGFuZCBkZWx0YVkKICoKICogVmVyc2lvbjogMy4wLjYKICogCiAqIFJlcXVpcmVzOiAxLjIuMisKICovCihmdW5jdGlvbihuKXtmdW5jdGlvbiBpKHQpe3ZhciBpPXR8fHdpbmRvdy5ldmVudCxlPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLHI9MCxmPTAsdT0wLHQ9bi5ldmVudC5maXgoaSk7cmV0dXJuIHQudHlwZT0ibW91c2V3aGVlbCIsaS53aGVlbERlbHRhJiYocj1pLndoZWVsRGVsdGEvMTIwKSxpLmRldGFpbCYmKHI9LWkuZGV0YWlsLzMpLHU9cixpLmF4aXMhPT12b2lkIDAmJmkuYXhpcz09PWkuSE9SSVpPTlRBTF9BWElTJiYodT0wLGY9LTEqciksaS53aGVlbERlbHRhWSE9PXZvaWQgMCYmKHU9aS53aGVlbERlbHRhWS8xMjApLGkud2hlZWxEZWx0YVghPT12b2lkIDAmJihmPWkud2hlZWxEZWx0YVgvLTEyMCksZS51bnNoaWZ0KHQscixmLHUpLChuLmV2ZW50LmRpc3BhdGNofHxuLmV2ZW50LmhhbmRsZSkuYXBwbHkodGhpcyxlKX12YXIgdD1bIkRPTU1vdXNlU2Nyb2xsIiwibW91c2V3aGVlbCJdLHI7aWYobi5ldmVudC5maXhIb29rcylmb3Iocj10Lmxlbmd0aDtyOyluLmV2ZW50LmZpeEhvb2tzW3RbLS1yXV09bi5ldmVudC5tb3VzZUhvb2tzO24uZXZlbnQuc3BlY2lhbC5tb3VzZXdoZWVsPXtzZXR1cDpmdW5jdGlvbigpe2lmKHRoaXMuYWRkRXZlbnRMaXN0ZW5lcilmb3IodmFyIG49dC5sZW5ndGg7bjspdGhpcy5hZGRFdmVudExpc3RlbmVyKHRbLS1uXSxpLCExKTtlbHNlIHRoaXMub25tb3VzZXdoZWVsPWl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYodGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKWZvcih2YXIgbj10Lmxlbmd0aDtuOyl0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodFstLW5dLGksITEpO2Vsc2UgdGhpcy5vbm1vdXNld2hlZWw9bnVsbH19O24uZm4uZXh0ZW5kKHttb3VzZXdoZWVsOmZ1bmN0aW9uKG4pe3JldHVybiBuP3RoaXMuYmluZCgibW91c2V3aGVlbCIsbik6dGhpcy50cmlnZ2VyKCJtb3VzZXdoZWVsIil9LHVubW91c2V3aGVlbDpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy51bmJpbmQoIm1vdXNld2hlZWwiLG4pfX0pfSkoalF1ZXJ5KSxmdW5jdGlvbihuKXt2YXIgdD17bW9kZToiaG9yaXpvbnRhbCIsc2xpZGVTZWxlY3RvcjoiIixpbmZpbml0ZUxvb3A6ITAsaGlkZUNvbnRyb2xPbkVuZDohMSxzcGVlZDo1MDAsZWFzaW5nOm51bGwsc2xpZGVNYXJnaW46MCxzdGFydFNsaWRlOjAscmFuZG9tU3RhcnQ6ITEsY2FwdGlvbnM6ITEsdGlja2VyOiExLHRpY2tlckhvdmVyOiExLGFkYXB0aXZlSGVpZ2h0OiExLGFkYXB0aXZlSGVpZ2h0U3BlZWQ6NTAwLHZpZGVvOiExLHVzZUNTUzohMCxwcmVsb2FkSW1hZ2VzOiJ2aXNpYmxlIixyZXNwb25zaXZlOiEwLHNsaWRlWkluZGV4OjUwLHdyYXBwZXJDbGFzczoiYngtd3JhcHBlciIsdG91Y2hFbmFibGVkOiEwLHN3aXBlVGhyZXNob2xkOjUwLG9uZVRvT25lVG91Y2g6ITAscHJldmVudERlZmF1bHRTd2lwZVg6ITAscHJldmVudERlZmF1bHRTd2lwZVk6ITEsYXJpYUxpdmU6ITAsYXJpYUhpZGRlbjohMCxrZXlib2FyZEVuYWJsZWQ6ITEscGFnZXI6ITAscGFnZXJUeXBlOiJmdWxsIixwYWdlclNob3J0U2VwYXJhdG9yOiIgLyAiLHBhZ2VyU2VsZWN0b3I6bnVsbCxidWlsZFBhZ2VyOm51bGwscGFnZXJDdXN0b206bnVsbCxjb250cm9sczohMCxuZXh0VGV4dDoiTmV4dCIscHJldlRleHQ6IlByZXYiLG5leHRTZWxlY3RvcjpudWxsLHByZXZTZWxlY3RvcjpudWxsLGF1dG9Db250cm9sczohMSxzdGFydFRleHQ6IlN0YXJ0IixzdG9wVGV4dDoiU3RvcCIsYXV0b0NvbnRyb2xzQ29tYmluZTohMSxhdXRvQ29udHJvbHNTZWxlY3RvcjpudWxsLGF1dG86ITEscGF1c2U6NGUzLGF1dG9TdGFydDohMCxhdXRvRGlyZWN0aW9uOiJuZXh0IixzdG9wQXV0b09uQ2xpY2s6ITEsYXV0b0hvdmVyOiExLGF1dG9EZWxheTowLGF1dG9TbGlkZUZvck9uZVBhZ2U6ITEsbWluU2xpZGVzOjEsbWF4U2xpZGVzOjEsbW92ZVNsaWRlczowLHNsaWRlV2lkdGg6MCxzaHJpbmtJdGVtczohMSxvblNsaWRlckxvYWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sb25TbGlkZUJlZm9yZTpmdW5jdGlvbigpe3JldHVybiEwfSxvblNsaWRlQWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sb25TbGlkZU5leHQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sb25TbGlkZVByZXY6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sb25TbGlkZXJSZXNpemU6ZnVuY3Rpb24oKXtyZXR1cm4hMH19O24uZm4uYnhTbGlkZXI9ZnVuY3Rpb24ocil7aWYodGhpcy5sZW5ndGg9PT0wKXJldHVybiB0aGlzO2lmKHRoaXMubGVuZ3RoPjEpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe24odGhpcykuYnhTbGlkZXIocil9KSx0aGlzO3ZhciB1PXt9LGY9dGhpcyxrPW4od2luZG93KS53aWR0aCgpLGQ9bih3aW5kb3cpLmhlaWdodCgpO2lmKCFuKGYpLmRhdGEoImJ4U2xpZGVyIikpe3ZhciBnPWZ1bmN0aW9uKCl7bihmKS5kYXRhKCJieFNsaWRlciIpfHwodS5zZXR0aW5ncz1uLmV4dGVuZCh7fSx0LHIpLHUuc2V0dGluZ3Muc2xpZGVXaWR0aD1wYXJzZUludCh1LnNldHRpbmdzLnNsaWRlV2lkdGgpLHUuY2hpbGRyZW49Zi5jaGlsZHJlbih1LnNldHRpbmdzLnNsaWRlU2VsZWN0b3IpLHUuY2hpbGRyZW4ubGVuZ3RoPHUuc2V0dGluZ3MubWluU2xpZGVzJiYodS5zZXR0aW5ncy5taW5TbGlkZXM9dS5jaGlsZHJlbi5sZW5ndGgpLHUuY2hpbGRyZW4ubGVuZ3RoPHUuc2V0dGluZ3MubWF4U2xpZGVzJiYodS5zZXR0aW5ncy5tYXhTbGlkZXM9dS5jaGlsZHJlbi5sZW5ndGgpLHUuc2V0dGluZ3MucmFuZG9tU3RhcnQmJih1LnNldHRpbmdzLnN0YXJ0U2xpZGU9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnUuY2hpbGRyZW4ubGVuZ3RoKSksdS5hY3RpdmU9e2luZGV4OnUuc2V0dGluZ3Muc3RhcnRTbGlkZX0sdS5jYXJvdXNlbD11LnNldHRpbmdzLm1pblNsaWRlcz4xfHx1LnNldHRpbmdzLm1heFNsaWRlcz4xPyEwOiExLHUuY2Fyb3VzZWwmJih1LnNldHRpbmdzLnByZWxvYWRJbWFnZXM9ImFsbCIpLHUubWluVGhyZXNob2xkPXUuc2V0dGluZ3MubWluU2xpZGVzKnUuc2V0dGluZ3Muc2xpZGVXaWR0aCsodS5zZXR0aW5ncy5taW5TbGlkZXMtMSkqdS5zZXR0aW5ncy5zbGlkZU1hcmdpbix1Lm1heFRocmVzaG9sZD11LnNldHRpbmdzLm1heFNsaWRlcyp1LnNldHRpbmdzLnNsaWRlV2lkdGgrKHUuc2V0dGluZ3MubWF4U2xpZGVzLTEpKnUuc2V0dGluZ3Muc2xpZGVNYXJnaW4sdS53b3JraW5nPSExLHUuY29udHJvbHM9e30sdS5pbnRlcnZhbD1udWxsLHUuYW5pbVByb3A9dS5zZXR0aW5ncy5tb2RlPT09InZlcnRpY2FsIj8idG9wIjoibGVmdCIsdS51c2luZ0NTUz11LnNldHRpbmdzLnVzZUNTUyYmdS5zZXR0aW5ncy5tb2RlIT09ImZhZGUiJiZmdW5jdGlvbigpe2Zvcih2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx0PVsiV2Via2l0UGVyc3BlY3RpdmUiLCJNb3pQZXJzcGVjdGl2ZSIsIk9QZXJzcGVjdGl2ZSIsIm1zUGVyc3BlY3RpdmUiXSxuPTA7bjx0Lmxlbmd0aDtuKyspaWYoaS5zdHlsZVt0W25dXSE9PXVuZGVmaW5lZClyZXR1cm4gdS5jc3NQcmVmaXg9dFtuXS5yZXBsYWNlKCJQZXJzcGVjdGl2ZSIsIiIpLnRvTG93ZXJDYXNlKCksdS5hbmltUHJvcD0iLSIrdS5jc3NQcmVmaXgrIi10cmFuc2Zvcm0iLCEwO3JldHVybiExfSgpLHUuc2V0dGluZ3MubW9kZT09PSJ2ZXJ0aWNhbCImJih1LnNldHRpbmdzLm1heFNsaWRlcz11LnNldHRpbmdzLm1pblNsaWRlcyksZi5kYXRhKCJvcmlnU3R5bGUiLGYuYXR0cigic3R5bGUiKSksZi5jaGlsZHJlbih1LnNldHRpbmdzLnNsaWRlU2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLmRhdGEoIm9yaWdTdHlsZSIsbih0aGlzKS5hdHRyKCJzdHlsZSIpKX0pLGh0KCkpfSxodD1mdW5jdGlvbigpe3ZhciB0PXUuY2hpbGRyZW4uZXEodS5zZXR0aW5ncy5zdGFydFNsaWRlKTtmLndyYXAoJzxkaXYgY2xhc3M9IicrdS5zZXR0aW5ncy53cmFwcGVyQ2xhc3MrJyI+PGRpdiBjbGFzcz0iYngtdmlld3BvcnQiPjxcL2Rpdj48XC9kaXY+Jyk7dS52aWV3cG9ydD1mLnBhcmVudCgpO3Uuc2V0dGluZ3MuYXJpYUxpdmUmJiF1LnNldHRpbmdzLnRpY2tlciYmdS52aWV3cG9ydC5hdHRyKCJhcmlhLWxpdmUiLCJwb2xpdGUiKTt1LmxvYWRlcj1uKCc8ZGl2IGNsYXNzPSJieC1sb2FkaW5nIiAvPicpO3Uudmlld3BvcnQucHJlcGVuZCh1LmxvYWRlcik7Zi5jc3Moe3dpZHRoOnUuc2V0dGluZ3MubW9kZT09PSJob3Jpem9udGFsIj91LmNoaWxkcmVuLmxlbmd0aCoxZTMrMjE1KyIlIjoiYXV0byIscG9zaXRpb246InJlbGF0aXZlIn0pO3UudXNpbmdDU1MmJnUuc2V0dGluZ3MuZWFzaW5nP2YuY3NzKCItIit1LmNzc1ByZWZpeCsiLXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uIix1LnNldHRpbmdzLmVhc2luZyk6dS5zZXR0aW5ncy5lYXNpbmd8fCh1LnNldHRpbmdzLmVhc2luZz0ic3dpbmciKTt1LnZpZXdwb3J0LmNzcyh7d2lkdGg6IjEwMCUiLG92ZXJmbG93OiJoaWRkZW4iLHBvc2l0aW9uOiJyZWxhdGl2ZSJ9KTt1LnZpZXdwb3J0LnBhcmVudCgpLmNzcyh7bWF4V2lkdGg6YXQoKX0pO3Uuc2V0dGluZ3MucGFnZXJ8fHUuc2V0dGluZ3MuY29udHJvbHN8fHUudmlld3BvcnQucGFyZW50KCkuY3NzKHttYXJnaW46IjAgYXV0byAwcHgifSk7dS5jaGlsZHJlbi5jc3Moe2Zsb2F0OnUuc2V0dGluZ3MubW9kZT09PSJob3Jpem9udGFsIj8ibGVmdCI6Im5vbmUiLGxpc3RTdHlsZToibm9uZSIscG9zaXRpb246InJlbGF0aXZlIn0pO3UuY2hpbGRyZW4uY3NzKCJ3aWR0aCIsbnQoKSk7dS5zZXR0aW5ncy5tb2RlPT09Imhvcml6b250YWwiJiZ1LnNldHRpbmdzLnNsaWRlTWFyZ2luPjAmJnUuY2hpbGRyZW4uY3NzKCJtYXJnaW5SaWdodCIsdS5zZXR0aW5ncy5zbGlkZU1hcmdpbik7dS5zZXR0aW5ncy5tb2RlPT09InZlcnRpY2FsIiYmdS5zZXR0aW5ncy5zbGlkZU1hcmdpbj4wJiZ1LmNoaWxkcmVuLmNzcygibWFyZ2luQm90dG9tIix1LnNldHRpbmdzLnNsaWRlTWFyZ2luKTt1LnNldHRpbmdzLm1vZGU9PT0iZmFkZSImJih1LmNoaWxkcmVuLmNzcyh7cG9zaXRpb246ImFic29sdXRlIix6SW5kZXg6MCxkaXNwbGF5OiJub25lIn0pLHUuY2hpbGRyZW4uZXEodS5zZXR0aW5ncy5zdGFydFNsaWRlKS5jc3Moe3pJbmRleDp1LnNldHRpbmdzLnNsaWRlWkluZGV4LGRpc3BsYXk6ImJsb2NrIn0pKTt1LmNvbnRyb2xzLmVsPW4oJzxkaXYgY2xhc3M9ImJ4LWNvbnRyb2xzIiAvPicpO3Uuc2V0dGluZ3MuY2FwdGlvbnMmJnd0KCk7dS5hY3RpdmUubGFzdD11LnNldHRpbmdzLnN0YXJ0U2xpZGU9PT1vKCktMTt1LnNldHRpbmdzLnZpZGVvJiZmLmZpdFZpZHMoKTsodS5zZXR0aW5ncy5wcmVsb2FkSW1hZ2VzPT09ImFsbCJ8fHUuc2V0dGluZ3MudGlja2VyKSYmKHQ9dS5jaGlsZHJlbik7dS5zZXR0aW5ncy50aWNrZXI/dS5zZXR0aW5ncy5wYWdlcj0hMToodS5zZXR0aW5ncy5jb250cm9scyYmeXQoKSx1LnNldHRpbmdzLmF1dG8mJnUuc2V0dGluZ3MuYXV0b0NvbnRyb2xzJiZwdCgpLHUuc2V0dGluZ3MucGFnZXImJnZ0KCksKHUuc2V0dGluZ3MuY29udHJvbHN8fHUuc2V0dGluZ3MuYXV0b0NvbnRyb2xzfHx1LnNldHRpbmdzLnBhZ2VyKSYmdS52aWV3cG9ydC5hZnRlcih1LmNvbnRyb2xzLmVsKSk7Y3QodCxsdCl9LGN0PWZ1bmN0aW9uKHQsaSl7dmFyIHI9dC5maW5kKCdpbWc6bm90KFtzcmM9IiJdKSwgaWZyYW1lJykubGVuZ3RoLHU9MDtpZihyPT09MCl7aSgpO3JldHVybn10LmZpbmQoJ2ltZzpub3QoW3NyYz0iIl0pLCBpZnJhbWUnKS5lYWNoKGZ1bmN0aW9uKCl7bih0aGlzKS5vbmUoImxvYWQgZXJyb3IiLGZ1bmN0aW9uKCl7Kyt1PT09ciYmaSgpfSkuZWFjaChmdW5jdGlvbigpe3RoaXMuY29tcGxldGUmJm4odGhpcykubG9hZCgpfSl9KX0sbHQ9ZnVuY3Rpb24oKXtpZih1LnNldHRpbmdzLmluZmluaXRlTG9vcCYmdS5zZXR0aW5ncy5tb2RlIT09ImZhZGUiJiYhdS5zZXR0aW5ncy50aWNrZXIpe3ZhciB0PXUuc2V0dGluZ3MubW9kZT09PSJ2ZXJ0aWNhbCI/dS5zZXR0aW5ncy5taW5TbGlkZXM6dS5zZXR0aW5ncy5tYXhTbGlkZXMsaT11LmNoaWxkcmVuLnNsaWNlKDAsdCkuY2xvbmUoITApLmFkZENsYXNzKCJieC1jbG9uZSIpLHI9dS5jaGlsZHJlbi5zbGljZSgtdCkuY2xvbmUoITApLmFkZENsYXNzKCJieC1jbG9uZSIpO3Uuc2V0dGluZ3MuYXJpYUhpZGRlbiYmKGkuYXR0cigiYXJpYS1oaWRkZW4iLCEwKSxyLmF0dHIoImFyaWEtaGlkZGVuIiwhMCkpO2YuYXBwZW5kKGkpLnByZXBlbmQocil9dS5sb2FkZXIucmVtb3ZlKCk7dHQoKTt1LnNldHRpbmdzLm1vZGU9PT0idmVydGljYWwiJiYodS5zZXR0aW5ncy5hZGFwdGl2ZUhlaWdodD0hMCk7dS52aWV3cG9ydC5oZWlnaHQoYygpKTtmLnJlZHJhd1NsaWRlcigpO3Uuc2V0dGluZ3Mub25TbGlkZXJMb2FkLmNhbGwoZix1LmFjdGl2ZS5pbmRleCk7dS5pbml0aWFsaXplZD0hMDt1LnNldHRpbmdzLnJlc3BvbnNpdmUmJm4od2luZG93KS5iaW5kKCJyZXNpemUiLGIpO3Uuc2V0dGluZ3MuYXV0byYmdS5zZXR0aW5ncy5hdXRvU3RhcnQmJihvKCk+MXx8dS5zZXR0aW5ncy5hdXRvU2xpZGVGb3JPbmVQYWdlKSYmZ3QoKTt1LnNldHRpbmdzLnRpY2tlciYmbmkoKTt1LnNldHRpbmdzLnBhZ2VyJiZ2KHUuc2V0dGluZ3Muc3RhcnRTbGlkZSk7dS5zZXR0aW5ncy5jb250cm9scyYmZnQoKTt1LnNldHRpbmdzLnRvdWNoRW5hYmxlZCYmIXUuc2V0dGluZ3MudGlja2VyJiZpaSgpO3Uuc2V0dGluZ3Mua2V5Ym9hcmRFbmFibGVkJiYhdS5zZXR0aW5ncy50aWNrZXImJm4oZG9jdW1lbnQpLmtleWRvd24oZXQpfSxjPWZ1bmN0aW9uKCl7dmFyIHI9MCx0PW4oKSxmO2lmKHUuc2V0dGluZ3MubW9kZT09PSJ2ZXJ0aWNhbCJ8fHUuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHQpaWYodS5jYXJvdXNlbClmb3IoZj11LnNldHRpbmdzLm1vdmVTbGlkZXM9PT0xP3UuYWN0aXZlLmluZGV4OnUuYWN0aXZlLmluZGV4KnMoKSx0PXUuY2hpbGRyZW4uZXEoZiksaT0xO2k8PXUuc2V0dGluZ3MubWF4U2xpZGVzLTE7aSsrKXQ9ZitpPj11LmNoaWxkcmVuLmxlbmd0aD90LmFkZCh1LmNoaWxkcmVuLmVxKGktMSkpOnQuYWRkKHUuY2hpbGRyZW4uZXEoZitpKSk7ZWxzZSB0PXUuY2hpbGRyZW4uZXEodS5hY3RpdmUuaW5kZXgpO2Vsc2UgdD11LmNoaWxkcmVuO3JldHVybiB1LnNldHRpbmdzLm1vZGU9PT0idmVydGljYWwiPyh0LmVhY2goZnVuY3Rpb24oKXtyKz1uKHRoaXMpLm91dGVySGVpZ2h0KCl9KSx1LnNldHRpbmdzLnNsaWRlTWFyZ2luPjAmJihyKz11LnNldHRpbmdzLnNsaWRlTWFyZ2luKih1LnNldHRpbmdzLm1pblNsaWRlcy0xKSkpOnI9TWF0aC5tYXguYXBwbHkoTWF0aCx0Lm1hcChmdW5jdGlvbigpe3JldHVybiBuKHRoaXMpLm91dGVySGVpZ2h0KCExKX0pLmdldCgpKSx1LnZpZXdwb3J0LmNzcygiYm94LXNpemluZyIpPT09ImJvcmRlci1ib3giP3IrPXBhcnNlRmxvYXQodS52aWV3cG9ydC5jc3MoInBhZGRpbmctdG9wIikpK3BhcnNlRmxvYXQodS52aWV3cG9ydC5jc3MoInBhZGRpbmctYm90dG9tIikpK3BhcnNlRmxvYXQodS52aWV3cG9ydC5jc3MoImJvcmRlci10b3Atd2lkdGgiKSkrcGFyc2VGbG9hdCh1LnZpZXdwb3J0LmNzcygiYm9yZGVyLWJvdHRvbS13aWR0aCIpKTp1LnZpZXdwb3J0LmNzcygiYm94LXNpemluZyIpPT09InBhZGRpbmctYm94IiYmKHIrPXBhcnNlRmxvYXQodS52aWV3cG9ydC5jc3MoInBhZGRpbmctdG9wIikpK3BhcnNlRmxvYXQodS52aWV3cG9ydC5jc3MoInBhZGRpbmctYm90dG9tIikpKSxyfSxhdD1mdW5jdGlvbigpe3ZhciBuPSIxMDAlIjtyZXR1cm4gdS5zZXR0aW5ncy5zbGlkZVdpZHRoPjAmJihuPXUuc2V0dGluZ3MubW9kZT09PSJob3Jpem9udGFsIj91LnNldHRpbmdzLm1heFNsaWRlcyp1LnNldHRpbmdzLnNsaWRlV2lkdGgrKHUuc2V0dGluZ3MubWF4U2xpZGVzLTEpKnUuc2V0dGluZ3Muc2xpZGVNYXJnaW46dS5zZXR0aW5ncy5zbGlkZVdpZHRoKSxufSxudD1mdW5jdGlvbigpe3ZhciB0PXUuc2V0dGluZ3Muc2xpZGVXaWR0aCxuPXUudmlld3BvcnQud2lkdGgoKTtpZih1LnNldHRpbmdzLnNsaWRlV2lkdGg9PT0wfHx1LnNldHRpbmdzLnNsaWRlV2lkdGg+biYmIXUuY2Fyb3VzZWx8fHUuc2V0dGluZ3MubW9kZT09PSJ2ZXJ0aWNhbCIpdD1uO2Vsc2UgaWYodS5zZXR0aW5ncy5tYXhTbGlkZXM+MSYmdS5zZXR0aW5ncy5tb2RlPT09Imhvcml6b250YWwiKXtpZihuPnUubWF4VGhyZXNob2xkKXJldHVybiB0O248dS5taW5UaHJlc2hvbGQ/dD0obi11LnNldHRpbmdzLnNsaWRlTWFyZ2luKih1LnNldHRpbmdzLm1pblNsaWRlcy0xKSkvdS5zZXR0aW5ncy5taW5TbGlkZXM6dS5zZXR0aW5ncy5zaHJpbmtJdGVtcyYmKHQ9TWF0aC5mbG9vcigobit1LnNldHRpbmdzLnNsaWRlTWFyZ2luKS9NYXRoLmNlaWwoKG4rdS5zZXR0aW5ncy5zbGlkZU1hcmdpbikvKHQrdS5zZXR0aW5ncy5zbGlkZU1hcmdpbikpLXUuc2V0dGluZ3Muc2xpZGVNYXJnaW4pKX1yZXR1cm4gdH0saD1mdW5jdGlvbigpe3ZhciBuPTEsdD1udWxsO3JldHVybiB1LnNldHRpbmdzLm1vZGU9PT0iaG9yaXpvbnRhbCImJnUuc2V0dGluZ3Muc2xpZGVXaWR0aD4wP3Uudmlld3BvcnQud2lkdGgoKTx1Lm1pblRocmVzaG9sZD9uPXUuc2V0dGluZ3MubWluU2xpZGVzOnUudmlld3BvcnQud2lkdGgoKT51Lm1heFRocmVzaG9sZD9uPXUuc2V0dGluZ3MubWF4U2xpZGVzOih0PXUuY2hpbGRyZW4uZmlyc3QoKS53aWR0aCgpK3Uuc2V0dGluZ3Muc2xpZGVNYXJnaW4sbj1NYXRoLmZsb29yKCh1LnZpZXdwb3J0LndpZHRoKCkrdS5zZXR0aW5ncy5zbGlkZU1hcmdpbikvdCkpOnUuc2V0dGluZ3MubW9kZT09PSJ2ZXJ0aWNhbCImJihuPXUuc2V0dGluZ3MubWluU2xpZGVzKSxufSxvPWZ1bmN0aW9uKCl7dmFyIG49MCx0PTAsaT0wO2lmKHUuc2V0dGluZ3MubW92ZVNsaWRlcz4wKWlmKHUuc2V0dGluZ3MuaW5maW5pdGVMb29wKW49TWF0aC5jZWlsKHUuY2hpbGRyZW4ubGVuZ3RoL3MoKSk7ZWxzZSB3aGlsZSh0PHUuY2hpbGRyZW4ubGVuZ3RoKSsrbix0PWkraCgpLGkrPXUuc2V0dGluZ3MubW92ZVNsaWRlczw9aCgpP3Uuc2V0dGluZ3MubW92ZVNsaWRlczpoKCk7ZWxzZSBuPU1hdGguY2VpbCh1LmNoaWxkcmVuLmxlbmd0aC9oKCkpO3JldHVybiBufSxzPWZ1bmN0aW9uKCl7cmV0dXJuIHUuc2V0dGluZ3MubW92ZVNsaWRlcz4wJiZ1LnNldHRpbmdzLm1vdmVTbGlkZXM8PWgoKT91LnNldHRpbmdzLm1vdmVTbGlkZXM6aCgpfSx0dD1mdW5jdGlvbigpe3ZhciBuLHQsaTt1LmNoaWxkcmVuLmxlbmd0aD51LnNldHRpbmdzLm1heFNsaWRlcyYmdS5hY3RpdmUubGFzdCYmIXUuc2V0dGluZ3MuaW5maW5pdGVMb29wP3Uuc2V0dGluZ3MubW9kZT09PSJob3Jpem9udGFsIj8odD11LmNoaWxkcmVuLmxhc3QoKSxuPXQucG9zaXRpb24oKSxlKC0obi5sZWZ0LSh1LnZpZXdwb3J0LndpZHRoKCktdC5vdXRlcldpZHRoKCkpKSwicmVzZXQiLDApKTp1LnNldHRpbmdzLm1vZGU9PT0idmVydGljYWwiJiYoaT11LmNoaWxkcmVuLmxlbmd0aC11LnNldHRpbmdzLm1pblNsaWRlcyxuPXUuY2hpbGRyZW4uZXEoaSkucG9zaXRpb24oKSxlKC1uLnRvcCwicmVzZXQiLDApKToobj11LmNoaWxkcmVuLmVxKHUuYWN0aXZlLmluZGV4KnMoKSkucG9zaXRpb24oKSx1LmFjdGl2ZS5pbmRleD09PW8oKS0xJiYodS5hY3RpdmUubGFzdD0hMCksbiE9PXVuZGVmaW5lZCYmKHUuc2V0dGluZ3MubW9kZT09PSJob3Jpem9udGFsIj9lKC1uLmxlZnQsInJlc2V0IiwwKTp1LnNldHRpbmdzLm1vZGU9PT0idmVydGljYWwiJiZlKC1uLnRvcCwicmVzZXQiLDApKSl9LGU9ZnVuY3Rpb24odCxpLHIsbyl7dmFyIHMsaDt1LnVzaW5nQ1NTPyhoPXUuc2V0dGluZ3MubW9kZT09PSJ2ZXJ0aWNhbCI/InRyYW5zbGF0ZTNkKDAsICIrdCsicHgsIDApIjoidHJhbnNsYXRlM2QoIit0KyJweCwgMCwgMCkiLGYuY3NzKCItIit1LmNzc1ByZWZpeCsiLXRyYW5zaXRpb24tZHVyYXRpb24iLHIvMWUzKyJzIiksaT09PSJzbGlkZSI/KGYuY3NzKHUuYW5pbVByb3AsaCksciE9PTA/Zi5iaW5kKCJ0cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kIixmdW5jdGlvbih0KXtuKHQudGFyZ2V0KS5pcyhmKSYmKGYudW5iaW5kKCJ0cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kIiksYSgpKX0pOmEoKSk6aT09PSJyZXNldCI/Zi5jc3ModS5hbmltUHJvcCxoKTppPT09InRpY2tlciImJihmLmNzcygiLSIrdS5jc3NQcmVmaXgrIi10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbiIsImxpbmVhciIpLGYuY3NzKHUuYW5pbVByb3AsaCksciE9PTA/Zi5iaW5kKCJ0cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kIixmdW5jdGlvbih0KXtuKHQudGFyZ2V0KS5pcyhmKSYmKGYudW5iaW5kKCJ0cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kIiksZShvLnJlc2V0VmFsdWUsInJlc2V0IiwwKSxsKCkpfSk6KGUoby5yZXNldFZhbHVlLCJyZXNldCIsMCksbCgpKSkpOihzPXt9LHNbdS5hbmltUHJvcF09dCxpPT09InNsaWRlIj9mLmFuaW1hdGUocyxyLHUuc2V0dGluZ3MuZWFzaW5nLGZ1bmN0aW9uKCl7YSgpfSk6aT09PSJyZXNldCI/Zi5jc3ModS5hbmltUHJvcCx0KTppPT09InRpY2tlciImJmYuYW5pbWF0ZShzLHIsImxpbmVhciIsZnVuY3Rpb24oKXtlKG8ucmVzZXRWYWx1ZSwicmVzZXQiLDApO2woKX0pKX0saXQ9ZnVuY3Rpb24oKXtmb3IodmFyIHI9IiIsaT0iIixmPW8oKSx0PTA7dDxmO3QrKylpPSIiLHUuc2V0dGluZ3MuYnVpbGRQYWdlciYmbi5pc0Z1bmN0aW9uKHUuc2V0dGluZ3MuYnVpbGRQYWdlcil8fHUuc2V0dGluZ3MucGFnZXJDdXN0b20/KGk9dS5zZXR0aW5ncy5idWlsZFBhZ2VyKHQpLHUucGFnZXJFbC5hZGRDbGFzcygiYngtY3VzdG9tLXBhZ2VyIikpOihpPXQrMSx1LnBhZ2VyRWwuYWRkQ2xhc3MoImJ4LWRlZmF1bHQtcGFnZXIiKSkscis9JzxkaXYgY2xhc3M9ImJ4LXBhZ2VyLWl0ZW0iPjxhIGhyZWY9IiIgZGF0YS1zbGlkZS1pbmRleD0iJyt0KyciIGNsYXNzPSJieC1wYWdlci1saW5rIj4nK2krIjxcL2E+PFwvZGl2PiI7dS5wYWdlckVsLmh0bWwocil9LHZ0PWZ1bmN0aW9uKCl7dS5zZXR0aW5ncy5wYWdlckN1c3RvbT91LnBhZ2VyRWw9bih1LnNldHRpbmdzLnBhZ2VyQ3VzdG9tKToodS5wYWdlckVsPW4oJzxkaXYgY2xhc3M9ImJ4LXBhZ2VyIiAvPicpLHUuc2V0dGluZ3MucGFnZXJTZWxlY3Rvcj9uKHUuc2V0dGluZ3MucGFnZXJTZWxlY3RvcikuaHRtbCh1LnBhZ2VyRWwpOnUuY29udHJvbHMuZWwuYWRkQ2xhc3MoImJ4LWhhcy1wYWdlciIpLmFwcGVuZCh1LnBhZ2VyRWwpLGl0KCkpO3UucGFnZXJFbC5vbigiY2xpY2sgdG91Y2hlbmQiLCJhIixkdCl9LHl0PWZ1bmN0aW9uKCl7dS5jb250cm9scy5uZXh0PW4oJzxhIGNsYXNzPSJieC1uZXh0IiBocmVmPSIiPicrdS5zZXR0aW5ncy5uZXh0VGV4dCsiPFwvYT4iKTt1LmNvbnRyb2xzLnByZXY9bignPGEgY2xhc3M9ImJ4LXByZXYiIGhyZWY9IiI+Jyt1LnNldHRpbmdzLnByZXZUZXh0KyI8XC9hPiIpO3UuY29udHJvbHMubmV4dC5iaW5kKCJjbGljayB0b3VjaGVuZCIscnQpO3UuY29udHJvbHMucHJldi5iaW5kKCJjbGljayB0b3VjaGVuZCIsdXQpO3Uuc2V0dGluZ3MubmV4dFNlbGVjdG9yJiZuKHUuc2V0dGluZ3MubmV4dFNlbGVjdG9yKS5hcHBlbmQodS5jb250cm9scy5uZXh0KTt1LnNldHRpbmdzLnByZXZTZWxlY3RvciYmbih1LnNldHRpbmdzLnByZXZTZWxlY3RvcikuYXBwZW5kKHUuY29udHJvbHMucHJldik7dS5zZXR0aW5ncy5uZXh0U2VsZWN0b3J8fHUuc2V0dGluZ3MucHJldlNlbGVjdG9yfHwodS5jb250cm9scy5kaXJlY3Rpb25FbD1uKCc8ZGl2IGNsYXNzPSJieC1jb250cm9scy1kaXJlY3Rpb24iIC8+JyksdS5jb250cm9scy5kaXJlY3Rpb25FbC5hcHBlbmQodS5jb250cm9scy5wcmV2KS5hcHBlbmQodS5jb250cm9scy5uZXh0KSx1LmNvbnRyb2xzLmVsLmFkZENsYXNzKCJieC1oYXMtY29udHJvbHMtZGlyZWN0aW9uIikuYXBwZW5kKHUuY29udHJvbHMuZGlyZWN0aW9uRWwpKX0scHQ9ZnVuY3Rpb24oKXt1LmNvbnRyb2xzLnN0YXJ0PW4oJzxkaXYgY2xhc3M9ImJ4LWNvbnRyb2xzLWF1dG8taXRlbSI+PGEgY2xhc3M9ImJ4LXN0YXJ0IiBocmVmPSIiPicrdS5zZXR0aW5ncy5zdGFydFRleHQrIjxcL2E+PFwvZGl2PiIpO3UuY29udHJvbHMuc3RvcD1uKCc8ZGl2IGNsYXNzPSJieC1jb250cm9scy1hdXRvLWl0ZW0iPjxhIGNsYXNzPSJieC1zdG9wIiBocmVmPSIiPicrdS5zZXR0aW5ncy5zdG9wVGV4dCsiPFwvYT48XC9kaXY+Iik7dS5jb250cm9scy5hdXRvRWw9bignPGRpdiBjbGFzcz0iYngtY29udHJvbHMtYXV0byIgLz4nKTt1LmNvbnRyb2xzLmF1dG9FbC5vbigiY2xpY2siLCIuYngtc3RhcnQiLGJ0KTt1LmNvbnRyb2xzLmF1dG9FbC5vbigiY2xpY2siLCIuYngtc3RvcCIsa3QpO3Uuc2V0dGluZ3MuYXV0b0NvbnRyb2xzQ29tYmluZT91LmNvbnRyb2xzLmF1dG9FbC5hcHBlbmQodS5jb250cm9scy5zdGFydCk6dS5jb250cm9scy5hdXRvRWwuYXBwZW5kKHUuY29udHJvbHMuc3RhcnQpLmFwcGVuZCh1LmNvbnRyb2xzLnN0b3ApO3Uuc2V0dGluZ3MuYXV0b0NvbnRyb2xzU2VsZWN0b3I/bih1LnNldHRpbmdzLmF1dG9Db250cm9sc1NlbGVjdG9yKS5odG1sKHUuY29udHJvbHMuYXV0b0VsKTp1LmNvbnRyb2xzLmVsLmFkZENsYXNzKCJieC1oYXMtY29udHJvbHMtYXV0byIpLmFwcGVuZCh1LmNvbnRyb2xzLmF1dG9FbCk7eSh1LnNldHRpbmdzLmF1dG9TdGFydD8ic3RvcCI6InN0YXJ0Iil9LHd0PWZ1bmN0aW9uKCl7dS5jaGlsZHJlbi5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9bih0aGlzKS5maW5kKCJpbWc6Zmlyc3QiKS5hdHRyKCJ0aXRsZSIpO3QhPT11bmRlZmluZWQmJigiIit0KS5sZW5ndGgmJm4odGhpcykuYXBwZW5kKCc8ZGl2IGNsYXNzPSJieC1jYXB0aW9uIj48c3Bhbj4nK3QrIjxcL3NwYW4+PFwvZGl2PiIpfSl9LHJ0PWZ1bmN0aW9uKG4peyhuLnByZXZlbnREZWZhdWx0KCksdS5jb250cm9scy5lbC5oYXNDbGFzcygiZGlzYWJsZWQiKSl8fCh1LnNldHRpbmdzLmF1dG8mJnUuc2V0dGluZ3Muc3RvcEF1dG9PbkNsaWNrJiZmLnN0b3BBdXRvKCksZi5nb1RvTmV4dFNsaWRlKCkpfSx1dD1mdW5jdGlvbihuKXsobi5wcmV2ZW50RGVmYXVsdCgpLHUuY29udHJvbHMuZWwuaGFzQ2xhc3MoImRpc2FibGVkIikpfHwodS5zZXR0aW5ncy5hdXRvJiZ1LnNldHRpbmdzLnN0b3BBdXRvT25DbGljayYmZi5zdG9wQXV0bygpLGYuZ29Ub1ByZXZTbGlkZSgpKX0sYnQ9ZnVuY3Rpb24obil7Zi5zdGFydEF1dG8oKTtuLnByZXZlbnREZWZhdWx0KCl9LGt0PWZ1bmN0aW9uKG4pe2Yuc3RvcEF1dG8oKTtuLnByZXZlbnREZWZhdWx0KCl9LGR0PWZ1bmN0aW9uKHQpe3ZhciBpLHI7KHQucHJldmVudERlZmF1bHQoKSx1LmNvbnRyb2xzLmVsLmhhc0NsYXNzKCJkaXNhYmxlZCIpKXx8KHUuc2V0dGluZ3MuYXV0byYmdS5zZXR0aW5ncy5zdG9wQXV0b09uQ2xpY2smJmYuc3RvcEF1dG8oKSxpPW4odC5jdXJyZW50VGFyZ2V0KSxpLmF0dHIoImRhdGEtc2xpZGUtaW5kZXgiKSE9PXVuZGVmaW5lZCYmKHI9cGFyc2VJbnQoaS5hdHRyKCJkYXRhLXNsaWRlLWluZGV4IikpLHIhPT11LmFjdGl2ZS5pbmRleCYmZi5nb1RvU2xpZGUocikpKX0sdj1mdW5jdGlvbih0KXt2YXIgaT11LmNoaWxkcmVuLmxlbmd0aDtpZih1LnNldHRpbmdzLnBhZ2VyVHlwZT09PSJzaG9ydCIpe3Uuc2V0dGluZ3MubWF4U2xpZGVzPjEmJihpPU1hdGguY2VpbCh1LmNoaWxkcmVuLmxlbmd0aC91LnNldHRpbmdzLm1heFNsaWRlcykpO3UucGFnZXJFbC5odG1sKHQrMSt1LnNldHRpbmdzLnBhZ2VyU2hvcnRTZXBhcmF0b3IraSk7cmV0dXJufXUucGFnZXJFbC5maW5kKCJhIikucmVtb3ZlQ2xhc3MoImFjdGl2ZSIpO3UucGFnZXJFbC5lYWNoKGZ1bmN0aW9uKGkscil7bihyKS5maW5kKCJhIikuZXEodCkuYWRkQ2xhc3MoImFjdGl2ZSIpfSl9LGE9ZnVuY3Rpb24oKXtpZih1LnNldHRpbmdzLmluZmluaXRlTG9vcCl7dmFyIG49IiI7dS5hY3RpdmUuaW5kZXg9PT0wP249dS5jaGlsZHJlbi5lcSgwKS5wb3NpdGlvbigpOnUuYWN0aXZlLmluZGV4PT09bygpLTEmJnUuY2Fyb3VzZWw/bj11LmNoaWxkcmVuLmVxKChvKCktMSkqcygpKS5wb3NpdGlvbigpOnUuYWN0aXZlLmluZGV4PT09dS5jaGlsZHJlbi5sZW5ndGgtMSYmKG49dS5jaGlsZHJlbi5lcSh1LmNoaWxkcmVuLmxlbmd0aC0xKS5wb3NpdGlvbigpKTtuJiYodS5zZXR0aW5ncy5tb2RlPT09Imhvcml6b250YWwiP2UoLW4ubGVmdCwicmVzZXQiLDApOnUuc2V0dGluZ3MubW9kZT09PSJ2ZXJ0aWNhbCImJmUoLW4udG9wLCJyZXNldCIsMCkpfXUud29ya2luZz0hMTt1LnNldHRpbmdzLm9uU2xpZGVBZnRlci5jYWxsKGYsdS5jaGlsZHJlbi5lcSh1LmFjdGl2ZS5pbmRleCksdS5vbGRJbmRleCx1LmFjdGl2ZS5pbmRleCl9LHk9ZnVuY3Rpb24obil7dS5zZXR0aW5ncy5hdXRvQ29udHJvbHNDb21iaW5lP3UuY29udHJvbHMuYXV0b0VsLmh0bWwodS5jb250cm9sc1tuXSk6KHUuY29udHJvbHMuYXV0b0VsLmZpbmQoImEiKS5yZW1vdmVDbGFzcygiYWN0aXZlIiksdS5jb250cm9scy5hdXRvRWwuZmluZCgiYTpub3QoLmJ4LSIrbisiKSIpLmFkZENsYXNzKCJhY3RpdmUiKSl9LGZ0PWZ1bmN0aW9uKCl7bygpPT09MT8odS5jb250cm9scy5wcmV2LmFkZENsYXNzKCJkaXNhYmxlZCIpLHUuY29udHJvbHMubmV4dC5hZGRDbGFzcygiZGlzYWJsZWQiKSk6IXUuc2V0dGluZ3MuaW5maW5pdGVMb29wJiZ1LnNldHRpbmdzLmhpZGVDb250cm9sT25FbmQmJih1LmFjdGl2ZS5pbmRleD09PTA/KHUuY29udHJvbHMucHJldi5hZGRDbGFzcygiZGlzYWJsZWQiKSx1LmNvbnRyb2xzLm5leHQucmVtb3ZlQ2xhc3MoImRpc2FibGVkIikpOnUuYWN0aXZlLmluZGV4PT09bygpLTE/KHUuY29udHJvbHMubmV4dC5hZGRDbGFzcygiZGlzYWJsZWQiKSx1LmNvbnRyb2xzLnByZXYucmVtb3ZlQ2xhc3MoImRpc2FibGVkIikpOih1LmNvbnRyb2xzLnByZXYucmVtb3ZlQ2xhc3MoImRpc2FibGVkIiksdS5jb250cm9scy5uZXh0LnJlbW92ZUNsYXNzKCJkaXNhYmxlZCIpKSl9LGd0PWZ1bmN0aW9uKCl7aWYodS5zZXR0aW5ncy5hdXRvRGVsYXk+MCl2YXIgdD1zZXRUaW1lb3V0KGYuc3RhcnRBdXRvLHUuc2V0dGluZ3MuYXV0b0RlbGF5KTtlbHNlIGYuc3RhcnRBdXRvKCksbih3aW5kb3cpLmZvY3VzKGZ1bmN0aW9uKCl7Zi5zdGFydEF1dG8oKX0pLmJsdXIoZnVuY3Rpb24oKXtmLnN0b3BBdXRvKCl9KTt1LnNldHRpbmdzLmF1dG9Ib3ZlciYmZi5ob3ZlcihmdW5jdGlvbigpe3UuaW50ZXJ2YWwmJihmLnN0b3BBdXRvKCEwKSx1LmF1dG9QYXVzZWQ9ITApfSxmdW5jdGlvbigpe3UuYXV0b1BhdXNlZCYmKGYuc3RhcnRBdXRvKCEwKSx1LmF1dG9QYXVzZWQ9bnVsbCl9KX0sbmk9ZnVuY3Rpb24oKXt2YXIgYz0wLG8sYSxzLHYsaSxoLHIsdDt1LnNldHRpbmdzLmF1dG9EaXJlY3Rpb249PT0ibmV4dCI/Zi5hcHBlbmQodS5jaGlsZHJlbi5jbG9uZSgpLmFkZENsYXNzKCJieC1jbG9uZSIpKTooZi5wcmVwZW5kKHUuY2hpbGRyZW4uY2xvbmUoKS5hZGRDbGFzcygiYngtY2xvbmUiKSksbz11LmNoaWxkcmVuLmZpcnN0KCkucG9zaXRpb24oKSxjPXUuc2V0dGluZ3MubW9kZT09PSJob3Jpem9udGFsIj8tby5sZWZ0Oi1vLnRvcCk7ZShjLCJyZXNldCIsMCk7dS5zZXR0aW5ncy5wYWdlcj0hMTt1LnNldHRpbmdzLmNvbnRyb2xzPSExO3Uuc2V0dGluZ3MuYXV0b0NvbnRyb2xzPSExO3Uuc2V0dGluZ3MudGlja2VySG92ZXImJih1LnVzaW5nQ1NTPyh2PXUuc2V0dGluZ3MubW9kZT09PSJob3Jpem9udGFsIj80OjUsdS52aWV3cG9ydC5ob3ZlcihmdW5jdGlvbigpe2E9Zi5jc3MoIi0iK3UuY3NzUHJlZml4KyItdHJhbnNmb3JtIik7cz1wYXJzZUZsb2F0KGEuc3BsaXQoIiwiKVt2XSk7ZShzLCJyZXNldCIsMCl9LGZ1bmN0aW9uKCl7dD0wO3UuY2hpbGRyZW4uZWFjaChmdW5jdGlvbigpe3QrPXUuc2V0dGluZ3MubW9kZT09PSJob3Jpem9udGFsIj9uKHRoaXMpLm91dGVyV2lkdGgoITApOm4odGhpcykub3V0ZXJIZWlnaHQoITApfSk7aT11LnNldHRpbmdzLnNwZWVkL3Q7aD11LnNldHRpbmdzLm1vZGU9PT0iaG9yaXpvbnRhbCI/ImxlZnQiOiJ0b3AiO3I9aSoodC1NYXRoLmFicyhwYXJzZUludChzKSkpO2wocil9KSk6dS52aWV3cG9ydC5ob3ZlcihmdW5jdGlvbigpe2Yuc3RvcCgpfSxmdW5jdGlvbigpe3Q9MDt1LmNoaWxkcmVuLmVhY2goZnVuY3Rpb24oKXt0Kz11LnNldHRpbmdzLm1vZGU9PT0iaG9yaXpvbnRhbCI/bih0aGlzKS5vdXRlcldpZHRoKCEwKTpuKHRoaXMpLm91dGVySGVpZ2h0KCEwKX0pO2k9dS5zZXR0aW5ncy5zcGVlZC90O2g9dS5zZXR0aW5ncy5tb2RlPT09Imhvcml6b250YWwiPyJsZWZ0IjoidG9wIjtyPWkqKHQtTWF0aC5hYnMocGFyc2VJbnQoZi5jc3MoaCkpKSk7bChyKX0pKTtsKCl9LGw9ZnVuY3Rpb24obil7dmFyIGg9bj9uOnUuc2V0dGluZ3Muc3BlZWQsdD17bGVmdDowLHRvcDowfSxpPXtsZWZ0OjAsdG9wOjB9LHIsbyxzO3Uuc2V0dGluZ3MuYXV0b0RpcmVjdGlvbj09PSJuZXh0Ij90PWYuZmluZCgiLmJ4LWNsb25lIikuZmlyc3QoKS5wb3NpdGlvbigpOmk9dS5jaGlsZHJlbi5maXJzdCgpLnBvc2l0aW9uKCk7cj11LnNldHRpbmdzLm1vZGU9PT0iaG9yaXpvbnRhbCI/LXQubGVmdDotdC50b3A7bz11LnNldHRpbmdzLm1vZGU9PT0iaG9yaXpvbnRhbCI/LWkubGVmdDotaS50b3A7cz17cmVzZXRWYWx1ZTpvfTtlKHIsInRpY2tlciIsaCxzKX0sdGk9ZnVuY3Rpb24odCl7dmFyIHU9bih3aW5kb3cpLGk9e3RvcDp1LnNjcm9sbFRvcCgpLGxlZnQ6dS5zY3JvbGxMZWZ0KCl9LHI9dC5vZmZzZXQoKTtyZXR1cm4gaS5yaWdodD1pLmxlZnQrdS53aWR0aCgpLGkuYm90dG9tPWkudG9wK3UuaGVpZ2h0KCksci5yaWdodD1yLmxlZnQrdC5vdXRlcldpZHRoKCksci5ib3R0b209ci50b3ArdC5vdXRlckhlaWdodCgpLCEoaS5yaWdodDxyLmxlZnR8fGkubGVmdD5yLnJpZ2h0fHxpLmJvdHRvbTxyLnRvcHx8aS50b3A+ci5ib3R0b20pfSxldD1mdW5jdGlvbihuKXt2YXIgdD1kb2N1bWVudC5hY3RpdmVFbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSxpPW5ldyBSZWdFeHAodCxbImkiXSkscj1pLmV4ZWMoImlucHV0fHRleHRhcmVhIik7aWYocj09bnVsbCYmdGkoZikpe2lmKG4ua2V5Q29kZT09PTM5KXJldHVybiBydChuKSwhMTtpZihuLmtleUNvZGU9PT0zNylyZXR1cm4gdXQobiksITF9fSxpaT1mdW5jdGlvbigpe3UudG91Y2g9e3N0YXJ0Ont4OjAseTowfSxlbmQ6e3g6MCx5OjB9fTt1LnZpZXdwb3J0LmJpbmQoInRvdWNoc3RhcnQgTVNQb2ludGVyRG93biBwb2ludGVyZG93biIscmkpO3Uudmlld3BvcnQub24oImNsaWNrIiwiLmJ4c2xpZGVyIGEiLGZ1bmN0aW9uKG4pe3Uudmlld3BvcnQuaGFzQ2xhc3MoImNsaWNrLWRpc2FibGVkIikmJihuLnByZXZlbnREZWZhdWx0KCksdS52aWV3cG9ydC5yZW1vdmVDbGFzcygiY2xpY2stZGlzYWJsZWQiKSl9KX0scmk9ZnVuY3Rpb24obil7aWYodS5jb250cm9scy5lbC5hZGRDbGFzcygiZGlzYWJsZWQiKSx1Lndvcmtpbmcpbi5wcmV2ZW50RGVmYXVsdCgpLHUuY29udHJvbHMuZWwucmVtb3ZlQ2xhc3MoImRpc2FibGVkIik7ZWxzZXt1LnRvdWNoLm9yaWdpbmFsUG9zPWYucG9zaXRpb24oKTt2YXIgdD1uLm9yaWdpbmFsRXZlbnQsaT10eXBlb2YgdC5jaGFuZ2VkVG91Y2hlcyE9InVuZGVmaW5lZCI/dC5jaGFuZ2VkVG91Y2hlczpbdF07dS50b3VjaC5zdGFydC54PWlbMF0ucGFnZVg7dS50b3VjaC5zdGFydC55PWlbMF0ucGFnZVk7dS52aWV3cG9ydC5nZXQoMCkuc2V0UG9pbnRlckNhcHR1cmUmJih1LnBvaW50ZXJJZD10LnBvaW50ZXJJZCx1LnZpZXdwb3J0LmdldCgwKS5zZXRQb2ludGVyQ2FwdHVyZSh1LnBvaW50ZXJJZCkpO3Uudmlld3BvcnQuYmluZCgidG91Y2htb3ZlIE1TUG9pbnRlck1vdmUgcG9pbnRlcm1vdmUiLHApO3Uudmlld3BvcnQuYmluZCgidG91Y2hlbmQgTVNQb2ludGVyVXAgcG9pbnRlcnVwIix3KTt1LnZpZXdwb3J0LmJpbmQoIk1TUG9pbnRlckNhbmNlbCBwb2ludGVyY2FuY2VsIixvdCl9fSxvdD1mdW5jdGlvbigpe2UodS50b3VjaC5vcmlnaW5hbFBvcy5sZWZ0LCJyZXNldCIsMCk7dS5jb250cm9scy5lbC5yZW1vdmVDbGFzcygiZGlzYWJsZWQiKTt1LnZpZXdwb3J0LnVuYmluZCgiTVNQb2ludGVyQ2FuY2VsIHBvaW50ZXJjYW5jZWwiLG90KTt1LnZpZXdwb3J0LnVuYmluZCgidG91Y2htb3ZlIE1TUG9pbnRlck1vdmUgcG9pbnRlcm1vdmUiLHApO3Uudmlld3BvcnQudW5iaW5kKCJ0b3VjaGVuZCBNU1BvaW50ZXJVcCBwb2ludGVydXAiLHcpO3Uudmlld3BvcnQuZ2V0KDApLnJlbGVhc2VQb2ludGVyQ2FwdHVyZSYmdS52aWV3cG9ydC5nZXQoMCkucmVsZWFzZVBvaW50ZXJDYXB0dXJlKHUucG9pbnRlcklkKX0scD1mdW5jdGlvbihuKXt2YXIgcj1uLm9yaWdpbmFsRXZlbnQsdD10eXBlb2Ygci5jaGFuZ2VkVG91Y2hlcyE9InVuZGVmaW5lZCI/ci5jaGFuZ2VkVG91Y2hlczpbcl0sbz1NYXRoLmFicyh0WzBdLnBhZ2VYLXUudG91Y2guc3RhcnQueCkscz1NYXRoLmFicyh0WzBdLnBhZ2VZLXUudG91Y2guc3RhcnQueSksZj0wLGk9MDtvKjM+cyYmdS5zZXR0aW5ncy5wcmV2ZW50RGVmYXVsdFN3aXBlWD9uLnByZXZlbnREZWZhdWx0KCk6cyozPm8mJnUuc2V0dGluZ3MucHJldmVudERlZmF1bHRTd2lwZVkmJm4ucHJldmVudERlZmF1bHQoKTt1LnNldHRpbmdzLm1vZGUhPT0iZmFkZSImJnUuc2V0dGluZ3Mub25lVG9PbmVUb3VjaCYmKHUuc2V0dGluZ3MubW9kZT09PSJob3Jpem9udGFsIj8oaT10WzBdLnBhZ2VYLXUudG91Y2guc3RhcnQueCxmPXUudG91Y2gub3JpZ2luYWxQb3MubGVmdCtpKTooaT10WzBdLnBhZ2VZLXUudG91Y2guc3RhcnQueSxmPXUudG91Y2gub3JpZ2luYWxQb3MudG9wK2kpLGUoZiwicmVzZXQiLDApKX0sdz1mdW5jdGlvbihuKXt1LnZpZXdwb3J0LnVuYmluZCgidG91Y2htb3ZlIE1TUG9pbnRlck1vdmUgcG9pbnRlcm1vdmUiLHApO3UuY29udHJvbHMuZWwucmVtb3ZlQ2xhc3MoImRpc2FibGVkIik7dmFyIHI9bi5vcmlnaW5hbEV2ZW50LG89dHlwZW9mIHIuY2hhbmdlZFRvdWNoZXMhPSJ1bmRlZmluZWQiP3IuY2hhbmdlZFRvdWNoZXM6W3JdLGk9MCx0PTA7dS50b3VjaC5lbmQueD1vWzBdLnBhZ2VYO3UudG91Y2guZW5kLnk9b1swXS5wYWdlWTt1LnNldHRpbmdzLm1vZGU9PT0iZmFkZSI/KHQ9TWF0aC5hYnModS50b3VjaC5zdGFydC54LXUudG91Y2guZW5kLngpLHQ+PXUuc2V0dGluZ3Muc3dpcGVUaHJlc2hvbGQmJih1LnRvdWNoLnN0YXJ0Lng+dS50b3VjaC5lbmQueD9mLmdvVG9OZXh0U2xpZGUoKTpmLmdvVG9QcmV2U2xpZGUoKSxmLnN0b3BBdXRvKCkpKToodS5zZXR0aW5ncy5tb2RlPT09Imhvcml6b250YWwiPyh0PXUudG91Y2guZW5kLngtdS50b3VjaC5zdGFydC54LGk9dS50b3VjaC5vcmlnaW5hbFBvcy5sZWZ0KToodD11LnRvdWNoLmVuZC55LXUudG91Y2guc3RhcnQueSxpPXUudG91Y2gub3JpZ2luYWxQb3MudG9wKSwhdS5zZXR0aW5ncy5pbmZpbml0ZUxvb3AmJih1LmFjdGl2ZS5pbmRleD09PTAmJnQ+MHx8dS5hY3RpdmUubGFzdCYmdDwwKT9lKGksInJlc2V0IiwyMDApOk1hdGguYWJzKHQpPj11LnNldHRpbmdzLnN3aXBlVGhyZXNob2xkPyh0PDA/Zi5nb1RvTmV4dFNsaWRlKCk6Zi5nb1RvUHJldlNsaWRlKCksZi5zdG9wQXV0bygpKTplKGksInJlc2V0IiwyMDApKTt1LnZpZXdwb3J0LnVuYmluZCgidG91Y2hlbmQgTVNQb2ludGVyVXAgcG9pbnRlcnVwIix3KTt1LnZpZXdwb3J0LmdldCgwKS5yZWxlYXNlUG9pbnRlckNhcHR1cmUmJnUudmlld3BvcnQuZ2V0KDApLnJlbGVhc2VQb2ludGVyQ2FwdHVyZSh1LnBvaW50ZXJJZCl9LGI9ZnVuY3Rpb24oKXtpZih1LmluaXRpYWxpemVkKWlmKHUud29ya2luZyl3aW5kb3cuc2V0VGltZW91dChiLDEwKTtlbHNle3ZhciB0PW4od2luZG93KS53aWR0aCgpLGk9bih3aW5kb3cpLmhlaWdodCgpOyhrIT09dHx8ZCE9PWkpJiYoaz10LGQ9aSxmLnJlZHJhd1NsaWRlcigpLHUuc2V0dGluZ3Mub25TbGlkZXJSZXNpemUuY2FsbChmLHUuYWN0aXZlLmluZGV4KSl9fSxzdD1mdW5jdGlvbihuKXt2YXIgdD1oKCk7dS5zZXR0aW5ncy5hcmlhSGlkZGVuJiYhdS5zZXR0aW5ncy50aWNrZXImJih1LmNoaWxkcmVuLmF0dHIoImFyaWEtaGlkZGVuIiwidHJ1ZSIpLHUuY2hpbGRyZW4uc2xpY2UobixuK3QpLmF0dHIoImFyaWEtaGlkZGVuIiwiZmFsc2UiKSl9LHVpPWZ1bmN0aW9uKG4pe3JldHVybiBuPDA/dS5zZXR0aW5ncy5pbmZpbml0ZUxvb3A/bygpLTE6dS5hY3RpdmUuaW5kZXg6bj49bygpP3Uuc2V0dGluZ3MuaW5maW5pdGVMb29wPzA6dS5hY3RpdmUuaW5kZXg6bn07cmV0dXJuIGYuZ29Ub1NsaWRlPWZ1bmN0aW9uKHQsaSl7dmFyIGg9ITAseT0wLHI9e2xlZnQ6MCx0b3A6MH0sbD1udWxsLHAsdyxiLGs7aWYodS5vbGRJbmRleD11LmFjdGl2ZS5pbmRleCx1LmFjdGl2ZS5pbmRleD11aSh0KSwhdS53b3JraW5nJiZ1LmFjdGl2ZS5pbmRleCE9PXUub2xkSW5kZXgpe2lmKHUud29ya2luZz0hMCxoPXUuc2V0dGluZ3Mub25TbGlkZUJlZm9yZS5jYWxsKGYsdS5jaGlsZHJlbi5lcSh1LmFjdGl2ZS5pbmRleCksdS5vbGRJbmRleCx1LmFjdGl2ZS5pbmRleCksdHlwZW9mIGghPSJ1bmRlZmluZWQiJiYhaCl7dS5hY3RpdmUuaW5kZXg9dS5vbGRJbmRleDt1Lndvcmtpbmc9ITE7cmV0dXJufWk9PT0ibmV4dCI/dS5zZXR0aW5ncy5vblNsaWRlTmV4dC5jYWxsKGYsdS5jaGlsZHJlbi5lcSh1LmFjdGl2ZS5pbmRleCksdS5vbGRJbmRleCx1LmFjdGl2ZS5pbmRleCl8fChoPSExKTppPT09InByZXYiJiYodS5zZXR0aW5ncy5vblNsaWRlUHJldi5jYWxsKGYsdS5jaGlsZHJlbi5lcSh1LmFjdGl2ZS5pbmRleCksdS5vbGRJbmRleCx1LmFjdGl2ZS5pbmRleCl8fChoPSExKSk7dS5hY3RpdmUubGFzdD11LmFjdGl2ZS5pbmRleD49bygpLTE7KHUuc2V0dGluZ3MucGFnZXJ8fHUuc2V0dGluZ3MucGFnZXJDdXN0b20pJiZ2KHUuYWN0aXZlLmluZGV4KTt1LnNldHRpbmdzLmNvbnRyb2xzJiZmdCgpO3Uuc2V0dGluZ3MubW9kZT09PSJmYWRlIj8odS5zZXR0aW5ncy5hZGFwdGl2ZUhlaWdodCYmdS52aWV3cG9ydC5oZWlnaHQoKSE9PWMoKSYmdS52aWV3cG9ydC5hbmltYXRlKHtoZWlnaHQ6YygpfSx1LnNldHRpbmdzLmFkYXB0aXZlSGVpZ2h0U3BlZWQpLHUuY2hpbGRyZW4uZmlsdGVyKCI6dmlzaWJsZSIpLmZhZGVPdXQodS5zZXR0aW5ncy5zcGVlZCkuY3NzKHt6SW5kZXg6MH0pLHUuY2hpbGRyZW4uZXEodS5hY3RpdmUuaW5kZXgpLmNzcygiekluZGV4Iix1LnNldHRpbmdzLnNsaWRlWkluZGV4KzEpLmZhZGVJbih1LnNldHRpbmdzLnNwZWVkLGZ1bmN0aW9uKCl7bih0aGlzKS5jc3MoInpJbmRleCIsdS5zZXR0aW5ncy5zbGlkZVpJbmRleCk7YSgpfSkpOih1LnNldHRpbmdzLmFkYXB0aXZlSGVpZ2h0JiZ1LnZpZXdwb3J0LmhlaWdodCgpIT09YygpJiZ1LnZpZXdwb3J0LmFuaW1hdGUoe2hlaWdodDpjKCl9LHUuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHRTcGVlZCksIXUuc2V0dGluZ3MuaW5maW5pdGVMb29wJiZ1LmNhcm91c2VsJiZ1LmFjdGl2ZS5sYXN0P3Uuc2V0dGluZ3MubW9kZT09PSJob3Jpem9udGFsIj8obD11LmNoaWxkcmVuLmVxKHUuY2hpbGRyZW4ubGVuZ3RoLTEpLHI9bC5wb3NpdGlvbigpLHk9dS52aWV3cG9ydC53aWR0aCgpLWwub3V0ZXJXaWR0aCgpKToocD11LmNoaWxkcmVuLmxlbmd0aC11LnNldHRpbmdzLm1pblNsaWRlcyxyPXUuY2hpbGRyZW4uZXEocCkucG9zaXRpb24oKSk6dS5jYXJvdXNlbCYmdS5hY3RpdmUubGFzdCYmaT09PSJwcmV2Ij8odz11LnNldHRpbmdzLm1vdmVTbGlkZXM9PT0xP3Uuc2V0dGluZ3MubWF4U2xpZGVzLXMoKToobygpLTEpKnMoKS0odS5jaGlsZHJlbi5sZW5ndGgtdS5zZXR0aW5ncy5tYXhTbGlkZXMpLGw9Zi5jaGlsZHJlbigiLmJ4LWNsb25lIikuZXEodykscj1sLnBvc2l0aW9uKCkpOmk9PT0ibmV4dCImJnUuYWN0aXZlLmluZGV4PT09MD8ocj1mLmZpbmQoIj4gLmJ4LWNsb25lIikuZXEodS5zZXR0aW5ncy5tYXhTbGlkZXMpLnBvc2l0aW9uKCksdS5hY3RpdmUubGFzdD0hMSk6dD49MCYmKGs9dCpwYXJzZUludChzKCkpLHI9dS5jaGlsZHJlbi5lcShrKS5wb3NpdGlvbigpKSx0eXBlb2YgciE9InVuZGVmaW5lZCI/KGI9dS5zZXR0aW5ncy5tb2RlPT09Imhvcml6b250YWwiPy0oci5sZWZ0LXkpOi1yLnRvcCxlKGIsInNsaWRlIix1LnNldHRpbmdzLnNwZWVkKSk6dS53b3JraW5nPSExKTt1LnNldHRpbmdzLmFyaWFIaWRkZW4mJnN0KHUuYWN0aXZlLmluZGV4KnMoKSl9fSxmLmdvVG9OZXh0U2xpZGU9ZnVuY3Rpb24oKXtpZih1LnNldHRpbmdzLmluZmluaXRlTG9vcHx8IXUuYWN0aXZlLmxhc3Qpe3ZhciBuPXBhcnNlSW50KHUuYWN0aXZlLmluZGV4KSsxO2YuZ29Ub1NsaWRlKG4sIm5leHQiKX19LGYuZ29Ub1ByZXZTbGlkZT1mdW5jdGlvbigpe2lmKHUuc2V0dGluZ3MuaW5maW5pdGVMb29wfHx1LmFjdGl2ZS5pbmRleCE9PTApe3ZhciBuPXBhcnNlSW50KHUuYWN0aXZlLmluZGV4KS0xO2YuZ29Ub1NsaWRlKG4sInByZXYiKX19LGYuc3RhcnRBdXRvPWZ1bmN0aW9uKG4pe3UuaW50ZXJ2YWx8fCh1LmludGVydmFsPXNldEludGVydmFsKGZ1bmN0aW9uKCl7dS5zZXR0aW5ncy5hdXRvRGlyZWN0aW9uPT09Im5leHQiP2YuZ29Ub05leHRTbGlkZSgpOmYuZ29Ub1ByZXZTbGlkZSgpfSx1LnNldHRpbmdzLnBhdXNlKSx1LnNldHRpbmdzLmF1dG9Db250cm9scyYmbiE9PSEwJiZ5KCJzdG9wIikpfSxmLnN0b3BBdXRvPWZ1bmN0aW9uKG4pe3UuaW50ZXJ2YWwmJihjbGVhckludGVydmFsKHUuaW50ZXJ2YWwpLHUuaW50ZXJ2YWw9bnVsbCx1LnNldHRpbmdzLmF1dG9Db250cm9scyYmbiE9PSEwJiZ5KCJzdGFydCIpKX0sZi5nZXRDdXJyZW50U2xpZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdS5hY3RpdmUuaW5kZXh9LGYuZ2V0Q3VycmVudFNsaWRlRWxlbWVudD1mdW5jdGlvbigpe3JldHVybiB1LmNoaWxkcmVuLmVxKHUuYWN0aXZlLmluZGV4KX0sZi5nZXRTbGlkZUVsZW1lbnQ9ZnVuY3Rpb24obil7cmV0dXJuIHUuY2hpbGRyZW4uZXEobil9LGYuZ2V0U2xpZGVDb3VudD1mdW5jdGlvbigpe3JldHVybiB1LmNoaWxkcmVuLmxlbmd0aH0sZi5pc1dvcmtpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdS53b3JraW5nfSxmLnJlZHJhd1NsaWRlcj1mdW5jdGlvbigpe3UuY2hpbGRyZW4uYWRkKGYuZmluZCgiLmJ4LWNsb25lIikpLm91dGVyV2lkdGgobnQoKSk7dS52aWV3cG9ydC5jc3MoImhlaWdodCIsYygpKTt1LnNldHRpbmdzLnRpY2tlcnx8dHQoKTt1LmFjdGl2ZS5sYXN0JiYodS5hY3RpdmUuaW5kZXg9bygpLTEpO3UuYWN0aXZlLmluZGV4Pj1vKCkmJih1LmFjdGl2ZS5sYXN0PSEwKTt1LnNldHRpbmdzLnBhZ2VyJiYhdS5zZXR0aW5ncy5wYWdlckN1c3RvbSYmKGl0KCksdih1LmFjdGl2ZS5pbmRleCkpO3Uuc2V0dGluZ3MuYXJpYUhpZGRlbiYmc3QodS5hY3RpdmUuaW5kZXgqcygpKX0sZi5kZXN0cm95U2xpZGVyPWZ1bmN0aW9uKCl7dS5pbml0aWFsaXplZCYmKHUuaW5pdGlhbGl6ZWQ9ITEsbigiLmJ4LWNsb25lIix0aGlzKS5yZW1vdmUoKSx1LmNoaWxkcmVuLmVhY2goZnVuY3Rpb24oKXtuKHRoaXMpLmRhdGEoIm9yaWdTdHlsZSIpIT09dW5kZWZpbmVkP24odGhpcykuYXR0cigic3R5bGUiLG4odGhpcykuZGF0YSgib3JpZ1N0eWxlIikpOm4odGhpcykucmVtb3ZlQXR0cigic3R5bGUiKX0pLG4odGhpcykuZGF0YSgib3JpZ1N0eWxlIikhPT11bmRlZmluZWQ/dGhpcy5hdHRyKCJzdHlsZSIsbih0aGlzKS5kYXRhKCJvcmlnU3R5bGUiKSk6bih0aGlzKS5yZW1vdmVBdHRyKCJzdHlsZSIpLG4odGhpcykudW53cmFwKCkudW53cmFwKCksdS5jb250cm9scy5lbCYmdS5jb250cm9scy5lbC5yZW1vdmUoKSx1LmNvbnRyb2xzLm5leHQmJnUuY29udHJvbHMubmV4dC5yZW1vdmUoKSx1LmNvbnRyb2xzLnByZXYmJnUuY29udHJvbHMucHJldi5yZW1vdmUoKSx1LnBhZ2VyRWwmJnUuc2V0dGluZ3MuY29udHJvbHMmJiF1LnNldHRpbmdzLnBhZ2VyQ3VzdG9tJiZ1LnBhZ2VyRWwucmVtb3ZlKCksbigiLmJ4LWNhcHRpb24iLHRoaXMpLnJlbW92ZSgpLHUuY29udHJvbHMuYXV0b0VsJiZ1LmNvbnRyb2xzLmF1dG9FbC5yZW1vdmUoKSxjbGVhckludGVydmFsKHUuaW50ZXJ2YWwpLHUuc2V0dGluZ3MucmVzcG9uc2l2ZSYmbih3aW5kb3cpLnVuYmluZCgicmVzaXplIixiKSx1LnNldHRpbmdzLmtleWJvYXJkRW5hYmxlZCYmbihkb2N1bWVudCkudW5iaW5kKCJrZXlkb3duIixldCksbih0aGlzKS5yZW1vdmVEYXRhKCJieFNsaWRlciIpKX0sZi5yZWxvYWRTbGlkZXI9ZnVuY3Rpb24odCl7dCE9PXVuZGVmaW5lZCYmKHI9dCk7Zi5kZXN0cm95U2xpZGVyKCk7ZygpO24oZikuZGF0YSgiYnhTbGlkZXIiLHRoaXMpfSxnKCksbihmKS5kYXRhKCJieFNsaWRlciIsdGhpcyksdGhpc319fShqUXVlcnkp","CacheKey":"dK-dA1uVtynOXDH9tX2EQEwSlqo"}